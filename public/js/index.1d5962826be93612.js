/*! For license information please see index.1d5962826be93612.js.LICENSE.txt */
(()=>{var e,t={2:(e,t,r)=>{var n=r(2199),a=r(4664),o=r(5950);e.exports=function(e){return n(e,o,a)}},14:(e,t,r)=>{var n=r(5389),a=r(5765);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},79:(e,t,r)=>{var n=r(3702),a=r(80),o=r(4739),i=r(8655),s=r(1175);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},80:(e,t,r)=>{var n=r(6025),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},104:(e,t,r)=>{var n=r(3661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},124:(e,t,r)=>{var n=r(9325);e.exports=function(){return n.Date.now()}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,o||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,o=n.length,i=new Array(o);a<o;a++)i[a]=n[a].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,o,i){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,o),!0;case 6:return u.fn.call(u.context,t,n,a,o,i),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,a);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||i(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||a&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},270:(e,t,r)=>{var n=r(7068),a=r(346);e.exports=function e(t,r,o,i,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!=t&&r!=r:n(t,r,o,i,e,s))}},289:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},495:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(5556)),a=s(r(6540)),o=s(r(961)),i=r(1345);r(554);function s(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var f="exiting";t.EXITING=f;var h=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var a,o=r.transitionGroup,i=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(a=l,n.appearStatus=u):a=d:a=t.unmountOnExit||t.mountOnEnter?c:l,n.state={status:a},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==u&&r!==d&&(t=u):r!==u&&r!==d||(t=f)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=o.default.findDOMNode(this);t===u?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},i.performEnter=function(e,t){var r=this,n=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),i=a?o.appear:o.enter;t||n?(this.props.onEnter(e,a),this.safeSetState({status:u},(function(){r.props.onEntering(e,a),r.onTransitionEnd(e,i,(function(){r.safeSetState({status:d},(function(){r.props.onEntered(e,a)}))}))}))):this.safeSetState({status:d},(function(){r.props.onEntered(e)}))},i.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var o=a.default.Children.only(r);return a.default.cloneElement(o,n)},n}(a.default.Component);function p(){}h.contextTypes={transitionGroup:n.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,i.polyfill)(h);t.default=m},554:(e,t,r)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r(5556))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=l;var n,a=r(1894),o=(n=a)&&n.__esModule?n:{default:n};function i(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var r=(0,o.default)(e.left,e.right,t),n=i(r.left,t),a=i(r.right,t);"MathExpression"===n.type&&"MathExpression"===a.type&&("/"===n.operator&&"*"===a.operator||"-"===n.operator&&"+"===a.operator||"*"===n.operator&&"/"===a.operator||"+"===n.operator&&"-"===a.operator)&&(s(n.right,a.right)?r=(0,o.default)(n.left,a.left,t):s(n.right,a.left)&&(r=(0,o.default)(n.left,a.right,t)),n=i(r.left,t),a=i(r.right,t));return e.left=n,e.right=a,e}(e,t),e.operator){case"+":case"-":return function(e,t){var r=e,n=r.left,a=r.right,o=r.operator;if("CssVariable"===n.type||"CssVariable"===a.type)return e;if(0===a.value)return n;if(0===n.value&&"+"===o)return a;if(0===n.value&&"-"===o)return u(a);n.type===a.type&&c(n.type)&&((e=Object.assign({},n)).value="+"===o?n.value+a.value:n.value-a.value);if(c(n.type)&&("+"===a.operator||"-"===a.operator)&&"MathExpression"===a.type){if(n.type===a.left.type)return(e=Object.assign({},e)).left=i({type:"MathExpression",operator:o,left:n,right:a.left},t),e.right=a.right,e.operator="-"===o?l(a.operator):a.operator,i(e,t);if(n.type===a.right.type)return(e=Object.assign({},e)).left=i({type:"MathExpression",operator:"-"===o?l(a.operator):a.operator,left:n,right:a.right},t),e.right=a.left,i(e,t)}if("MathExpression"===n.type&&("+"===n.operator||"-"===n.operator)&&c(a.type)){if(a.type===n.left.type)return(e=Object.assign({},n)).left=i({type:"MathExpression",operator:o,left:n.left,right:a},t),i(e,t);if(a.type===n.right.type)return e=Object.assign({},n),"-"===n.operator?(e.right=i({type:"MathExpression",operator:"-"===o?"+":"-",left:a,right:n.right},t),e.operator="-"===o?"-":"+"):e.right=i({type:"MathExpression",operator:o,left:n.right,right:a},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),i(e,t)}return e}(e,t);case"/":return function(e,t){if(!c(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return c(e.left.left.type)&&c(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,i(e.left,t)):e;if(c(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(c(e.left.left.type)&&c(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(c(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(c(e.right.left.type)&&c(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&c(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?i(e.value,t):e}function s(e,t){return e.type===t.type&&e.value===t.value}function c(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function l(e){return"+"===e?"-":"+"}function u(e){return c(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=u(e.left),e.right=u(e.right)),e}t.default=i},583:(e,t,r)=>{var n=r(7237),a=r(7255),o=r(8586),i=r(7797);e.exports=function(e){return o(e)?n(i(e)):a(e)}},598:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},631:(e,t,r)=>{var n=r(8077),a=r(9326);e.exports=function(e,t){return null!=e&&a(e,t,n)}},641:(e,t,r)=>{var n=r(6649),a=r(5950);e.exports=function(e,t){return e&&n(e,t,a)}},659:(e,t,r)=>{var n=r(1873),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},689:(e,t,r)=>{var n=r(2),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,i,s){var c=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!c)return!1;for(var d=u;d--;){var f=l[d];if(!(c?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var v=e[f=l[d]],x=t[f];if(o)var b=c?o(x,v,f,t,e,s):o(v,x,f,e,t,s);if(!(void 0===b?v===x||i(v,x,r,o,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var y=e.constructor,j=t.constructor;y==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j||(m=!1)}return s.delete(e),s.delete(t),m}},695:(e,t,r)=>{var n=r(8096),a=r(2428),o=r(6449),i=r(3656),s=r(361),c=r(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&a(e),d=!r&&!u&&i(e),f=!r&&!u&&!d&&c(e),h=r||u||d||f,p=h?n(e.length,String):[],m=p.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},756:(e,t,r)=>{var n=r(3805);e.exports=function(e){return e==e&&!n(e)}},776:(e,t,r)=>{var n=r(756),a=r(5950);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,n(i)]}return t}},788:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,r){e.classList?e.classList.remove(r):"string"==typeof e.className?e.className=t(e.className,r):e.setAttribute("class",t(e.className&&e.className.baseVal||"",r))}},909:(e,t,r)=>{var n=r(641),a=r(8329)(n);e.exports=a},916:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},945:(e,t,r)=>{var n=r(79),a=r(8223),o=r(3661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(i)}return r.set(e,t),this.size=r.size,this}},961:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(2551)},975:(e,t)=>{var r=function(){function e(e,t){var r;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var n=t.exception;this.message=n.message||e,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(e).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}function t(e,t,r){r=r||0;for(var n=0;n<t;n++)this.push(e),e+=r}function r(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function n(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];"function"==typeof a?(r++,a.apply(t,e[r])):t.push(a)}return t}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var a={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var r in t)if(t[r]===e)return r;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var r=this.TERROR,n=[],a={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var o in this.table[e])if((o=+o)!==r){var i=t?o:this.describeSymbol(o);i&&!a[i]&&(n.push(i),a[i]=!0)}return n},productions_:function(e){for(var t=[],r=e.pop,n=e.rule,a=0,o=r.length;a<o;a++)t.push([r[a],n[a]]);return t}({pop:n([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:n([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,r){var n=this.yy;n.parser,n.lexer;switch(e){case 0:case 6:this.$=r[t-1];break;case 1:return this.$=r[t-1],r[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:r[t-1],left:r[t-2],right:r[t]};break;case 7:this.$={type:"Calc",value:r[t-1]};break;case 8:this.$={type:"Calc",value:r[t-1],prefix:r[t-5]};break;case 9:case 10:case 11:this.$=r[t];break;case 12:this.$={type:"Value",value:parseFloat(r[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(r[t])};break;case 14:this.$={type:"CssVariable",value:r[t-1]};break;case 15:this.$={type:"CssVariable",value:r[t-3],fallback:r[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(r[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(r[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(r[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(r[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(r[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(r[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(r[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(r[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(r[t]),unit:"%"};break;case 30:var a=r[t];a.value*=-1,this.$=a}},table:function(e){for(var t=[],r=e.len,n=e.symbol,a=e.type,o=e.state,i=e.mode,s=e.goto,c=0,l=r.length;c<l;c++){for(var u=r[c],d={},f=0;f<u;f++){var h=n.shift();switch(a.shift()){case 2:d[h]=[i.shift(),s.shift()];break;case 0:d[h]=o.shift();break;default:d[h]=[3]}}t.push(d)}return t}({len:n([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],r,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,r,[37,3],r,[20,3],5,0,0]),symbol:n([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],r,[30,19],r,[29,4],7,4,10,11,r,[22,14],r,[19,3],r,[43,22],r,[23,69],r,[139,4],8,r,[51,24],4,r,[138,15],13,r,[186,5],8,r,[6,6],r,[5,5],9,8,14,r,[159,47],r,[60,10]]),type:n([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],r,[22,19],r,[43,42],r,[23,70],r,[28,25],r,[45,25],r,[113,54]]),state:n([1,2,8,6,7,30,r,[4,3],33,37,r,[5,3],38,r,[4,3],39,r,[4,3],40,r,[4,3],42,r,[21,4],50,r,[5,3],51,r,[4,3]]),mode:n([t,[1,179],t,[2,3],r,[5,5],r,[6,4],t,[1,57]]),goto:n([5,3,4,24,t,[9,15,1],t,[25,5,1],r,[24,19],31,35,32,34,r,[18,14],36,r,[38,19],r,[19,57],r,[118,4],41,r,[24,19],43,35,r,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,r,[53,4],t,[45,5,1],r,[100,42],52,r,[5,4],53])}),defaultActions:function(e){for(var t={},r=e.idx,n=e.goto,a=0,o=r.length;a<o;a++){t[r[a]]=n[a]}return t}({idx:n([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:n([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,r){if(!t.recoverable)throw"function"==typeof this.trace&&this.trace(e),r||(r=this.JisonParserError),new r(e,t);"function"==typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,r=this,n=new Array(128),a=new Array(128),o=new Array(128),i=this.table,s=0,c=0,l=(this.TERROR,this.EOF),u=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var d={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function f(){var e=t.fastLex();return"number"!=typeof e&&(e=r.symbols_[e]||e),e||l}"function"!=typeof assert||assert,this.yyGetSharedState=function(){return d},function(e,t){for(var r in t)void 0===e[r]&&Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}(d,this.yy),d.lexer=t,d.parser=this,"function"==typeof d.parseError?this.parseError=function(e,t,r){return r||(r=this.JisonParserError),d.parseError.call(this,e,t,r)}:this.parseError=this.originalParseError,"function"==typeof d.quoteName?this.quoteName=function(e){return d.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,r,i){var c,l;r&&((d.post_parse||this.post_parse)&&(l=this.constructParseErrorInfo(null,null,null,!1)),d.post_parse&&void 0!==(c=d.post_parse.call(this,d,e,l))&&(e=c),this.post_parse&&void 0!==(c=this.post_parse.call(this,d,e,l))&&(e=c),l&&l.destroy&&l.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(i),d&&(d.lexer=void 0,d.parser=void 0,t.yy===d&&(t.yy=void 0)),d=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,n.length=0,a.length=0,o.length=0,s=0,!i){for(var u=this.__error_infos.length-1;u>=0;u--){var f=this.__error_infos[u];f&&"function"==typeof f.destroy&&f.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,r,i,l){var u={errStr:e,exception:r,text:t.match,value:t.yytext,token:this.describeSymbol(c)||c,token_id:c,line:t.yylineno,expected:i,recoverable:l,state:h,action:p,new_state:y,symbol_stack:n,state_stack:a,value_stack:o,stack_pointer:s,yy:d,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(u),u};var h,p,m,g,v,x,b,y,j=function(){var e=t.lex();return"number"!=typeof e&&(e=r.symbols_[e]||e),e||l},w={$:!0,_$:void 0,yy:d},N=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,d),"function"==typeof t.canIUse)t.canIUse().fastLex&&(j=f);for(o[s]=null,a[s]=0,n[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,d),d.pre_parse&&d.pre_parse.call(this,d),y=a[s-1];;){if(h=y,this.defaultActions[h])p=2,y=this.defaultActions[h];else if(c||(c=j()),g=i[h]&&i[h][c]||u,y=g[1],!(p=g[0])){var _,C=this.describeSymbol(c)||c,E=this.collect_expected_token_set(h);_="number"==typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"==typeof t.showPosition&&(_+="\n"+t.showPosition(69,10)+"\n"),E.length?_+="Expecting "+E.join(", ")+", got unexpected "+C:_+="Unexpected "+C,v=this.constructParseErrorInfo(_,null,E,!1),void 0!==(m=this.parseError(v.errStr,v,this.JisonParserError))&&(N=m);break}switch(p){default:if(p instanceof Array){v=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+h+", token: "+c,null,null,!1),void 0!==(m=this.parseError(v.errStr,v,this.JisonParserError))&&(N=m);break}v=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),void 0!==(m=this.parseError(v.errStr,v,this.JisonParserError))&&(N=m);break;case 1:n[s]=c,o[s]=t.yytext,a[s]=y,++s,c=0;continue;case 2:if(x=(b=this.productions_[y-1])[1],void 0!==(m=this.performAction.call(w,y,s-1,o))){N=m;break}s-=x;var S=b[0];n[s]=S,o[s]=w.$,y=i[a[s-1]][S],a[s]=y,++s;continue;case 3:-2!==s&&(N=!0,s--,void 0!==o[s]&&(N=o[s]))}break}}catch(e){if(e instanceof this.JisonParserError)throw e;if(t&&"function"==typeof t.JisonLexerError&&e instanceof t.JisonLexerError)throw e;v=this.constructParseErrorInfo("Parsing aborted due to exception.",e,null,!1),N=!1,void 0!==(m=this.parseError(v.errStr,v,this.JisonParserError))&&(N=m)}finally{N=this.cleanupAfterParse(N,!0,!0),this.__reentrant_call_depth--}return N}};a.originalParseError=a.parseError,a.originalQuoteName=a.quoteName;var o=function(){function e(e,t){var r;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var n=t.exception;this.message=n.message||e,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(e).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,r){if(e=""+e,null==r&&(r=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&r)if("function"==typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"==typeof this.showPosition){var n=this.showPosition();n&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==n[0]?e+="\n"+n:e+=n)}var a={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(a),a},parseError:function(e,t,r){if(r||(r=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"==typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,r)||this.ERROR;if("function"==typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,r)||this.ERROR}throw new r(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var r=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),n=Array.prototype.slice.call(arguments,1);return n.length&&(r.extra_error_attributes=n),this.parseError(r.errStr,r,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var r=this.__error_infos[t];r&&"function"==typeof r.destroy&&r.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var r=this.rules,n=0,a=r.length;n<a;n++){"number"==typeof(f=r[n])&&(r[n]=r[f])}var o=this.conditions;for(var i in o){var s=o[i],c=s.rules,l=(a=c.length,new Array(a+1)),u=new Array(a+1);for(n=0;n<a;n++){var d=c[n],f=r[d];l[n+1]=f,u[n+1]=d}s.rules=u,s.__rule_regexes=l,s.__rule_count=a}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var r=e.call(this,this._input,t);return"string"!=typeof r?r&&(this._input=""+r):this._input=r,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,r=!1;if("\n"===e)r=!0;else if("\r"===e){r=!0;var n=this._input[1];"\n"===n&&(t++,e+=n,this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,this.yylloc.range[1]++)}return r?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),r.length>1){this.yylineno-=r.length-1,this.yylloc.last_line=this.yylineno+1;var n=this.match,a=n.split(/(?:\r\n?|\n)/g);1===a.length&&(a=(n=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=a[a.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var r=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=r.length:e||(e=20),t<0?t=r.length:t||(t=1);var n=(r=r.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(r=(n=n.slice(-t)).join("\n")).length>e&&(r="..."+r.substr(-e)),r},upcomingInput:function(e,t){var r=this.match;e<0?e=r.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),r.length<2*e+2&&(r+=this._input.substring(0,2*e+2));var n=r.replace(/\r\n|\r/g,"\n").split("\n");return(r=(n=n.slice(0,t)).join("\n")).length>e&&(r=r.substring(0,e)+"..."),r},showPosition:function(e,t){var r=this.pastInput(e).replace(/\s/g," "),n=new Array(r.length+1).join("-");return r+this.upcomingInput(t).replace(/\s/g," ")+"\n"+n+"^"},deriveLocationInfo:function(e,t,r,n){var a={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(a.first_line=0|e.first_line,a.last_line=0|e.last_line,a.first_column=0|e.first_column,a.last_column=0|e.last_column,e.range&&(a.range[0]=0|e.range[0],a.range[1]=0|e.range[1])),(a.first_line<=0||a.last_line<a.first_line)&&(a.first_line<=0&&t&&(a.first_line=0|t.last_line,a.first_column=0|t.last_column,t.range&&(a.range[0]=0|e.range[1])),(a.last_line<=0||a.last_line<a.first_line)&&r&&(a.last_line=0|r.first_line,a.last_column=0|r.first_column,r.range&&(a.range[1]=0|e.range[0])),a.first_line<=0&&n&&(a.last_line<=0||n.last_line<=a.last_line)&&(a.first_line=0|n.first_line,a.first_column=0|n.first_column,n.range&&(a.range[0]=0|n.range[0])),a.last_line<=0&&n&&(a.first_line<=0||n.first_line>=a.first_line)&&(a.last_line=0|n.last_line,a.last_column=0|n.last_column,n.range&&(a.range[1]=0|n.range[1]))),a.last_line<=0&&(a.first_line<=0?(a.first_line=this.yylloc.first_line,a.last_line=this.yylloc.last_line,a.first_column=this.yylloc.first_column,a.last_column=this.yylloc.last_column,a.range[0]=this.yylloc.range[0],a.range[1]=this.yylloc.range[1]):(a.last_line=this.yylloc.last_line,a.last_column=this.yylloc.last_column,a.range[1]=this.yylloc.range[1])),a.first_line<=0&&(a.first_line=a.last_line,a.first_column=0,a.range[1]=a.range[0]),a.first_column<0&&(a.first_column=0),a.last_column<0&&(a.last_column=a.first_column>0?a.first_column:80),a},prettyPrintRange:function(e,t,r){e=this.deriveLocationInfo(e,t,r);var n=(this.matched+this._input).split("\n"),a=Math.max(1,t?t.first_line:e.first_line-3),o=Math.max(1,r?r.last_line:e.last_line+1),i=1+Math.log10(1|o)|0,s=new Array(i).join(" "),c=[],l=n.slice(a-1,o+1).map((function(t,r){var n=r+a,o=(s+n).substr(-i)+": "+t,l=new Array(i+1).join("^"),u=3,d=0;(n===e.first_line?(u+=e.first_column,d=Math.max(2,(n===e.last_line?e.last_column:t.length)-e.first_column+1)):n===e.last_line?d=Math.max(2,e.last_column+1):n>e.first_line&&n<e.last_line&&(d=Math.max(2,t.length+1)),d)&&(o+="\n"+l+new Array(u).join(".")+new Array(d).join("^"),t.trim().length>0&&c.push(r));return o=o.replace(/\t/g," ")}));if(c.length>4){var u=c[1]+1,d=c[c.length-2]-1,f=new Array(i+1).join(" ")+"  (...continued...)";f+="\n"+new Array(i+1).join("-")+"  (---------------)",l.splice(u,d-u+1,f)}return l.join("\n")},describeYYLLOC:function(e,t){var r,n=e.first_line,a=e.last_line,o=e.first_column,i=e.last_column;if(0===a-n?(r="line "+n+", ",r+=i-o<=1?"column "+o:"columns "+o+" .. "+i):r="lines "+n+"(column "+o+") .. "+a+"(column "+i+")",e.range&&t){var s=e.range[0],c=e.range[1]-1;r+=c<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+c+"}"}return r},test_match:function(e,t){var r,n,a,o,i;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),i=(o=e[0]).length,(n=o.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=n.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=n[n.length-1].length):this.yylloc.last_column+=i,this.yytext+=o,this.match+=o,this.matched+=o,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=i,this.offset+=i,this._more=!1,this._backtrack=!1,this._input=this._input.slice(i),r=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var s in a)this[s]=a[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(r=this._signaled_error_token,this._signaled_error_token=!1,r)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||this.clear();var a=this.__currentRuleSet__;if(!(a||(a=this.__currentRuleSet__=this._currentRules())&&a.rules)){var o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));var i=this.constructLexErrorInfo("Internal lexer engine error"+o+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(i.errStr,i,this.JisonLexerError)||this.ERROR}for(var s=a.rules,c=a.__rule_regexes,l=a.__rule_count,u=1;u<=l;u++)if((r=this._input.match(c[u]))&&(!t||r[0].length>t[0].length)){if(t=r,n=u,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,s[u])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[n]))&&e;if(this._input){o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));i=this.constructLexErrorInfo("Lexical error"+o+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var d=this._input,f=this.topState(),h=this.conditionStack.length;return(e=this.parseError(i.errStr,i,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||d!==this._input||f!==this.topState()||h!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"==typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"==typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"==typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"==typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"==typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"==typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"==typeof this.pre_lex||"function"==typeof this.options.pre_lex||this.yy&&"function"==typeof this.yy.pre_lex||this.yy&&"function"==typeof this.yy.post_lex||"function"==typeof this.options.post_lex||"function"==typeof this.post_lex)&&"function"==typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,r){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function i(){this.yy={}}return a.lexer=o,i.prototype=a,a.Parser=i,new i}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)}},1020:(e,t,r)=>{"use strict";r(5228);var n=r(6540),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,o={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:l,ref:u,props:o,_owner:i.current}}t.jsx=l,t.jsxs=l},1033:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1042:(e,t,r)=>{var n=r(6110)(Object,"create");e.exports=n},1074:e=>{e.exports=function(e){return e.split("")}},1175:(e,t,r)=>{var n=r(6025);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1345:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,i=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>i}),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},1369:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;i(r(5556));var n=i(r(6540)),a=r(961),o=i(r(2312));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.handleLifecycle=function(e,t,r){var o,i=this.props.children,s=n.default.Children.toArray(i)[t];s.props[e]&&(o=s.props)[e].apply(o,r),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children","in"]),i=n.default.Children.toArray(t),s=i[0],c=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,n.default.createElement(o.default,a,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(n.default.Component);s.propTypes={};var c=s;t.default=c,e.exports=t.default},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,r)=>{var n=r(79);e.exports=function(){this.__data__=new n,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,r)=>{var n=r(7400);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},1549:(e,t,r)=>{var n=r(2032),a=r(3862),o=r(6721),i=r(2749),s=r(5749);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1684:(e,t,r)=>{var n=r(3599),a=r(6176),o=r(3488);e.exports=function(e){return e&&e.length?n(e,o,a):void 0}},1741:(e,t,r)=>{var n=r(8023);e.exports=function(e){return n(e)&&e!=+e}},1769:(e,t,r)=>{var n=r(6449),a=r(8586),o=r(1802),i=r(3222);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:o(i(e))}},1799:(e,t,r)=>{var n=r(7217),a=r(270);e.exports=function(e,t,r,o){var i=r.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var l=r[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=r[i])[0],d=e[u],f=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(o)var p=o(d,f,u,e,t,h);if(!(void 0===p?a(f,d,3,o,h):p))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},1802:(e,t,r)=>{var n=r(2224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(o,"$1"):r||e)})),t}));e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},1873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},1882:(e,t,r)=>{var n=r(2552),a=r(3805);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6988),o=(n=a)&&n.__esModule?n:{default:n};t.default=function(e,t,r){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,r){t.type===e.type&&(t={type:e.type,value:(0,o.default)(t.value,t.unit,e.unit,r),unit:e.unit});return{left:e,right:t}}(e,t,r);default:return{left:e,right:t}}},e.exports=t.default},1928:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},1986:(e,t,r)=>{var n=r(1873),a=r(7828),o=r(5288),i=r(5911),s=r(317),c=r(4247),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=c),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var g=i(h(e),h(t),n,l,d,f);return f.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2006:(e,t,r)=>{var n=r(5389),a=r(4894),o=r(5950);e.exports=function(e){return function(t,r,i){var s=Object(t);if(!a(t)){var c=n(r,3);t=o(t),r=function(e){return c(s[e],e,s)}}var l=e(t,r,i);return l>-1?s[c?t[l]:l]:void 0}}},2012:(e,t,r)=>{"use strict";var n=r(9516),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},2032:(e,t,r)=>{var n=r(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2054:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[o,i,s].join("|")+")"+l+c+")*"),d="(?:"+[o+n+"?",n,i,s,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},2199:(e,t,r)=>{var n=r(4528),a=r(6449);e.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},2224:(e,t,r)=>{var n=r(104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},2312:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(5556)),a=s(r(6540)),o=r(1345),i=r(2958);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,r;function n(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(l(l(n)));return n.state={handleExited:a,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,n):(0,i.getNextChildMapping)(e,r,n),firstRender:!1}},o.handleExited=function(e,t){var r=(0,i.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=c({},t.children);return delete r[e.key],{children:r}})))},o.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["component","childFactory"]),o=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?o:a.default.createElement(t,n,o)},n}(a.default.Component);d.childContextTypes={transitionGroup:n.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,o.polyfill)(d);t.default=f,e.exports=t.default},2404:(e,t,r)=>{var n=r(270);e.exports=function(e,t){return n(e,t)}},2426:(e,t,r)=>{var n=r(4248),a=r(5389),o=r(916),i=r(6449),s=r(6800);e.exports=function(e,t,r){var c=i(e)?n:o;return r&&s(e,t,r)&&(t=void 0),c(e,a(t,3))}},2428:(e,t,r)=>{var n=r(7534),a=r(346),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},2505:(e,t,r)=>{e.exports=r(8015)},2507:(e,t,r)=>{var n=r(8754),a=r(9698),o=r(3912),i=r(3222);e.exports=function(e){return function(t){t=i(t);var r=a(t)?o(t):void 0,s=r?r[0]:t.charAt(0),c=r?n(r,1).join(""):t.slice(1);return s[e]()+c}}},2523:e=>{e.exports=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},2543:function(e,t,r){var n;e=r.nmd(e),function(){var a,o="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,u=64,d=128,f=256,h=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",u],["rearg",f]],x="[object Arguments]",b="[object Array]",y="[object Boolean]",j="[object Date]",w="[object Error]",N="[object Function]",_="[object GeneratorFunction]",C="[object Map]",E="[object Number]",S="[object Object]",A="[object Promise]",I="[object RegExp]",O="[object Set]",T="[object String]",P="[object Symbol]",k="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",F="[object Float64Array]",L="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Q=RegExp(X.source),Z=RegExp($.source),K=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ae.source),ie=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,xe=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['’]",Pe="["+_e+"]",ke="["+Oe+"]",De="["+Ce+"]",Me="\\d+",Re="["+Ee+"]",Fe="["+Se+"]",Le="[^"+_e+Oe+Me+Ee+Se+Ae+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^"+_e+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Ae+"]",He="\\u200d",qe="(?:"+Fe+"|"+Le+")",We="(?:"+Ge+"|"+Le+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+De+"|"+Be+")"+"?",Qe="["+Ie+"]?",Ze=Qe+$e+("(?:"+He+"(?:"+[Ue,ze,Ve].join("|")+")"+Qe+$e+")*"),Ke="(?:"+[Re,ze,Ve].join("|")+")"+Ze,Je="(?:"+[Ue+De+"?",De,ze,Ve,Pe].join("|")+")",et=RegExp(Te,"g"),tt=RegExp(De,"g"),rt=RegExp(Be+"(?="+Be+")|"+Je+Ze,"g"),nt=RegExp([Ge+"?"+Fe+"+"+Ye+"(?="+[ke,Ge,"$"].join("|")+")",We+"+"+Xe+"(?="+[ke,Ge+qe,"$"].join("|")+")",Ge+"?"+qe+"+"+Ye,Ge+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ke].join("|"),"g"),at=RegExp("["+He+_e+Ce+Ie+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[R]=ct[F]=ct[L]=ct[B]=ct[U]=ct[z]=ct[V]=ct[G]=ct[H]=!0,ct[x]=ct[b]=ct[D]=ct[y]=ct[M]=ct[j]=ct[w]=ct[N]=ct[C]=ct[E]=ct[S]=ct[I]=ct[O]=ct[T]=ct[k]=!1;var lt={};lt[x]=lt[b]=lt[D]=lt[M]=lt[y]=lt[j]=lt[R]=lt[F]=lt[L]=lt[B]=lt[U]=lt[C]=lt[E]=lt[S]=lt[I]=lt[O]=lt[T]=lt[P]=lt[z]=lt[V]=lt[G]=lt[H]=!0,lt[w]=lt[N]=lt[k]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,xt=vt&&vt.exports===gt,bt=xt&&ht.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),jt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,Nt=yt&&yt.isMap,_t=yt&&yt.isRegExp,Ct=yt&&yt.isSet,Et=yt&&yt.isTypedArray;function St(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function At(e,t,r,n){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(n,i,r(i),e)}return n}function It(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Tt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}function kt(e,t){return!!(null==e?0:e.length)&&Gt(e,t,0)>-1}function Dt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Rt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Ft(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}function Lt(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ut=Yt("length");function zt(e,t,r){var n;return r(e,(function(e,r,a){if(t(e,r,a))return n=r,!1})),n}function Vt(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Gt(e,t,r){return t==t?function(e,t,r){var n=r-1,a=e.length;for(;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):Vt(e,qt,r)}function Ht(e,t,r,n){for(var a=r-1,o=e.length;++a<o;)if(n(e[a],t))return a;return-1}function qt(e){return e!=e}function Wt(e,t){var r=null==e?0:e.length;return r?Qt(e,t)/r:m}function Yt(e){return function(t){return null==t?a:t[e]}}function Xt(e){return function(t){return null==e?a:e[t]}}function $t(e,t,r,n,a){return a(e,(function(e,a,o){r=n?(n=!1,e):t(r,e,a,o)})),r}function Qt(e,t){for(var r,n=-1,o=e.length;++n<o;){var i=t(e[n]);i!==a&&(r=r===a?i:r+i)}return r}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Kt(e){return e?e.slice(0,mr(e)+1).replace(ie,""):e}function Jt(e){return function(t){return e(t)}}function er(e,t){return Mt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Gt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Gt(t,e[r],0)>-1;);return r}var ar=Xt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),or=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+ut[e]}function sr(e){return at.test(e)}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lr(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];i!==t&&i!==s||(e[r]=s,o[a++]=r)}return o}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ut(e)}function pr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function mr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gr=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vr=function e(t){var r,n=(t=null==t?mt:vr.defaults(mt.Object(),t,vr.pick(mt,it))).Array,se=t.Date,_e=t.Error,Ce=t.Function,Ee=t.Math,Se=t.Object,Ae=t.RegExp,Ie=t.String,Oe=t.TypeError,Te=n.prototype,Pe=Ce.prototype,ke=Se.prototype,De=t["__core-js_shared__"],Me=Pe.toString,Re=ke.hasOwnProperty,Fe=0,Le=(r=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Be=ke.toString,Ue=Me.call(Se),ze=mt._,Ve=Ae("^"+Me.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=xt?t.Buffer:a,He=t.Symbol,qe=t.Uint8Array,We=Ge?Ge.allocUnsafe:a,Ye=lr(Se.getPrototypeOf,Se),Xe=Se.create,$e=ke.propertyIsEnumerable,Qe=Te.splice,Ze=He?He.isConcatSpreadable:a,Ke=He?He.iterator:a,Je=He?He.toStringTag:a,rt=function(){try{var e=ho(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ut=se&&se.now!==mt.Date.now&&se.now,ht=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ee.ceil,gt=Ee.floor,vt=Se.getOwnPropertySymbols,bt=Ge?Ge.isBuffer:a,yt=t.isFinite,Ut=Te.join,Xt=lr(Se.keys,Se),xr=Ee.max,br=Ee.min,yr=se.now,jr=t.parseInt,wr=Ee.random,Nr=Te.reverse,_r=ho(t,"DataView"),Cr=ho(t,"Map"),Er=ho(t,"Promise"),Sr=ho(t,"Set"),Ar=ho(t,"WeakMap"),Ir=ho(Se,"create"),Or=Ar&&new Ar,Tr={},Pr=Bo(_r),kr=Bo(Cr),Dr=Bo(Er),Mr=Bo(Sr),Rr=Bo(Ar),Fr=He?He.prototype:a,Lr=Fr?Fr.valueOf:a,Br=Fr?Fr.toString:a;function Ur(e){if(rs(e)&&!qi(e)&&!(e instanceof Hr)){if(e instanceof Gr)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new Gr(e)}var zr=function(){function e(){}return function(t){if(!ts(t))return{};if(Xe)return Xe(t);e.prototype=t;var r=new e;return e.prototype=a,r}}();function Vr(){}function Gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Yr;++t<r;)this.add(e[t])}function $r(e){var t=this.__data__=new Wr(e);this.size=t.size}function Qr(e,t){var r=qi(e),n=!r&&Hi(e),a=!r&&!n&&$i(e),o=!r&&!n&&!a&&us(e),i=r||n||a||o,s=i?Zt(e.length,Ie):[],c=s.length;for(var l in e)!t&&!Re.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yo(l,c))||s.push(l);return s}function Zr(e){var t=e.length;return t?e[$n(0,t-1)]:a}function Kr(e,t){return Ro(Oa(e),cn(t,0,e.length))}function Jr(e){return Ro(Oa(e))}function en(e,t,r){(r!==a&&!zi(e[t],r)||r===a&&!(t in e))&&on(e,t,r)}function tn(e,t,r){var n=e[t];Re.call(e,t)&&zi(n,r)&&(r!==a||t in e)||on(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(zi(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,a,o){t(n,e,r(e),o)})),n}function an(e,t){return e&&Ta(t,Ps(t),e)}function on(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var r=-1,o=t.length,i=n(o),s=null==e;++r<o;)i[r]=s?a:Ss(e,t[r]);return i}function cn(e,t,r){return e==e&&(r!==a&&(e=e<=r?e:r),t!==a&&(e=e>=t?e:t)),e}function ln(e,t,r,n,o,i){var s,c=1&t,l=2&t,u=4&t;if(r&&(s=o?r(e,n,o,i):r(e)),s!==a)return s;if(!ts(e))return e;var d=qi(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return Oa(e,s)}else{var f=go(e),h=f==N||f==_;if($i(e))return _a(e,c);if(f==S||f==x||h&&!o){if(s=l||h?{}:xo(e),!c)return l?function(e,t){return Ta(e,mo(e),t)}(e,function(e,t){return e&&Ta(t,ks(t),e)}(s,e)):function(e,t){return Ta(e,po(e),t)}(e,an(s,e))}else{if(!lt[f])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case D:return Ca(e);case y:case j:return new n(+e);case M:return function(e,t){var r=t?Ca(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case F:case L:case B:case U:case z:case V:case G:case H:return Ea(e,r);case C:return new n;case E:case T:return new n(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new n;case P:return a=e,Lr?Se(Lr.call(a)):{}}var a}(e,f,c)}}i||(i=new $r);var p=i.get(e);if(p)return p;i.set(e,s),ss(e)?e.forEach((function(n){s.add(ln(n,t,r,n,e,i))})):ns(e)&&e.forEach((function(n,a){s.set(a,ln(n,t,r,a,e,i))}));var m=d?a:(u?l?oo:ao:l?ks:Ps)(e);return It(m||e,(function(n,a){m&&(n=e[a=n]),tn(s,a,ln(n,t,r,a,e,i))})),s}function un(e,t,r){var n=r.length;if(null==e)return!n;for(e=Se(e);n--;){var o=r[n],i=t[o],s=e[o];if(s===a&&!(o in e)||!i(s))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Oe(o);return Po((function(){e.apply(a,r)}),t)}function fn(e,t,r,n){var a=-1,o=kt,i=!0,s=e.length,c=[],l=t.length;if(!s)return c;r&&(t=Mt(t,Jt(r))),n?(o=Dt,i=!1):t.length>=200&&(o=tr,i=!1,t=new Xr(t));e:for(;++a<s;){var u=e[a],d=null==r?u:r(u);if(u=n||0!==u?u:0,i&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;c.push(u)}else o(t,d,n)||c.push(u)}return c}Ur.templateSettings={escape:K,evaluate:J,interpolate:ee,variable:"",imports:{_:Ur}},Ur.prototype=Vr.prototype,Ur.prototype.constructor=Ur,Gr.prototype=zr(Vr.prototype),Gr.prototype.constructor=Gr,Hr.prototype=zr(Vr.prototype),Hr.prototype.constructor=Hr,qr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},qr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qr.prototype.get=function(e){var t=this.__data__;if(Ir){var r=t[e];return r===i?a:r}return Re.call(t,e)?t[e]:a},qr.prototype.has=function(e){var t=this.__data__;return Ir?t[e]!==a:Re.call(t,e)},qr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ir&&t===a?i:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Qe.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?a:t[r][1]},Wr.prototype.has=function(e){return rn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Yr.prototype.clear=function(){this.size=0,this.__data__={hash:new qr,map:new(Cr||Wr),string:new qr}},Yr.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Yr.prototype.get=function(e){return uo(this,e).get(e)},Yr.prototype.has=function(e){return uo(this,e).has(e)},Yr.prototype.set=function(e,t){var r=uo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Xr.prototype.add=Xr.prototype.push=function(e){return this.__data__.set(e,i),this},Xr.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.clear=function(){this.__data__=new Wr,this.size=0},$r.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},$r.prototype.get=function(e){return this.__data__.get(e)},$r.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Cr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Yr(n)}return r.set(e,t),this.size=r.size,this};var hn=Da(jn),pn=Da(wn,!0);function mn(e,t){var r=!0;return hn(e,(function(e,n,a){return r=!!t(e,n,a)})),r}function gn(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],s=t(i);if(null!=s&&(c===a?s==s&&!ls(s):r(s,c)))var c=s,l=i}return l}function vn(e,t){var r=[];return hn(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r}function xn(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=bo),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?xn(s,t-1,r,n,a):Rt(a,s):n||(a[a.length]=s)}return a}var bn=Ma(),yn=Ma(!0);function jn(e,t){return e&&bn(e,t,Ps)}function wn(e,t){return e&&yn(e,t,Ps)}function Nn(e,t){return Pt(t,(function(t){return Ki(e[t])}))}function _n(e,t){for(var r=0,n=(t=ya(t,e)).length;null!=e&&r<n;)e=e[Lo(t[r++])];return r&&r==n?e:a}function Cn(e,t,r){var n=t(e);return qi(e)?n:Rt(n,r(e))}function En(e){return null==e?e===a?"[object Undefined]":"[object Null]":Je&&Je in Se(e)?function(e){var t=Re.call(e,Je),r=e[Je];try{e[Je]=a;var n=!0}catch(e){}var o=Be.call(e);n&&(t?e[Je]=r:delete e[Je]);return o}(e):function(e){return Be.call(e)}(e)}function Sn(e,t){return e>t}function An(e,t){return null!=e&&Re.call(e,t)}function In(e,t){return null!=e&&t in Se(e)}function On(e,t,r){for(var o=r?Dt:kt,i=e[0].length,s=e.length,c=s,l=n(s),u=1/0,d=[];c--;){var f=e[c];c&&t&&(f=Mt(f,Jt(t))),u=br(f.length,u),l[c]=!r&&(t||i>=120&&f.length>=120)?new Xr(c&&f):a}f=e[0];var h=-1,p=l[0];e:for(;++h<i&&d.length<u;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tr(p,g):o(d,g,r))){for(c=s;--c;){var v=l[c];if(!(v?tr(v,g):o(e[c],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Tn(e,t,r){var n=null==(e=Io(e,t=ya(t,e)))?e:e[Lo(Zo(t))];return null==n?a:St(n,e,r)}function Pn(e){return rs(e)&&En(e)==x}function kn(e,t,r,n,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,n,o,i){var s=qi(e),c=qi(t),l=s?b:go(e),u=c?b:go(t),d=(l=l==x?S:l)==S,f=(u=u==x?S:u)==S,h=l==u;if(h&&$i(e)){if(!$i(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new $r),s||us(e)?ro(e,t,r,n,o,i):function(e,t,r,n,a,o,i){switch(r){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case y:case j:case E:return zi(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case T:return e==t+"";case C:var s=cr;case O:var c=1&n;if(s||(s=dr),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var u=ro(s(e),s(t),n,a,o,i);return i.delete(e),u;case P:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,l,r,n,o,i);if(!(1&r)){var p=d&&Re.call(e,"__wrapped__"),m=f&&Re.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new $r),o(g,v,r,n,i)}}if(!h)return!1;return i||(i=new $r),function(e,t,r,n,o,i){var s=1&r,c=ao(e),l=c.length,u=ao(t),d=u.length;if(l!=d&&!s)return!1;var f=l;for(;f--;){var h=c[f];if(!(s?h in t:Re.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);var v=s;for(;++f<l;){var x=e[h=c[f]],b=t[h];if(n)var y=s?n(b,x,h,t,e,i):n(x,b,h,e,t,i);if(!(y===a?x===b||o(x,b,r,n,i):y)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var j=e.constructor,w=t.constructor;j==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof j&&j instanceof j&&"function"==typeof w&&w instanceof w||(g=!1)}return i.delete(e),i.delete(t),g}(e,t,r,n,o,i)}(e,t,r,n,kn,o))}function Dn(e,t,r,n){var o=r.length,i=o,s=!n;if(null==e)return!i;for(e=Se(e);o--;){var c=r[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var l=(c=r[o])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===a&&!(l in e))return!1}else{var f=new $r;if(n)var h=n(u,d,l,e,t,f);if(!(h===a?kn(d,u,3,n,f):h))return!1}}return!0}function Mn(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Ki(e)?Ve:xe).test(Bo(e));var t}function Rn(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?qi(e)?Vn(e[0],e[1]):zn(e):hc(e)}function Fn(e){if(!Co(e))return Xt(e);var t=[];for(var r in Se(e))Re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=Co(e),r=[];for(var n in e)("constructor"!=n||!t&&Re.call(e,n))&&r.push(n);return r}function Bn(e,t){return e<t}function Un(e,t){var r=-1,a=Yi(e)?n(e.length):[];return hn(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}function zn(e){var t=fo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(r){return r===e||Dn(r,e,t)}}function Vn(e,t){return wo(e)&&Eo(t)?So(Lo(e),t):function(r){var n=Ss(r,e);return n===a&&n===t?As(r,e):kn(t,n,3)}}function Gn(e,t,r,n,o){e!==t&&bn(t,(function(i,s){if(o||(o=new $r),ts(i))!function(e,t,r,n,o,i,s){var c=Oo(e,r),l=Oo(t,r),u=s.get(l);if(u)return void en(e,r,u);var d=i?i(c,l,r+"",e,t,s):a,f=d===a;if(f){var h=qi(l),p=!h&&$i(l),m=!h&&!p&&us(l);d=l,h||p||m?qi(c)?d=c:Xi(c)?d=Oa(c):p?(f=!1,d=_a(l,!0)):m?(f=!1,d=Ea(l,!0)):d=[]:os(l)||Hi(l)?(d=c,Hi(c)?d=xs(c):ts(c)&&!Ki(c)||(d=xo(l))):f=!1}f&&(s.set(l,d),o(d,l,n,i,s),s.delete(l));en(e,r,d)}(e,t,s,r,Gn,n,o);else{var c=n?n(Oo(e,s),i,s+"",e,t,o):a;c===a&&(c=i),en(e,s,c)}}),ks)}function Hn(e,t){var r=e.length;if(r)return yo(t+=t<0?r:0,r)?e[t]:a}function qn(e,t,r){t=t.length?Mt(t,(function(e){return qi(e)?function(t){return _n(t,1===e.length?e[0]:e)}:e})):[ac];var n=-1;t=Mt(t,Jt(lo()));var a=Un(e,(function(e,r,a){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(a,(function(e,t){return function(e,t,r){var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;for(;++n<i;){var c=Sa(a[n],o[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=_n(e,i);r(s,i)&&ea(o,ya(i,e),s)}return o}function Yn(e,t,r,n){var a=n?Ht:Gt,o=-1,i=t.length,s=e;for(e===t&&(t=Oa(t)),r&&(s=Mt(e,Jt(r)));++o<i;)for(var c=0,l=t[o],u=r?r(l):l;(c=a(s,u,c,n))>-1;)s!==e&&Qe.call(s,c,1),Qe.call(e,c,1);return e}function Xn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==o){var o=a;yo(a)?Qe.call(e,a,1):fa(e,a)}}return e}function $n(e,t){return e+gt(wr()*(t-e+1))}function Qn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Zn(e,t){return ko(Ao(e,t,ac),e+"")}function Kn(e){return Zr(zs(e))}function Jn(e,t){var r=zs(e);return Ro(r,cn(t,0,r.length))}function ea(e,t,r,n){if(!ts(e))return e;for(var o=-1,i=(t=ya(t,e)).length,s=i-1,c=e;null!=c&&++o<i;){var l=Lo(t[o]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var d=c[l];(u=n?n(d,l,c):a)===a&&(u=ts(d)?d:yo(t[o+1])?[]:{})}tn(c,l,u),c=c[l]}return e}var ta=Or?function(e,t){return Or.set(e,t),e}:ac,ra=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ac;function na(e){return Ro(zs(e))}function aa(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=n(o);++a<o;)i[a]=e[a+t];return i}function oa(e,t){var r;return hn(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}function ia(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;n<a;){var o=n+a>>>1,i=e[o];null!==i&&!ls(i)&&(r?i<=t:i<t)?n=o+1:a=o}return a}return sa(e,t,ac,r)}function sa(e,t,r,n){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=r(t))!=t,c=null===t,l=ls(t),u=t===a;o<i;){var d=gt((o+i)/2),f=r(e[d]),h=f!==a,p=null===f,m=f==f,g=ls(f);if(s)var v=n||m;else v=u?m&&(n||h):c?m&&h&&(n||!p):l?m&&h&&!p&&(n||!g):!p&&!g&&(n?f<=t:f<t);v?o=d+1:i=d}return br(i,4294967294)}function ca(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r],s=t?t(i):i;if(!r||!zi(s,c)){var c=s;o[a++]=0===i?0:i}}return o}function la(e){return"number"==typeof e?e:ls(e)?m:+e}function ua(e){if("string"==typeof e)return e;if(qi(e))return Mt(e,ua)+"";if(ls(e))return Br?Br.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function da(e,t,r){var n=-1,a=kt,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=Dt;else if(o>=200){var l=t?null:Qa(e);if(l)return dr(l);i=!1,a=tr,c=new Xr}else c=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,i&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(u)}else a(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}function fa(e,t){return null==(e=Io(e,t=ya(t,e)))||delete e[Lo(Zo(t))]}function ha(e,t,r,n){return ea(e,t,r(_n(e,t)),n)}function pa(e,t,r,n){for(var a=e.length,o=n?a:-1;(n?o--:++o<a)&&t(e[o],o,e););return r?aa(e,n?0:o,n?o+1:a):aa(e,n?o+1:0,n?a:o)}function ma(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function ga(e,t,r){var a=e.length;if(a<2)return a?da(e[0]):[];for(var o=-1,i=n(a);++o<a;)for(var s=e[o],c=-1;++c<a;)c!=o&&(i[o]=fn(i[o]||s,e[c],t,r));return da(xn(i,1),t,r)}function va(e,t,r){for(var n=-1,o=e.length,i=t.length,s={};++n<o;){var c=n<i?t[n]:a;r(s,e[n],c)}return s}function xa(e){return Xi(e)?e:[]}function ba(e){return"function"==typeof e?e:ac}function ya(e,t){return qi(e)?e:wo(e,t)?[e]:Fo(bs(e))}var ja=Zn;function wa(e,t,r){var n=e.length;return r=r===a?n:r,!t&&r>=n?e:aa(e,t,r)}var Na=at||function(e){return mt.clearTimeout(e)};function _a(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function Ca(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ea(e,t){var r=t?Ca(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Sa(e,t){if(e!==t){var r=e!==a,n=null===e,o=e==e,i=ls(e),s=t!==a,c=null===t,l=t==t,u=ls(t);if(!c&&!u&&!i&&e>t||i&&s&&l&&!c&&!u||n&&s&&l||!r&&l||!o)return 1;if(!n&&!i&&!u&&e<t||u&&r&&o&&!n&&!i||c&&r&&o||!s&&o||!l)return-1}return 0}function Aa(e,t,r,a){for(var o=-1,i=e.length,s=r.length,c=-1,l=t.length,u=xr(i-s,0),d=n(l+u),f=!a;++c<l;)d[c]=t[c];for(;++o<s;)(f||o<i)&&(d[r[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function Ia(e,t,r,a){for(var o=-1,i=e.length,s=-1,c=r.length,l=-1,u=t.length,d=xr(i-c,0),f=n(d+u),h=!a;++o<d;)f[o]=e[o];for(var p=o;++l<u;)f[p+l]=t[l];for(;++s<c;)(h||o<i)&&(f[p+r[s]]=e[o++]);return f}function Oa(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Ta(e,t,r,n){var o=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var c=t[i],l=n?n(r[c],e[c],c,r,e):a;l===a&&(l=e[c]),o?on(r,c,l):tn(r,c,l)}return r}function Pa(e,t){return function(r,n){var a=qi(r)?At:nn,o=t?t():{};return a(r,e,lo(n,2),o)}}function ka(e){return Zn((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:a,s=o>2?r[2]:a;for(i=e.length>3&&"function"==typeof i?(o--,i):a,s&&jo(r[0],r[1],s)&&(i=o<3?a:i,o=1),t=Se(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t}))}function Da(e,t){return function(r,n){if(null==r)return r;if(!Yi(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Se(r);(t?o--:++o<a)&&!1!==n(i[o],o,i););return r}}function Ma(e){return function(t,r,n){for(var a=-1,o=Se(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}function Ra(e){return function(t){var r=sr(t=bs(t))?pr(t):a,n=r?r[0]:t.charAt(0),o=r?wa(r,1).join(""):t.slice(1);return n[e]()+o}}function Fa(e){return function(t){return Ft(Ks(Hs(t).replace(et,"")),e,"")}}function La(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=zr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Ba(e){return function(t,r,n){var o=Se(t);if(!Yi(t)){var i=lo(r,3);t=Ps(t),r=function(e){return i(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[i?t[s]:s]:a}}function Ua(e){return no((function(t){var r=t.length,n=r,i=Gr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Oe(o);if(i&&!c&&"wrapper"==so(s))var c=new Gr([],!0)}for(n=c?n:r;++n<r;){var l=so(s=t[n]),u="wrapper"==l?io(s):a;c=u&&No(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[so(u[0])].apply(c,u[3]):1==s.length&&No(s)?c[l]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&qi(n))return c.plant(n).value();for(var a=0,o=r?t[a].apply(this,e):n;++a<r;)o=t[a].call(this,o);return o}}))}function za(e,t,r,o,i,s,c,l,u,f){var h=t&d,p=1&t,m=2&t,g=24&t,v=512&t,x=m?a:La(e);return function d(){for(var b=arguments.length,y=n(b),j=b;j--;)y[j]=arguments[j];if(g)var w=co(d),N=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(y,w);if(o&&(y=Aa(y,o,i,g)),s&&(y=Ia(y,s,c,g)),b-=N,g&&b<f){var _=ur(y,w);return Xa(e,t,za,d.placeholder,r,y,_,l,u,f-b)}var C=p?r:this,E=m?C[e]:e;return b=y.length,l?y=function(e,t){var r=e.length,n=br(t.length,r),o=Oa(e);for(;n--;){var i=t[n];e[n]=yo(i,r)?o[i]:a}return e}(y,l):v&&b>1&&y.reverse(),h&&u<b&&(y.length=u),this&&this!==mt&&this instanceof d&&(E=x||La(E)),E.apply(C,y)}}function Va(e,t){return function(r,n){return function(e,t,r,n){return jn(e,(function(e,a,o){t(n,r(e),a,o)})),n}(r,e,t(n),{})}}function Ga(e,t){return function(r,n){var o;if(r===a&&n===a)return t;if(r!==a&&(o=r),n!==a){if(o===a)return n;"string"==typeof r||"string"==typeof n?(r=ua(r),n=ua(n)):(r=la(r),n=la(n)),o=e(r,n)}return o}}function Ha(e){return no((function(t){return t=Mt(t,Jt(lo())),Zn((function(r){var n=this;return e(t,(function(e){return St(e,n,r)}))}))}))}function qa(e,t){var r=(t=t===a?" ":ua(t)).length;if(r<2)return r?Qn(t,e):t;var n=Qn(t,pt(e/hr(t)));return sr(t)?wa(pr(n),0,e).join(""):n.slice(0,e)}function Wa(e){return function(t,r,o){return o&&"number"!=typeof o&&jo(t,r,o)&&(r=o=a),t=ps(t),r===a?(r=t,t=0):r=ps(r),function(e,t,r,a){for(var o=-1,i=xr(pt((t-e)/(r||1)),0),s=n(i);i--;)s[a?i:++o]=e,e+=r;return s}(t,r,o=o===a?t<r?1:-1:ps(o),e)}}function Ya(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=vs(t),r=vs(r)),e(t,r)}}function Xa(e,t,r,n,o,i,s,c,d,f){var h=8&t;t|=h?l:u,4&(t&=~(h?u:l))||(t&=-4);var p=[e,t,o,h?i:a,h?s:a,h?a:i,h?a:s,c,d,f],m=r.apply(a,p);return No(e)&&To(m,p),m.placeholder=n,Do(m,e,t)}function $a(e){var t=Ee[e];return function(e,r){if(e=vs(e),(r=null==r?0:br(ms(r),292))&&yt(e)){var n=(bs(e)+"e").split("e");return+((n=(bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Qa=Sr&&1/dr(new Sr([,-0]))[1]==h?function(e){return new Sr(e)}:lc;function Za(e){return function(t){var r=go(t);return r==C?cr(t):r==O?fr(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ka(e,t,r,i,h,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Oe(o);var x=i?i.length:0;if(x||(t&=-97,i=h=a),m=m===a?m:xr(ms(m),0),g=g===a?g:ms(g),x-=h?h.length:0,t&u){var b=i,y=h;i=h=a}var j=v?a:io(e),w=[e,t,r,i,h,b,y,p,m,g];if(j&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<131,i=n==d&&8==r||n==d&&r==f&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!i)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Aa(l,c,t[4]):c,e[4]=l?ur(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ia(l,c,t[6]):c,e[6]=l?ur(e[5],s):t[6]);(c=t[7])&&(e[7]=c);n&d&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(w,j),e=w[0],t=w[1],r=w[2],i=w[3],h=w[4],!(g=w[9]=w[9]===a?v?0:e.length:xr(w[9]-x,0))&&24&t&&(t&=-25),t&&1!=t)N=8==t||t==c?function(e,t,r){var o=La(e);return function i(){for(var s=arguments.length,c=n(s),l=s,u=co(i);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:ur(c,u);return(s-=d.length)<r?Xa(e,t,za,i.placeholder,a,c,d,a,a,r-s):St(this&&this!==mt&&this instanceof i?o:e,this,c)}}(e,t,g):t!=l&&33!=t||h.length?za.apply(a,w):function(e,t,r,a){var o=1&t,i=La(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,d=n(u+c),f=this&&this!==mt&&this instanceof t?i:e;++l<u;)d[l]=a[l];for(;c--;)d[l++]=arguments[++s];return St(f,o?r:this,d)}}(e,t,r,i);else var N=function(e,t,r){var n=1&t,a=La(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,r);return Do((j?ta:To)(N,w),e,t)}function Ja(e,t,r,n){return e===a||zi(e,ke[r])&&!Re.call(n,r)?t:e}function eo(e,t,r,n,o,i){return ts(e)&&ts(t)&&(i.set(t,e),Gn(e,t,a,eo,i),i.delete(t)),e}function to(e){return os(e)?a:e}function ro(e,t,r,n,o,i){var s=1&r,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&r?new Xr:a;for(i.set(e,t),i.set(t,e);++f<c;){var m=e[f],g=t[f];if(n)var v=s?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(v!==a){if(v)continue;h=!1;break}if(p){if(!Bt(t,(function(e,t){if(!tr(p,t)&&(m===e||o(m,e,r,n,i)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!o(m,g,r,n,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function no(e){return ko(Ao(e,a,Wo),e+"")}function ao(e){return Cn(e,Ps,po)}function oo(e){return Cn(e,ks,mo)}var io=Or?function(e){return Or.get(e)}:lc;function so(e){for(var t=e.name+"",r=Tr[t],n=Re.call(Tr,t)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==e)return a.name}return t}function co(e){return(Re.call(Ur,"placeholder")?Ur:e).placeholder}function lo(){var e=Ur.iteratee||oc;return e=e===oc?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function fo(e){for(var t=Ps(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Eo(a)]}return t}function ho(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return Mn(r)?r:a}var po=vt?function(e){return null==e?[]:(e=Se(e),Pt(vt(e),(function(t){return $e.call(e,t)})))}:gc,mo=vt?function(e){for(var t=[];e;)Rt(t,po(e)),e=Ye(e);return t}:gc,go=En;function vo(e,t,r){for(var n=-1,a=(t=ya(t,e)).length,o=!1;++n<a;){var i=Lo(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&es(a)&&yo(i,a)&&(qi(e)||Hi(e))}function xo(e){return"function"!=typeof e.constructor||Co(e)?{}:zr(Ye(e))}function bo(e){return qi(e)||Hi(e)||!!(Ze&&e&&e[Ze])}function yo(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&ye.test(e))&&e>-1&&e%1==0&&e<t}function jo(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?Yi(r)&&yo(t,r.length):"string"==n&&t in r)&&zi(r[t],e)}function wo(e,t){if(qi(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ls(e))||(re.test(e)||!te.test(e)||null!=t&&e in Se(t))}function No(e){var t=so(e),r=Ur[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=io(r);return!!n&&e===n[0]}(_r&&go(new _r(new ArrayBuffer(1)))!=M||Cr&&go(new Cr)!=C||Er&&go(Er.resolve())!=A||Sr&&go(new Sr)!=O||Ar&&go(new Ar)!=k)&&(go=function(e){var t=En(e),r=t==S?e.constructor:a,n=r?Bo(r):"";if(n)switch(n){case Pr:return M;case kr:return C;case Dr:return A;case Mr:return O;case Rr:return k}return t});var _o=De?Ki:vc;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function Eo(e){return e==e&&!ts(e)}function So(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==a||e in Se(r)))}}function Ao(e,t,r){return t=xr(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=xr(a.length-t,0),s=n(i);++o<i;)s[o]=a[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=a[o];return c[t]=r(s),St(e,this,c)}}function Io(e,t){return t.length<2?e:_n(e,aa(t,0,-1))}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var To=Mo(ta),Po=ht||function(e,t){return mt.setTimeout(e,t)},ko=Mo(ra);function Do(e,t,r){var n=t+"";return ko(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return It(v,(function(r){var n="_."+r[0];t&r[1]&&!kt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(n),r)))}function Mo(e){var t=0,r=0;return function(){var n=yr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Ro(e,t){var r=-1,n=e.length,o=n-1;for(t=t===a?n:t;++r<t;){var i=$n(r,o),s=e[i];e[i]=e[r],e[r]=s}return e.length=t,e}var Fo=function(e){var t=Mi(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,a){t.push(n?a.replace(he,"$1"):r||e)})),t}));function Lo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Hr)return e.clone();var t=new Gr(e.__wrapped__,e.__chain__);return t.__actions__=Oa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Zn((function(e,t){return Xi(e)?fn(e,xn(t,1,Xi,!0)):[]})),Vo=Zn((function(e,t){var r=Zo(t);return Xi(r)&&(r=a),Xi(e)?fn(e,xn(t,1,Xi,!0),lo(r,2)):[]})),Go=Zn((function(e,t){var r=Zo(t);return Xi(r)&&(r=a),Xi(e)?fn(e,xn(t,1,Xi,!0),a,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:ms(r);return a<0&&(a=xr(n+a,0)),Vt(e,lo(t,3),a)}function qo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==a&&(o=ms(r),o=r<0?xr(n+o,0):br(o,n-1)),Vt(e,lo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?xn(e,1):[]}function Yo(e){return e&&e.length?e[0]:a}var Xo=Zn((function(e){var t=Mt(e,xa);return t.length&&t[0]===e[0]?On(t):[]})),$o=Zn((function(e){var t=Zo(e),r=Mt(e,xa);return t===Zo(r)?t=a:r.pop(),r.length&&r[0]===e[0]?On(r,lo(t,2)):[]})),Qo=Zn((function(e){var t=Zo(e),r=Mt(e,xa);return(t="function"==typeof t?t:a)&&r.pop(),r.length&&r[0]===e[0]?On(r,a,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Ko=Zn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Yn(e,t):e}var ei=no((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Xn(e,Mt(t,(function(e){return yo(e,r)?+e:e})).sort(Sa)),n}));function ti(e){return null==e?e:Nr.call(e)}var ri=Zn((function(e){return da(xn(e,1,Xi,!0))})),ni=Zn((function(e){var t=Zo(e);return Xi(t)&&(t=a),da(xn(e,1,Xi,!0),lo(t,2))})),ai=Zn((function(e){var t=Zo(e);return t="function"==typeof t?t:a,da(xn(e,1,Xi,!0),a,t)}));function oi(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Xi(e))return t=xr(e.length,t),!0})),Zt(t,(function(t){return Mt(e,Yt(t))}))}function ii(e,t){if(!e||!e.length)return[];var r=oi(e);return null==t?r:Mt(r,(function(e){return St(t,a,e)}))}var si=Zn((function(e,t){return Xi(e)?fn(e,t):[]})),ci=Zn((function(e){return ga(Pt(e,Xi))})),li=Zn((function(e){var t=Zo(e);return Xi(t)&&(t=a),ga(Pt(e,Xi),lo(t,2))})),ui=Zn((function(e){var t=Zo(e);return t="function"==typeof t?t:a,ga(Pt(e,Xi),a,t)})),di=Zn(oi);var fi=Zn((function(e){var t=e.length,r=t>1?e[t-1]:a;return r="function"==typeof r?(e.pop(),r):a,ii(e,r)}));function hi(e){var t=Ur(e);return t.__chain__=!0,t}function pi(e,t){return t(e)}var mi=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&yo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:pi,args:[o],thisArg:a}),new Gr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var gi=Pa((function(e,t,r){Re.call(e,r)?++e[r]:on(e,r,1)}));var vi=Ba(Ho),xi=Ba(qo);function bi(e,t){return(qi(e)?It:hn)(e,lo(t,3))}function yi(e,t){return(qi(e)?Ot:pn)(e,lo(t,3))}var ji=Pa((function(e,t,r){Re.call(e,r)?e[r].push(t):on(e,r,[t])}));var wi=Zn((function(e,t,r){var a=-1,o="function"==typeof t,i=Yi(e)?n(e.length):[];return hn(e,(function(e){i[++a]=o?St(t,e,r):Tn(e,t,r)})),i})),Ni=Pa((function(e,t,r){on(e,r,t)}));function _i(e,t){return(qi(e)?Mt:Un)(e,lo(t,3))}var Ci=Pa((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ei=Zn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&jo(e,t[0],t[1])?t=[]:r>2&&jo(t[0],t[1],t[2])&&(t=[t[0]]),qn(e,xn(t,1),[])})),Si=ut||function(){return mt.Date.now()};function Ai(e,t,r){return t=r?a:t,t=e&&null==t?e.length:t,Ka(e,d,a,a,a,a,t)}function Ii(e,t){var r;if("function"!=typeof t)throw new Oe(o);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=a),r}}var Oi=Zn((function(e,t,r){var n=1;if(r.length){var a=ur(r,co(Oi));n|=l}return Ka(e,n,t,r,a)})),Ti=Zn((function(e,t,r){var n=3;if(r.length){var a=ur(r,co(Ti));n|=l}return Ka(t,n,e,r,a)}));function Pi(e,t,r){var n,i,s,c,l,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(o);function m(t){var r=n,o=i;return n=i=a,d=t,c=e.apply(o,r)}function g(e){var r=e-u;return u===a||r>=t||r<0||h&&e-d>=s}function v(){var e=Si();if(g(e))return x(e);l=Po(v,function(e){var r=t-(e-u);return h?br(r,s-(e-d)):r}(e))}function x(e){return l=a,p&&n?m(e):(n=i=a,c)}function b(){var e=Si(),r=g(e);if(n=arguments,i=this,u=e,r){if(l===a)return function(e){return d=e,l=Po(v,t),f?m(e):c}(u);if(h)return Na(l),l=Po(v,t),m(u)}return l===a&&(l=Po(v,t)),c}return t=vs(t)||0,ts(r)&&(f=!!r.leading,s=(h="maxWait"in r)?xr(vs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==a&&Na(l),d=0,n=u=i=l=a},b.flush=function(){return l===a?c:x(Si())},b}var ki=Zn((function(e,t){return dn(e,1,t)})),Di=Zn((function(e,t,r){return dn(e,vs(t)||0,r)}));function Mi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Mi.Cache||Yr),r}function Ri(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mi.Cache=Yr;var Fi=ja((function(e,t){var r=(t=1==t.length&&qi(t[0])?Mt(t[0],Jt(lo())):Mt(xn(t,1),Jt(lo()))).length;return Zn((function(n){for(var a=-1,o=br(n.length,r);++a<o;)n[a]=t[a].call(this,n[a]);return St(e,this,n)}))})),Li=Zn((function(e,t){var r=ur(t,co(Li));return Ka(e,l,a,t,r)})),Bi=Zn((function(e,t){var r=ur(t,co(Bi));return Ka(e,u,a,t,r)})),Ui=no((function(e,t){return Ka(e,f,a,a,a,t)}));function zi(e,t){return e===t||e!=e&&t!=t}var Vi=Ya(Sn),Gi=Ya((function(e,t){return e>=t})),Hi=Pn(function(){return arguments}())?Pn:function(e){return rs(e)&&Re.call(e,"callee")&&!$e.call(e,"callee")},qi=n.isArray,Wi=jt?Jt(jt):function(e){return rs(e)&&En(e)==D};function Yi(e){return null!=e&&es(e.length)&&!Ki(e)}function Xi(e){return rs(e)&&Yi(e)}var $i=bt||vc,Qi=wt?Jt(wt):function(e){return rs(e)&&En(e)==j};function Zi(e){if(!rs(e))return!1;var t=En(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Ki(e){if(!ts(e))return!1;var t=En(e);return t==N||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ji(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=Nt?Jt(Nt):function(e){return rs(e)&&go(e)==C};function as(e){return"number"==typeof e||rs(e)&&En(e)==E}function os(e){if(!rs(e)||En(e)!=S)return!1;var t=Ye(e);if(null===t)return!0;var r=Re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Me.call(r)==Ue}var is=_t?Jt(_t):function(e){return rs(e)&&En(e)==I};var ss=Ct?Jt(Ct):function(e){return rs(e)&&go(e)==O};function cs(e){return"string"==typeof e||!qi(e)&&rs(e)&&En(e)==T}function ls(e){return"symbol"==typeof e||rs(e)&&En(e)==P}var us=Et?Jt(Et):function(e){return rs(e)&&es(e.length)&&!!ct[En(e)]};var ds=Ya(Bn),fs=Ya((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Yi(e))return cs(e)?pr(e):Oa(e);if(Ke&&e[Ke])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ke]());var t=go(e);return(t==C?cr:t==O?dr:zs)(e)}function ps(e){return e?(e=vs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=ps(e),r=t%1;return t==t?r?t-r:t:0}function gs(e){return e?cn(ms(e),0,g):0}function vs(e){if("number"==typeof e)return e;if(ls(e))return m;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var r=ve.test(e);return r||be.test(e)?ft(e.slice(2),r?2:8):ge.test(e)?m:+e}function xs(e){return Ta(e,ks(e))}function bs(e){return null==e?"":ua(e)}var ys=ka((function(e,t){if(Co(t)||Yi(t))Ta(t,Ps(t),e);else for(var r in t)Re.call(t,r)&&tn(e,r,t[r])})),js=ka((function(e,t){Ta(t,ks(t),e)})),ws=ka((function(e,t,r,n){Ta(t,ks(t),e,n)})),Ns=ka((function(e,t,r,n){Ta(t,Ps(t),e,n)})),_s=no(sn);var Cs=Zn((function(e,t){e=Se(e);var r=-1,n=t.length,o=n>2?t[2]:a;for(o&&jo(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],s=ks(i),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===a||zi(d,ke[u])&&!Re.call(e,u))&&(e[u]=i[u])}return e})),Es=Zn((function(e){return e.push(a,eo),St(Ms,a,e)}));function Ss(e,t,r){var n=null==e?a:_n(e,t);return n===a?r:n}function As(e,t){return null!=e&&vo(e,t,In)}var Is=Va((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=r}),tc(ac)),Os=Va((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]}),lo),Ts=Zn(Tn);function Ps(e){return Yi(e)?Qr(e):Fn(e)}function ks(e){return Yi(e)?Qr(e,!0):Ln(e)}var Ds=ka((function(e,t,r){Gn(e,t,r)})),Ms=ka((function(e,t,r,n){Gn(e,t,r,n)})),Rs=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=Mt(t,(function(t){return t=ya(t,e),n||(n=t.length>1),t})),Ta(e,oo(e),r),n&&(r=ln(r,7,to));for(var a=t.length;a--;)fa(r,t[a]);return r}));var Fs=no((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return As(e,r)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var r=Mt(oo(e),(function(e){return[e]}));return t=lo(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Bs=Za(Ps),Us=Za(ks);function zs(e){return null==e?[]:er(e,Ps(e))}var Vs=Fa((function(e,t,r){return t=t.toLowerCase(),e+(r?Gs(t):t)}));function Gs(e){return Zs(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(je,ar).replace(tt,"")}var qs=Fa((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ws=Fa((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ys=Ra("toLowerCase");var Xs=Fa((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var $s=Fa((function(e,t,r){return e+(r?" ":"")+Zs(t)}));var Qs=Fa((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Zs=Ra("toUpperCase");function Ks(e,t,r){return e=bs(e),(t=r?a:t)===a?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Js=Zn((function(e,t){try{return St(e,a,t)}catch(e){return Zi(e)?e:new _e(e)}})),ec=no((function(e,t){return It(t,(function(t){t=Lo(t),on(e,t,Oi(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Ua(),nc=Ua(!0);function ac(e){return e}function oc(e){return Rn("function"==typeof e?e:ln(e,1))}var ic=Zn((function(e,t){return function(r){return Tn(r,e,t)}})),sc=Zn((function(e,t){return function(r){return Tn(e,r,t)}}));function cc(e,t,r){var n=Ps(t),a=Nn(t,n);null!=r||ts(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=Nn(t,Ps(t)));var o=!(ts(r)&&"chain"in r&&!r.chain),i=Ki(e);return It(a,(function(r){var n=t[r];e[r]=n,i&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Oa(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function lc(){}var uc=Ha(Mt),dc=Ha(Tt),fc=Ha(Bt);function hc(e){return wo(e)?Yt(Lo(e)):function(e){return function(t){return _n(t,e)}}(e)}var pc=Wa(),mc=Wa(!0);function gc(){return[]}function vc(){return!1}var xc=Ga((function(e,t){return e+t}),0),bc=$a("ceil"),yc=Ga((function(e,t){return e/t}),1),jc=$a("floor");var wc,Nc=Ga((function(e,t){return e*t}),1),_c=$a("round"),Cc=Ga((function(e,t){return e-t}),0);return Ur.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Ur.ary=Ai,Ur.assign=ys,Ur.assignIn=js,Ur.assignInWith=ws,Ur.assignWith=Ns,Ur.at=_s,Ur.before=Ii,Ur.bind=Oi,Ur.bindAll=ec,Ur.bindKey=Ti,Ur.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qi(e)?e:[e]},Ur.chain=hi,Ur.chunk=function(e,t,r){t=(r?jo(e,t,r):t===a)?1:xr(ms(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,c=n(pt(o/t));i<o;)c[s++]=aa(e,i,i+=t);return c},Ur.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a},Ur.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Rt(qi(r)?Oa(r):[r],xn(t,1))},Ur.cond=function(e){var t=null==e?0:e.length,r=lo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[r(e[0]),e[1]]})):[],Zn((function(r){for(var n=-1;++n<t;){var a=e[n];if(St(a[0],this,r))return St(a[1],this,r)}}))},Ur.conforms=function(e){return function(e){var t=Ps(e);return function(r){return un(r,e,t)}}(ln(e,1))},Ur.constant=tc,Ur.countBy=gi,Ur.create=function(e,t){var r=zr(e);return null==t?r:an(r,t)},Ur.curry=function e(t,r,n){var o=Ka(t,8,a,a,a,a,a,r=n?a:r);return o.placeholder=e.placeholder,o},Ur.curryRight=function e(t,r,n){var o=Ka(t,c,a,a,a,a,a,r=n?a:r);return o.placeholder=e.placeholder,o},Ur.debounce=Pi,Ur.defaults=Cs,Ur.defaultsDeep=Es,Ur.defer=ki,Ur.delay=Di,Ur.difference=zo,Ur.differenceBy=Vo,Ur.differenceWith=Go,Ur.drop=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,(t=r||t===a?1:ms(t))<0?0:t,n):[]},Ur.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,0,(t=n-(t=r||t===a?1:ms(t)))<0?0:t):[]},Ur.dropRightWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!0,!0):[]},Ur.dropWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!0):[]},Ur.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&jo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=ms(r))<0&&(r=-r>o?0:o+r),(n=n===a||n>o?o:ms(n))<0&&(n+=o),n=r>n?0:gs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Ur.filter=function(e,t){return(qi(e)?Pt:vn)(e,lo(t,3))},Ur.flatMap=function(e,t){return xn(_i(e,t),1)},Ur.flatMapDeep=function(e,t){return xn(_i(e,t),h)},Ur.flatMapDepth=function(e,t,r){return r=r===a?1:ms(r),xn(_i(e,t),r)},Ur.flatten=Wo,Ur.flattenDeep=function(e){return(null==e?0:e.length)?xn(e,h):[]},Ur.flattenDepth=function(e,t){return(null==e?0:e.length)?xn(e,t=t===a?1:ms(t)):[]},Ur.flip=function(e){return Ka(e,512)},Ur.flow=rc,Ur.flowRight=nc,Ur.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},Ur.functions=function(e){return null==e?[]:Nn(e,Ps(e))},Ur.functionsIn=function(e){return null==e?[]:Nn(e,ks(e))},Ur.groupBy=ji,Ur.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},Ur.intersection=Xo,Ur.intersectionBy=$o,Ur.intersectionWith=Qo,Ur.invert=Is,Ur.invertBy=Os,Ur.invokeMap=wi,Ur.iteratee=oc,Ur.keyBy=Ni,Ur.keys=Ps,Ur.keysIn=ks,Ur.map=_i,Ur.mapKeys=function(e,t){var r={};return t=lo(t,3),jn(e,(function(e,n,a){on(r,t(e,n,a),e)})),r},Ur.mapValues=function(e,t){var r={};return t=lo(t,3),jn(e,(function(e,n,a){on(r,n,t(e,n,a))})),r},Ur.matches=function(e){return zn(ln(e,1))},Ur.matchesProperty=function(e,t){return Vn(e,ln(t,1))},Ur.memoize=Mi,Ur.merge=Ds,Ur.mergeWith=Ms,Ur.method=ic,Ur.methodOf=sc,Ur.mixin=cc,Ur.negate=Ri,Ur.nthArg=function(e){return e=ms(e),Zn((function(t){return Hn(t,e)}))},Ur.omit=Rs,Ur.omitBy=function(e,t){return Ls(e,Ri(lo(t)))},Ur.once=function(e){return Ii(2,e)},Ur.orderBy=function(e,t,r,n){return null==e?[]:(qi(t)||(t=null==t?[]:[t]),qi(r=n?a:r)||(r=null==r?[]:[r]),qn(e,t,r))},Ur.over=uc,Ur.overArgs=Fi,Ur.overEvery=dc,Ur.overSome=fc,Ur.partial=Li,Ur.partialRight=Bi,Ur.partition=Ci,Ur.pick=Fs,Ur.pickBy=Ls,Ur.property=hc,Ur.propertyOf=function(e){return function(t){return null==e?a:_n(e,t)}},Ur.pull=Ko,Ur.pullAll=Jo,Ur.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Yn(e,t,lo(r,2)):e},Ur.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Yn(e,t,a,r):e},Ur.pullAt=ei,Ur.range=pc,Ur.rangeRight=mc,Ur.rearg=Ui,Ur.reject=function(e,t){return(qi(e)?Pt:vn)(e,Ri(lo(t,3)))},Ur.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],o=e.length;for(t=lo(t,3);++n<o;){var i=e[n];t(i,n,e)&&(r.push(i),a.push(n))}return Xn(e,a),r},Ur.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Zn(e,t=t===a?t:ms(t))},Ur.reverse=ti,Ur.sampleSize=function(e,t,r){return t=(r?jo(e,t,r):t===a)?1:ms(t),(qi(e)?Kr:Jn)(e,t)},Ur.set=function(e,t,r){return null==e?e:ea(e,t,r)},Ur.setWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ea(e,t,r,n)},Ur.shuffle=function(e){return(qi(e)?Jr:na)(e)},Ur.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&jo(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===a?n:ms(r)),aa(e,t,r)):[]},Ur.sortBy=Ei,Ur.sortedUniq=function(e){return e&&e.length?ca(e):[]},Ur.sortedUniqBy=function(e,t){return e&&e.length?ca(e,lo(t,2)):[]},Ur.split=function(e,t,r){return r&&"number"!=typeof r&&jo(e,t,r)&&(t=r=a),(r=r===a?g:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=ua(t))&&sr(e)?wa(pr(e),0,r):e.split(t,r):[]},Ur.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:xr(ms(t),0),Zn((function(r){var n=r[t],a=wa(r,0,t);return n&&Rt(a,n),St(e,this,a)}))},Ur.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},Ur.take=function(e,t,r){return e&&e.length?aa(e,0,(t=r||t===a?1:ms(t))<0?0:t):[]},Ur.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,(t=n-(t=r||t===a?1:ms(t)))<0?0:t,n):[]},Ur.takeRightWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!1,!0):[]},Ur.takeWhile=function(e,t){return e&&e.length?pa(e,lo(t,3)):[]},Ur.tap=function(e,t){return t(e),e},Ur.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new Oe(o);return ts(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Pi(e,t,{leading:n,maxWait:t,trailing:a})},Ur.thru=pi,Ur.toArray=hs,Ur.toPairs=Bs,Ur.toPairsIn=Us,Ur.toPath=function(e){return qi(e)?Mt(e,Lo):ls(e)?[e]:Oa(Fo(bs(e)))},Ur.toPlainObject=xs,Ur.transform=function(e,t,r){var n=qi(e),a=n||$i(e)||us(e);if(t=lo(t,4),null==r){var o=e&&e.constructor;r=a?n?new o:[]:ts(e)&&Ki(o)?zr(Ye(e)):{}}return(a?It:jn)(e,(function(e,n,a){return t(r,e,n,a)})),r},Ur.unary=function(e){return Ai(e,1)},Ur.union=ri,Ur.unionBy=ni,Ur.unionWith=ai,Ur.uniq=function(e){return e&&e.length?da(e):[]},Ur.uniqBy=function(e,t){return e&&e.length?da(e,lo(t,2)):[]},Ur.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?da(e,a,t):[]},Ur.unset=function(e,t){return null==e||fa(e,t)},Ur.unzip=oi,Ur.unzipWith=ii,Ur.update=function(e,t,r){return null==e?e:ha(e,t,ba(r))},Ur.updateWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ha(e,t,ba(r),n)},Ur.values=zs,Ur.valuesIn=function(e){return null==e?[]:er(e,ks(e))},Ur.without=si,Ur.words=Ks,Ur.wrap=function(e,t){return Li(ba(t),e)},Ur.xor=ci,Ur.xorBy=li,Ur.xorWith=ui,Ur.zip=di,Ur.zipObject=function(e,t){return va(e||[],t||[],tn)},Ur.zipObjectDeep=function(e,t){return va(e||[],t||[],ea)},Ur.zipWith=fi,Ur.entries=Bs,Ur.entriesIn=Us,Ur.extend=js,Ur.extendWith=ws,cc(Ur,Ur),Ur.add=xc,Ur.attempt=Js,Ur.camelCase=Vs,Ur.capitalize=Gs,Ur.ceil=bc,Ur.clamp=function(e,t,r){return r===a&&(r=t,t=a),r!==a&&(r=(r=vs(r))==r?r:0),t!==a&&(t=(t=vs(t))==t?t:0),cn(vs(e),t,r)},Ur.clone=function(e){return ln(e,4)},Ur.cloneDeep=function(e){return ln(e,5)},Ur.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:a)},Ur.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:a)},Ur.conformsTo=function(e,t){return null==t||un(e,t,Ps(t))},Ur.deburr=Hs,Ur.defaultTo=function(e,t){return null==e||e!=e?t:e},Ur.divide=yc,Ur.endsWith=function(e,t,r){e=bs(e),t=ua(t);var n=e.length,o=r=r===a?n:cn(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Ur.eq=zi,Ur.escape=function(e){return(e=bs(e))&&Z.test(e)?e.replace($,or):e},Ur.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ae,"\\$&"):e},Ur.every=function(e,t,r){var n=qi(e)?Tt:mn;return r&&jo(e,t,r)&&(t=a),n(e,lo(t,3))},Ur.find=vi,Ur.findIndex=Ho,Ur.findKey=function(e,t){return zt(e,lo(t,3),jn)},Ur.findLast=xi,Ur.findLastIndex=qo,Ur.findLastKey=function(e,t){return zt(e,lo(t,3),wn)},Ur.floor=jc,Ur.forEach=bi,Ur.forEachRight=yi,Ur.forIn=function(e,t){return null==e?e:bn(e,lo(t,3),ks)},Ur.forInRight=function(e,t){return null==e?e:yn(e,lo(t,3),ks)},Ur.forOwn=function(e,t){return e&&jn(e,lo(t,3))},Ur.forOwnRight=function(e,t){return e&&wn(e,lo(t,3))},Ur.get=Ss,Ur.gt=Vi,Ur.gte=Gi,Ur.has=function(e,t){return null!=e&&vo(e,t,An)},Ur.hasIn=As,Ur.head=Yo,Ur.identity=ac,Ur.includes=function(e,t,r,n){e=Yi(e)?e:zs(e),r=r&&!n?ms(r):0;var a=e.length;return r<0&&(r=xr(a+r,0)),cs(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&Gt(e,t,r)>-1},Ur.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:ms(r);return a<0&&(a=xr(n+a,0)),Gt(e,t,a)},Ur.inRange=function(e,t,r){return t=ps(t),r===a?(r=t,t=0):r=ps(r),function(e,t,r){return e>=br(t,r)&&e<xr(t,r)}(e=vs(e),t,r)},Ur.invoke=Ts,Ur.isArguments=Hi,Ur.isArray=qi,Ur.isArrayBuffer=Wi,Ur.isArrayLike=Yi,Ur.isArrayLikeObject=Xi,Ur.isBoolean=function(e){return!0===e||!1===e||rs(e)&&En(e)==y},Ur.isBuffer=$i,Ur.isDate=Qi,Ur.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Ur.isEmpty=function(e){if(null==e)return!0;if(Yi(e)&&(qi(e)||"string"==typeof e||"function"==typeof e.splice||$i(e)||us(e)||Hi(e)))return!e.length;var t=go(e);if(t==C||t==O)return!e.size;if(Co(e))return!Fn(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0},Ur.isEqual=function(e,t){return kn(e,t)},Ur.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:a)?r(e,t):a;return n===a?kn(e,t,a,r):!!n},Ur.isError=Zi,Ur.isFinite=function(e){return"number"==typeof e&&yt(e)},Ur.isFunction=Ki,Ur.isInteger=Ji,Ur.isLength=es,Ur.isMap=ns,Ur.isMatch=function(e,t){return e===t||Dn(e,t,fo(t))},Ur.isMatchWith=function(e,t,r){return r="function"==typeof r?r:a,Dn(e,t,fo(t),r)},Ur.isNaN=function(e){return as(e)&&e!=+e},Ur.isNative=function(e){if(_o(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},Ur.isNil=function(e){return null==e},Ur.isNull=function(e){return null===e},Ur.isNumber=as,Ur.isObject=ts,Ur.isObjectLike=rs,Ur.isPlainObject=os,Ur.isRegExp=is,Ur.isSafeInteger=function(e){return Ji(e)&&e>=-9007199254740991&&e<=p},Ur.isSet=ss,Ur.isString=cs,Ur.isSymbol=ls,Ur.isTypedArray=us,Ur.isUndefined=function(e){return e===a},Ur.isWeakMap=function(e){return rs(e)&&go(e)==k},Ur.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==En(e)},Ur.join=function(e,t){return null==e?"":Ut.call(e,t)},Ur.kebabCase=qs,Ur.last=Zo,Ur.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==a&&(o=(o=ms(r))<0?xr(n+o,0):br(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Vt(e,qt,o,!0)},Ur.lowerCase=Ws,Ur.lowerFirst=Ys,Ur.lt=ds,Ur.lte=fs,Ur.max=function(e){return e&&e.length?gn(e,ac,Sn):a},Ur.maxBy=function(e,t){return e&&e.length?gn(e,lo(t,2),Sn):a},Ur.mean=function(e){return Wt(e,ac)},Ur.meanBy=function(e,t){return Wt(e,lo(t,2))},Ur.min=function(e){return e&&e.length?gn(e,ac,Bn):a},Ur.minBy=function(e,t){return e&&e.length?gn(e,lo(t,2),Bn):a},Ur.stubArray=gc,Ur.stubFalse=vc,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=Nc,Ur.nth=function(e,t){return e&&e.length?Hn(e,ms(t)):a},Ur.noConflict=function(){return mt._===this&&(mt._=ze),this},Ur.noop=lc,Ur.now=Si,Ur.pad=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return qa(gt(a),r)+e+qa(pt(a),r)},Ur.padEnd=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;return t&&n<t?e+qa(t-n,r):e},Ur.padStart=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;return t&&n<t?qa(t-n,r)+e:e},Ur.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),jr(bs(e).replace(ie,""),t||0)},Ur.random=function(e,t,r){if(r&&"boolean"!=typeof r&&jo(e,t,r)&&(t=r=a),r===a&&("boolean"==typeof t?(r=t,t=a):"boolean"==typeof e&&(r=e,e=a)),e===a&&t===a?(e=0,t=1):(e=ps(e),t===a?(t=e,e=0):t=ps(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=wr();return br(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return $n(e,t)},Ur.reduce=function(e,t,r){var n=qi(e)?Ft:$t,a=arguments.length<3;return n(e,lo(t,4),r,a,hn)},Ur.reduceRight=function(e,t,r){var n=qi(e)?Lt:$t,a=arguments.length<3;return n(e,lo(t,4),r,a,pn)},Ur.repeat=function(e,t,r){return t=(r?jo(e,t,r):t===a)?1:ms(t),Qn(bs(e),t)},Ur.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ur.result=function(e,t,r){var n=-1,o=(t=ya(t,e)).length;for(o||(o=1,e=a);++n<o;){var i=null==e?a:e[Lo(t[n])];i===a&&(n=o,i=r),e=Ki(i)?i.call(e):i}return e},Ur.round=_c,Ur.runInContext=e,Ur.sample=function(e){return(qi(e)?Zr:Kn)(e)},Ur.size=function(e){if(null==e)return 0;if(Yi(e))return cs(e)?hr(e):e.length;var t=go(e);return t==C||t==O?e.size:Fn(e).length},Ur.snakeCase=Xs,Ur.some=function(e,t,r){var n=qi(e)?Bt:oa;return r&&jo(e,t,r)&&(t=a),n(e,lo(t,3))},Ur.sortedIndex=function(e,t){return ia(e,t)},Ur.sortedIndexBy=function(e,t,r){return sa(e,t,lo(r,2))},Ur.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ia(e,t);if(n<r&&zi(e[n],t))return n}return-1},Ur.sortedLastIndex=function(e,t){return ia(e,t,!0)},Ur.sortedLastIndexBy=function(e,t,r){return sa(e,t,lo(r,2),!0)},Ur.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ia(e,t,!0)-1;if(zi(e[r],t))return r}return-1},Ur.startCase=$s,Ur.startsWith=function(e,t,r){return e=bs(e),r=null==r?0:cn(ms(r),0,e.length),t=ua(t),e.slice(r,r+t.length)==t},Ur.subtract=Cc,Ur.sum=function(e){return e&&e.length?Qt(e,ac):0},Ur.sumBy=function(e,t){return e&&e.length?Qt(e,lo(t,2)):0},Ur.template=function(e,t,r){var n=Ur.templateSettings;r&&jo(e,t,r)&&(t=a),e=bs(e),t=ws({},t,n,Ja);var o,i,s=ws({},t.imports,n.imports,Ja),c=Ps(s),l=er(s,c),u=0,d=t.interpolate||we,f="__p += '",h=Ae((t.escape||we).source+"|"+d.source+"|"+(d===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,a,s,c){return n||(n=a),f+=e.slice(u,c).replace(Ne,ir),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new _e("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(q,""):f).replace(W,"$1").replace(Y,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Js((function(){return Ce(c,p+"return "+f).apply(a,l)}));if(g.source=f,Zi(g))throw g;return g},Ur.times=function(e,t){if((e=ms(e))<1||e>p)return[];var r=g,n=br(e,g);t=lo(t),e-=g;for(var a=Zt(n,t);++r<e;)t(r);return a},Ur.toFinite=ps,Ur.toInteger=ms,Ur.toLength=gs,Ur.toLower=function(e){return bs(e).toLowerCase()},Ur.toNumber=vs,Ur.toSafeInteger=function(e){return e?cn(ms(e),-9007199254740991,p):0===e?e:0},Ur.toString=bs,Ur.toUpper=function(e){return bs(e).toUpperCase()},Ur.trim=function(e,t,r){if((e=bs(e))&&(r||t===a))return Kt(e);if(!e||!(t=ua(t)))return e;var n=pr(e),o=pr(t);return wa(n,rr(n,o),nr(n,o)+1).join("")},Ur.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===a))return e.slice(0,mr(e)+1);if(!e||!(t=ua(t)))return e;var n=pr(e);return wa(n,0,nr(n,pr(t))+1).join("")},Ur.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===a))return e.replace(ie,"");if(!e||!(t=ua(t)))return e;var n=pr(e);return wa(n,rr(n,pr(t))).join("")},Ur.truncate=function(e,t){var r=30,n="...";if(ts(t)){var o="separator"in t?t.separator:o;r="length"in t?ms(t.length):r,n="omission"in t?ua(t.omission):n}var i=(e=bs(e)).length;if(sr(e)){var s=pr(e);i=s.length}if(r>=i)return e;var c=r-hr(n);if(c<1)return n;var l=s?wa(s,0,c).join(""):e.slice(0,c);if(o===a)return l+n;if(s&&(c+=l.length-c),is(o)){if(e.slice(c).search(o)){var u,d=l;for(o.global||(o=Ae(o.source,bs(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var f=u.index;l=l.slice(0,f===a?c:f)}}else if(e.indexOf(ua(o),c)!=c){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n},Ur.unescape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(X,gr):e},Ur.uniqueId=function(e){var t=++Fe;return bs(e)+t},Ur.upperCase=Qs,Ur.upperFirst=Zs,Ur.each=bi,Ur.eachRight=yi,Ur.first=Yo,cc(Ur,(wc={},jn(Ur,(function(e,t){Re.call(Ur.prototype,t)||(wc[t]=e)})),wc),{chain:!1}),Ur.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ur[e].placeholder=Ur})),It(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===a?1:xr(ms(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),It(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),It(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(ac)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Zn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return Tn(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(Ri(lo(e)))},Hr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==a&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(g)},jn(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Ur[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);o&&(Ur.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,c=t instanceof Hr,l=s[0],u=c||qi(t),d=function(e){var t=o.apply(Ur,Rt([e],s));return n&&f?t[0]:t};u&&r&&"function"==typeof l&&1!=l.length&&(c=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=i&&!f,m=c&&!h;if(!i&&u){t=m?t:new Hr(this);var g=e.apply(t,s);return g.__actions__.push({func:pi,args:[d],thisArg:a}),new Gr(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ur.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(qi(a)?a:[],e)}return this[r]((function(r){return t.apply(qi(r)?r:[],e)}))}})),jn(Hr.prototype,(function(e,t){var r=Ur[t];if(r){var n=r.name+"";Re.call(Tr,n)||(Tr[n]=[]),Tr[n].push({name:t,func:r})}})),Tr[za(a,2).name]=[{name:"wrapper",func:a}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Oa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oa(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=qi(e),n=t<0,a=r?e.length:0,o=function(e,t,r){var n=-1,a=r.length;for(;++n<a;){var o=r[n],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=br(t,e+i);break;case"takeRight":e=xr(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,s=o.end,c=s-i,l=n?s:i-1,u=this.__iteratees__,d=u.length,f=0,h=br(c,this.__takeCount__);if(!r||!n&&a==c&&h==c)return ma(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var m=-1,g=e[l+=t];++m<d;){var v=u[m],x=v.iteratee,b=v.type,y=x(g);if(2==b)g=y;else if(!y){if(1==b)continue e;break e}}p[f++]=g}return p},Ur.prototype.at=mi,Ur.prototype.chain=function(){return hi(this)},Ur.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===a&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Ur.prototype.plant=function(e){for(var t,r=this;r instanceof Vr;){var n=Uo(r);n.__index__=0,n.__values__=a,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Ur.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:pi,args:[ti],thisArg:a}),new Gr(t,this.__chain__)}return this.thru(ti)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return ma(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,Ke&&(Ur.prototype[Ke]=function(){return this}),Ur}();mt._=vr,(n=function(){return vr}.call(t,r,t,e))===a||(e.exports=n)}.call(this)},2551:(e,t,r)=>{"use strict";var n=r(6540),a=r(5228),o=r(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(i(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,r,n,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0===a.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!h.call(m,e)||!h.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,N=60106,_=60107,C=60108,E=60114,S=60109,A=60110,I=60112,O=60113,T=60120,P=60115,k=60116,D=60121,M=60128,R=60129,F=60130,L=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),N=B("react.portal"),_=B("react.fragment"),C=B("react.strict_mode"),E=B("react.profiler"),S=B("react.provider"),A=B("react.context"),I=B("react.forward_ref"),O=B("react.suspense"),T=B("react.suspense_list"),P=B("react.memo"),k=B("react.lazy"),D=B("react.block"),B("react.scope"),M=B("react.opaque.id"),R=B("react.debug_trace_mode"),F=B("react.offscreen"),L=B("react.legacy_hidden")}var U,z="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function G(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function q(e,t){if(!e||H)return"";H=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(e){if(e&&n&&"string"==typeof e.stack){for(var a=e.stack.split("\n"),o=n.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?G(e):""}function W(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case N:return"Portal";case E:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Y(e.type);case D:return Y(e._render);case k:t=e._payload,e=e._init;try{return Y(e(t))}catch(e){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=X(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function re(e,t){te(e,t);var r=X(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&ae(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ae(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+X(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:X(r)}}function le(e,t){var r=X(t.value),n=X(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function xe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function je(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=je(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(be).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ne=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ne[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ae=null,Ie=null;function Oe(e){if(e=na(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=oa(t),Se(e.stateNode,e.type,t))}}function Te(e){Ae?Ie?Ie.push(e):Ie=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Ie;if(Ie=Ae=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function ke(e,t){return e(t)}function De(e,t,r,n,a){return e(t,r,n,a)}function Me(){}var Re=ke,Fe=!1,Le=!1;function Be(){null===Ae&&null===Ie||(Me(),Pe())}function Ue(e,t){var r=e.stateNode;if(null===r)return null;var n=oa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(i(231,t,typeof r));return r}var ze=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){ze=!1}function Ge(e,t,r,n,a,o,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this.onError(e)}}var He=!1,qe=null,We=!1,Ye=null,Xe={onError:function(e){He=!0,qe=e}};function $e(e,t,r,n,a,o,i,s,c){He=!1,qe=null,Ge.apply(Xe,arguments)}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Qe(e)!==e)throw Error(i(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ke(a),e;if(o===n)return Ke(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=o;break}if(c===n){s=!0,n=a,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=a;break}if(c===n){s=!0,n=o,r=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,at,ot=!1,it=[],st=null,ct=null,lt=null,ut=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,r,n,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:a,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,r,n,a,o){return null===e||e.nativeEvent!==o?(e=pt(t,r,n,a,o),null!==t&&(null!==(t=na(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vt(e){var t=ra(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ze(r)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=na(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){xt(e)&&r.delete(t)}function yt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=na(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&xt(st)&&(st=null),null!==ct&&xt(ct)&&(ct=null),null!==lt&&xt(lt)&&(lt=null),ut.forEach(bt),dt.forEach(bt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function wt(e){function t(t){return jt(t,e)}if(0<it.length){jt(it[0],e);for(var r=1;r<it.length;r++){var n=it[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&jt(st,e),null!==ct&&jt(ct,e),null!==lt&&jt(lt,e),ut.forEach(t),dt.forEach(t),r=0;r<ft.length;r++)(n=ft[r]).blockedOn===e&&(n.blockedOn=null);for(;0<ft.length&&null===(r=ft[0]).blockedOn;)vt(r),null===r.blockedOn&&ft.shift()}function Nt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _t={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},Ct={},Et={};function St(e){if(Ct[e])return Ct[e];if(!_t[e])return e;var t,r=_t[e];for(t in r)if(r.hasOwnProperty(t)&&t in Et)return Ct[e]=r[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var At=St("animationend"),It=St("animationiteration"),Ot=St("animationstart"),Tt=St("transitionend"),Pt=new Map,kt=new Map,Dt=["abort","abort",At,"animationEnd",It,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];a="on"+(a[0].toUpperCase()+a.slice(1)),kt.set(n,t),Pt.set(n,a),l(a,[n])}}(0,o.unstable_now)();var Rt=8;function Ft(e){if(1&e)return Rt=15,1;if(2&e)return Rt=14,2;if(4&e)return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):32&e?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):256&e?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):4096&e?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):134217728&e?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):1073741824&e?(Rt=1,1073741824):(Rt=8,e)}function Lt(e,t){var r=e.pendingLanes;if(0===r)return Rt=0;var n=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,a=Rt=15;else if(0!==(o=134217727&r)){var c=o&~i;0!==c?(n=Ft(c),a=Rt):0!==(s&=o)&&(n=Ft(s),a=Rt)}else 0!==(o=r&~i)?(n=Ft(o),a=Rt):0!==s&&(n=Ft(s),a=Rt);if(0===n)return 0;if(n=r&((0>(n=31-Ht(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&!(t&i)){if(Ft(t),a<=Rt)return t;Rt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-Ht(t)),n|=e[r],t&=~a;return n}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function zt(e){return e&-e}function Vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Ht(t)]=r}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Wt|0)|0},qt=Math.log,Wt=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,$t=!0;function Qt(e,t,r,n){Fe||Me();var a=Kt,o=Fe;Fe=!0;try{De(a,e,t,r,n)}finally{(Fe=o)||Be()}}function Zt(e,t,r,n){Xt(Yt,Kt.bind(null,e,t,r,n))}function Kt(e,t,r,n){var a;if($t)if((a=!(4&t))&&0<it.length&&-1<ht.indexOf(e))e=pt(null,e,t,r,n),it.push(e);else{var o=Jt(e,t,r,n);if(null===o)a&&mt(e,n);else{if(a){if(-1<ht.indexOf(e))return e=pt(o,e,t,r,n),void it.push(e);if(function(e,t,r,n,a){switch(t){case"focusin":return st=gt(st,e,t,r,n,a),!0;case"dragenter":return ct=gt(ct,e,t,r,n,a),!0;case"mouseover":return lt=gt(lt,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,dt.set(o,gt(dt.get(o)||null,e,t,r,n,a)),!0}return!1}(o,e,t,r,n))return;mt(e,n)}Mn(e,t,n,null,r)}}}function Jt(e,t,r,n){var a=Ee(n);if(null!==(a=ra(a))){var o=Qe(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Ze(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Mn(e,t,n,a,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,a="value"in er?er.value:er.textContent,o=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[o-t];t++);return rr=a.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function ir(){return!1}function sr(e){function t(t,r,n,a,o){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?or:ir,this.isPropagationStopped=ir,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var cr,lr,ur,dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=sr(dr),hr=a({},dr,{view:0,detail:0}),pr=sr(hr),mr=a({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&"mousemove"===e.type?(cr=e.screenX-ur.screenX,lr=e.screenY-ur.screenY):lr=cr=0,ur=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),gr=sr(mr),vr=sr(a({},mr,{dataTransfer:0})),xr=sr(a({},hr,{relatedTarget:0})),br=sr(a({},dr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=a({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jr=sr(yr),wr=sr(a({},dr,{data:0})),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Sr(){return Er}var Ar=a({},hr,{key:function(e){if(e.key){var t=Nr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ir=sr(Ar),Or=sr(a({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=sr(a({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Pr=sr(a({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0})),kr=a({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=sr(kr),Mr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,Fr=null;d&&"documentMode"in document&&(Fr=document.documentMode);var Lr=d&&"TextEvent"in window&&!Fr,Br=d&&(!Rr||Fr&&8<Fr&&11>=Fr),Ur=String.fromCharCode(32),zr=!1;function Vr(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Yr(e,t,r,n){Te(n),0<(t=Fn(t,"onChange")).length&&(r=new fr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xr=null,$r=null;function Qr(e){In(e,0)}function Zr(e){if(Z(aa(e)))return e}function Kr(e,t){if("change"===e)return t}var Jr=!1;if(d){var en;if(d){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"==typeof rn.oninput}en=tn}else en=!1;Jr=en&&(!document.documentMode||9<document.documentMode)}function nn(){Xr&&(Xr.detachEvent("onpropertychange",an),$r=Xr=null)}function an(e){if("value"===e.propertyName&&Zr($r)){var t=[];if(Yr(t,$r,e,Ee(e)),e=Qr,Fe)e(t);else{Fe=!0;try{ke(e,t)}finally{Fe=!1,Be()}}}}function on(e,t,r){"focusin"===e?(nn(),$r=r,(Xr=t).attachEvent("onpropertychange",an)):"focusout"===e&&nn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zr($r)}function cn(e,t){if("click"===e)return Zr(t)}function ln(e,t){if("input"===e||"change"===e)return Zr(t)}var un="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},dn=Object.prototype.hasOwnProperty;function fn(e,t){if(un(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!dn.call(t,r[n])||!un(e[r[n]],t[r[n]]))return!1;return!0}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var r,n=hn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hn(n)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var xn=d&&"documentMode"in document&&11>=document.documentMode,bn=null,yn=null,jn=null,wn=!1;function Nn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wn||null==bn||bn!==K(n)||("selectionStart"in(n=bn)&&vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},jn&&fn(jn,n)||(jn=n,0<(n=Fn(yn,"onSelect")).length&&(t=new fr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var _n="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cn=0;Cn<_n.length;Cn++)kt.set(_n[Cn],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sn=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function An(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,c,l){if($e.apply(this,arguments),He){if(!He)throw Error(i(198));var u=qe;He=!1,qe=null,We||(We=!0,Ye=u)}}(n,t,void 0,e),e.currentTarget=null}function In(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;An(a,s,l),o=c}else for(i=0;i<n.length;i++){if(c=(s=n[i]).instance,l=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;An(a,s,l),o=c}}}if(We)throw e=Ye,We=!1,Ye=null,e}function On(e,t){var r=ia(t),n=e+"__bubble";r.has(n)||(Dn(t,e,2,!1),r.add(n))}var Tn="_reactListening"+Math.random().toString(36).slice(2);function Pn(e){e[Tn]||(e[Tn]=!0,s.forEach((function(t){Sn.has(t)||kn(t,!1,e,null),kn(t,!0,e,null)})))}function kn(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&Sn.has(e)){if("scroll"!==e)return;a|=2,o=n}var i=ia(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Dn(o,e,a,t),i.add(s))}function Dn(e,t,r,n){var a=kt.get(t);switch(void 0===a?2:a){case 0:a=Qt;break;case 1:a=Zt;break;default:a=Kt}r=a.bind(null,t,r,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Mn(e,t,r,n,a){var o=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ra(s)))return;if(5===(c=i.tag)||6===c){n=o=i;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Le)return e(t,r);Le=!0;try{return Re(e,t,r)}finally{Le=!1,Be()}}((function(){var n=o,a=Ee(r),i=[];e:{var s=Pt.get(e);if(void 0!==s){var c=fr,l=e;switch(e){case"keypress":if(0===ar(r))break e;case"keydown":case"keyup":c=Ir;break;case"focusin":l="focus",c=xr;break;case"focusout":l="blur",c=xr;break;case"beforeblur":case"afterblur":c=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tr;break;case At:case It:case Ot:c=br;break;case Tt:c=Pr;break;case"scroll":c=pr;break;case"wheel":c=Dr;break;case"copy":case"cut":case"paste":c=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Or}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ue(p,f))&&u.push(Rn(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,r,a),i.push({event:s,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(l=r.relatedTarget||r.fromElement)||!ra(l)&&!l[ea])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(l=(l=r.relatedTarget||r.toElement)?ra(l):null)&&(l!==(d=Qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=n),c!==l)){if(u=gr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Or,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:aa(c),h=null==l?s:aa(l),(s=new u(m,p+"leave",c,r,a)).target=d,s.relatedTarget=h,m=null,ra(a)===n&&((u=new u(f,p+"enter",l,r,a)).target=h,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(f=l,p=0,h=u=c;h;h=Ln(h))p++;for(h=0,m=f;m;m=Ln(m))h++;for(;0<p-h;)u=Ln(u),p--;for(;0<h-p;)f=Ln(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Ln(u),f=Ln(f)}u=null}else u=null;null!==c&&Bn(i,s,c,u,!1),null!==l&&null!==d&&Bn(i,d,l,u,!0)}if("select"===(c=(s=n?aa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Kr;else if(Wr(s))if(Jr)g=ln;else{g=sn;var v=on}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=cn);switch(g&&(g=g(e,n))?Yr(i,g,r,a):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ae(s,"number",s.value)),v=n?aa(n):window,e){case"focusin":(Wr(v)||"true"===v.contentEditable)&&(bn=v,yn=n,jn=null);break;case"focusout":jn=yn=bn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,Nn(i,r,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":Nn(i,r,a)}var x;if(Rr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hr?Vr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Br&&"ko"!==r.locale&&(Hr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hr&&(x=nr()):(tr="value"in(er=a)?er.value:er.textContent,Hr=!0)),0<(v=Fn(n,b)).length&&(b=new wr(b,e,null,r,a),i.push({event:b,listeners:v}),x?b.data=x:null!==(x=Gr(r))&&(b.data=x))),(x=Lr?function(e,t){switch(e){case"compositionend":return Gr(t);case"keypress":return 32!==t.which?null:(zr=!0,Ur);case"textInput":return(e=t.data)===Ur&&zr?null:e;default:return null}}(e,r):function(e,t){if(Hr)return"compositionend"===e||!Rr&&Vr(e,t)?(e=nr(),rr=tr=er=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Br&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Fn(n,"onBeforeInput")).length&&(a=new wr("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=x))}In(i,t)}))}function Rn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ue(e,r))&&n.unshift(Rn(e,o,a)),null!=(o=Ue(e,t))&&n.push(Rn(e,o,a))),e=e.return}return n}function Ln(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Bn(e,t,r,n,a){for(var o=t._reactName,i=[];null!==r&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==l&&(s=l,a?null!=(c=Ue(r,o))&&i.unshift(Rn(r,c,s)):a||null!=(c=Ue(r,o))&&i.push(Rn(r,c,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}function Un(){}var zn=null,Vn=null;function Gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qn="function"==typeof setTimeout?setTimeout:void 0,Wn="function"==typeof clearTimeout?clearTimeout:void 0;function Yn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Qn=0;var Zn=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Zn,Jn="__reactProps$"+Zn,ea="__reactContainer$"+Zn,ta="__reactEvents$"+Zn;function ra(e){var t=e[Kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[Kn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=$n(e);null!==e;){if(r=e[Kn])return r;e=$n(e)}return t}r=(e=r).parentNode}return null}function na(e){return!(e=e[Kn]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oa(e){return e[Jn]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ca=-1;function la(e){return{current:e}}function ua(e){0>ca||(e.current=sa[ca],sa[ca]=null,ca--)}function da(e,t){ca++,sa[ca]=e.current,e.current=t}var fa={},ha=la(fa),pa=la(!1),ma=fa;function ga(e,t){var r=e.type.contextTypes;if(!r)return fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function va(e){return null!=(e=e.childContextTypes)}function xa(){ua(pa),ua(ha)}function ba(e,t,r){if(ha.current!==fa)throw Error(i(168));da(ha,t),da(pa,r)}function ya(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(i(108,Y(t)||"Unknown",o));return a({},r,n)}function ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,ma=ha.current,da(ha,e),da(pa,pa.current),!0}function wa(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=ya(e,t,ma),n.__reactInternalMemoizedMergedChildContext=e,ua(pa),ua(ha),da(ha,e)):ua(pa),da(pa,r)}var Na=null,_a=null,Ca=o.unstable_runWithPriority,Ea=o.unstable_scheduleCallback,Sa=o.unstable_cancelCallback,Aa=o.unstable_shouldYield,Ia=o.unstable_requestPaint,Oa=o.unstable_now,Ta=o.unstable_getCurrentPriorityLevel,Pa=o.unstable_ImmediatePriority,ka=o.unstable_UserBlockingPriority,Da=o.unstable_NormalPriority,Ma=o.unstable_LowPriority,Ra=o.unstable_IdlePriority,Fa={},La=void 0!==Ia?Ia:function(){},Ba=null,Ua=null,za=!1,Va=Oa(),Ga=1e4>Va?Oa:function(){return Oa()-Va};function Ha(){switch(Ta()){case Pa:return 99;case ka:return 98;case Da:return 97;case Ma:return 96;case Ra:return 95;default:throw Error(i(332))}}function qa(e){switch(e){case 99:return Pa;case 98:return ka;case 97:return Da;case 96:return Ma;case 95:return Ra;default:throw Error(i(332))}}function Wa(e,t){return e=qa(e),Ca(e,t)}function Ya(e,t,r){return e=qa(e),Ea(e,t,r)}function Xa(){if(null!==Ua){var e=Ua;Ua=null,Sa(e)}$a()}function $a(){if(!za&&null!==Ba){za=!0;var e=0;try{var t=Ba;Wa(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ba=null}catch(t){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ea(Pa,Xa),t}finally{za=!1}}}var Qa=j.ReactCurrentBatchConfig;function Za(e,t){if(e&&e.defaultProps){for(var r in t=a({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Ka=la(null),Ja=null,eo=null,to=null;function ro(){to=eo=Ja=null}function no(e){var t=Ka.current;ua(Ka),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function oo(e,t){Ja=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Fi=!0),e.firstContext=null)}function io(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ja)throw Error(i(308));eo=t,Ja.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ho(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?a=o=i:o=o.next=i,r=r.next}while(null!==r);null===o?a=o=t:o=o.next=t}else a=o=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function po(e,t,r,n){var o=e.updateQueue;so=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==i){for(f=o.baseState,s=0,d=u=l=null;;){c=i.lane;var h=i.eventTime;if((n&c)===c){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(c=t,h=r,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(h,f,c);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(c="function"==typeof(p=m.payload)?p.call(h,f,c):p))break e;f=a({},f,c);break e;case 2:so=!0}}null!==i.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[i]:c.push(i))}else h={eventTime:h,lane:c,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=h,l=f):d=d.next=h,s|=c;if(null===(i=i.next)){if(null===(c=o.shared.pending))break;i=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Vs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(i(191,a));a.call(n)}}}var go=(new n.Component).refs;function vo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:a({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var xo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hc(),a=pc(e),o=uo(n,a);o.payload=t,null!=r&&(o.callback=r),fo(e,o),mc(e,a,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hc(),a=pc(e),o=uo(n,a);o.tag=1,o.payload=t,null!=r&&(o.callback=r),fo(e,o),mc(e,a,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hc(),n=pc(e),a=uo(r,n);a.tag=2,null!=t&&(a.callback=t),fo(e,a),mc(e,n,r)}};function bo(e,t,r,n,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!fn(r,n)||!fn(a,o))}function yo(e,t,r){var n=!1,a=fa,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(a=va(t)?ma:ha.current,o=(n=null!=(n=t.contextTypes))?ga(e,a):fa),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function jo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function wo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=go,co(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=io(o):(o=va(t)?ma:ha.current,a.context=ga(e,o)),po(e,r,a,n),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&xo.enqueueReplaceState(a,a.state,null),po(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4)}var No=Array.isArray;function _o(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=n.refs;t===go&&(t=n.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Yc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Zc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=a(t,r.props)).ref=_o(e,t,r),n.return=e,n):((n=Xc(r.type,r.key,r.props,null,e.mode,n)).ref=_o(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Kc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=$c(r,e.mode,n,o)).return=e,t):((t=a(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Zc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Xc(t.type,t.key,t.props,null,e.mode,r)).ref=_o(e,null,t),r.return=e,r;case N:return(t=Kc(t,e.mode,r)).return=e,t}if(No(t)||V(t))return(t=$c(t,e.mode,r,null)).return=e,t;Co(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==a?null:c(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?r.type===_?d(e,t,r.props.children,n,a):l(e,t,r,n):null;case N:return r.key===a?u(e,t,r,n):null}if(No(r)||V(r))return null!==a?null:d(e,t,r,n,null);Co(e,r)}return null}function p(e,t,r,n,a){if("string"==typeof n||"number"==typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return e=e.get(null===n.key?r:n.key)||null,n.type===_?d(t,e,n.props.children,a,n.key):l(t,e,n,a);case N:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a)}if(No(n)||V(n))return d(t,e=e.get(r)||null,n,a,null);Co(t,n)}return null}function m(a,i,s,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(a,d),l;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],c))&&(i=o(d,i,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=n(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),l}function g(a,s,c,l){var u=V(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,x=c.next();null!==m&&!x.done;g++,x=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,x.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(x.done)return r(a,m),u;if(null===m){for(;!x.done;g++,x=c.next())null!==(x=f(a,x.value,l))&&(s=o(x,s,g),null===d?u=x:d.sibling=x,d=x);return u}for(m=n(a,m);!x.done;g++,x=c.next())null!==(x=p(m,a,g,x.value,l))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x);return e&&m.forEach((function(e){return t(a,e)})),u}return function(e,n,o,c){var l="object"==typeof o&&null!==o&&o.type===_&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,l=n;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===_){r(e,l.sibling),(n=a(l,o.props.children)).return=e,e=n;break e}}else if(l.elementType===o.type){r(e,l.sibling),(n=a(l,o.props)).ref=_o(e,l,o),n.return=e,e=n;break e}r(e,l);break}t(e,l),l=l.sibling}o.type===_?((n=$c(o.props.children,e.mode,c,o.key)).return=e,e=n):((c=Xc(o.type,o.key,o.props,null,e.mode,c)).ref=_o(e,n,o),c.return=e,e=c)}return s(e);case N:e:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=a(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Kc(o,e.mode,c)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,o)).return=e,e=n):(r(e,n),(n=Zc(o,e.mode,c)).return=e,e=n),s(e);if(No(o))return m(e,n,o,c);if(V(o))return g(e,n,o,c);if(u&&Co(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,Y(e.type)||"Component"))}return r(e,n)}}var So=Eo(!0),Ao=Eo(!1),Io={},Oo=la(Io),To=la(Io),Po=la(Io);function ko(e){if(e===Io)throw Error(i(174));return e}function Do(e,t){switch(da(Po,t),da(To,e),da(Oo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ua(Oo),da(Oo,t)}function Mo(){ua(Oo),ua(To),ua(Po)}function Ro(e){ko(Po.current);var t=ko(Oo.current),r=pe(t,e.type);t!==r&&(da(To,e),da(Oo,r))}function Fo(e){To.current===e&&(ua(Oo),ua(To))}var Lo=la(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,zo=null,Vo=!1;function Go(e,t){var r=qc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ho(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(Vo){var t=zo;if(t){var r=t;if(!Ho(e,t)){if(!(t=Xn(r.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Go(Uo,r)}Uo=e,zo=Xn(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Yo(e){if(e!==Uo)return!1;if(!Vo)return Wo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hn(t,e.memoizedProps))for(t=zo;t;)Go(e,t),t=Xn(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){zo=Xn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}zo=null}}else zo=Uo?Xn(e.stateNode.nextSibling):null;return!0}function Xo(){zo=Uo=null,Vo=!1}var $o=[];function Qo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Zo=j.ReactCurrentDispatcher,Ko=j.ReactCurrentBatchConfig,Jo=0,ei=null,ti=null,ri=null,ni=!1,ai=!1;function oi(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function si(e,t,r,n,a,o){if(Jo=o,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=null===e||null===e.memoizedState?ki:Di,e=r(n,a),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ri=ti=null,t.updateQueue=null,Zo.current=Mi,e=r(n,a)}while(ai)}if(Zo.current=Pi,t=null!==ti&&null!==ti.next,Jo=0,ri=ti=ei=null,ni=!1,t)throw Error(i(300));return e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ri?ei.memoizedState=ri=e:ri=ri.next=e,ri}function li(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ri?ei.memoizedState:ri.next;if(null!==t)ri=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ri?ei.memoizedState=ri=e:ri=ri.next=e}return ri}function ui(e,t){return"function"==typeof t?t(e):t}function di(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=ti,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var c=s=o=null,l=a;do{var u=l.lane;if((Jo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=n):c=c.next=d,ei.lanes|=u,Vs|=u}l=l.next}while(null!==l&&l!==a);null===c?o=n:c.next=s,un(n,t.memoizedState)||(Fi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function fi(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);un(o,t.memoizedState)||(Fi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function hi(e,t,r){var n=t._getVersion;n=n(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===n:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=n,$o.push(t))),e)return r(t._source);throw $o.push(t),Error(i(350))}function pi(e,t,r,n){var a=Ds;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),c=Zo.current,l=c.useState((function(){return hi(a,t,r)})),u=l[1],d=l[0];l=ri;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,m=f.source;f=f.subscribe;var g=ei;return e.memoizedState={refs:h,source:t,subscribe:n},c.useEffect((function(){h.getSnapshot=r,h.setSnapshot=u;var e=o(t._source);if(!un(s,e)){e=r(t._source),un(d,e)||(u(e),e=pc(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var n=a.entanglements,i=e;0<i;){var c=31-Ht(i),l=1<<c;n[c]|=e,i&=~l}}}),[r,t,n]),c.useEffect((function(){return n(t._source,(function(){var e=h.getSnapshot,r=h.setSnapshot;try{r(e(t._source));var n=pc(g);a.mutableReadLanes|=n&a.pendingLanes}catch(e){r((function(){throw e}))}}))}),[t,n]),un(p,r)&&un(m,t)&&un(f,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ui,lastRenderedState:d}).dispatch=u=Ti.bind(null,ei,e),l.queue=e,l.baseQueue=null,d=hi(a,t,r),l.memoizedState=l.baseState=d),d}function mi(e,t,r){return pi(li(),e,t,r)}function gi(e){var t=ci();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e}).dispatch=Ti.bind(null,ei,e),[t.memoizedState,e]}function vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function xi(e){return e={current:e},ci().memoizedState=e}function bi(){return li().memoizedState}function yi(e,t,r,n){var a=ci();ei.flags|=e,a.memoizedState=vi(1|t,r,void 0,void 0===n?null:n)}function ji(e,t,r,n){var a=li();n=void 0===n?null:n;var o=void 0;if(null!==ti){var i=ti.memoizedState;if(o=i.destroy,null!==n&&ii(n,i.deps))return void vi(t,r,o,n)}ei.flags|=e,a.memoizedState=vi(1|t,r,o,n)}function wi(e,t){return yi(516,4,e,t)}function Ni(e,t){return ji(516,4,e,t)}function _i(e,t){return ji(4,2,e,t)}function Ci(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ei(e,t,r){return r=null!=r?r.concat([e]):null,ji(4,2,Ci.bind(null,t,e),r)}function Si(){}function Ai(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ii(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ii(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ii(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Oi(e,t){var r=Ha();Wa(98>r?98:r,(function(){e(!0)})),Wa(97<r?97:r,(function(){var r=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=r}}))}function Ti(e,t,r){var n=hc(),a=pc(e),o={lane:a,action:r,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===ei||null!==i&&i===ei)ai=ni=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=i(s,r);if(o.eagerReducer=i,o.eagerState=c,un(c,s))return}catch(e){}mc(e,a,n)}}var Pi={readContext:io,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},ki={readContext:io,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:wi,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,yi(4,2,Ci.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ti.bind(null,ei,e),[n.memoizedState,e]},useRef:xi,useState:gi,useDebugValue:Si,useDeferredValue:function(e){var t=gi(e),r=t[0],n=t[1];return wi((function(){var t=Ko.transition;Ko.transition=1;try{n(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=gi(!1),t=e[0];return xi(e=Oi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ci();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},pi(n,e,t,r)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Qn++).toString(36))),Error(i(355))})),r=gi(t)[1];return!(2&ei.mode)&&(ei.flags|=516,vi(5,(function(){r("r:"+(Qn++).toString(36))}),void 0,null)),t}return gi(t="r:"+(Qn++).toString(36)),t},unstable_isNewReconciler:!1},Di={readContext:io,useCallback:Ai,useContext:io,useEffect:Ni,useImperativeHandle:Ei,useLayoutEffect:_i,useMemo:Ii,useReducer:di,useRef:bi,useState:function(){return di(ui)},useDebugValue:Si,useDeferredValue:function(e){var t=di(ui),r=t[0],n=t[1];return Ni((function(){var t=Ko.transition;Ko.transition=1;try{n(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=di(ui)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return di(ui)[0]},unstable_isNewReconciler:!1},Mi={readContext:io,useCallback:Ai,useContext:io,useEffect:Ni,useImperativeHandle:Ei,useLayoutEffect:_i,useMemo:Ii,useReducer:fi,useRef:bi,useState:function(){return fi(ui)},useDebugValue:Si,useDeferredValue:function(e){var t=fi(ui),r=t[0],n=t[1];return Ni((function(){var t=Ko.transition;Ko.transition=1;try{n(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=fi(ui)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return fi(ui)[0]},unstable_isNewReconciler:!1},Ri=j.ReactCurrentOwner,Fi=!1;function Li(e,t,r,n){t.child=null===e?Ao(t,null,r,n):So(t,e.child,r,n)}function Bi(e,t,r,n,a){r=r.render;var o=t.ref;return oo(t,a),n=si(e,t,r,n,o,a),null===e||Fi?(t.flags|=1,Li(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Ui(e,t,r,n,a,o){if(null===e){var i=r.type;return"function"!=typeof i||Wc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Xc(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,zi(e,t,i,n,a,o))}return i=e.child,a&o||(a=i.memoizedProps,!(r=null!==(r=r.compare)?r:fn)(a,n)||e.ref!==t.ref)?(t.flags|=1,(e=Yc(i,n)).ref=t.ref,e.return=t,t.child=e):is(e,t,o)}function zi(e,t,r,n,a,o){if(null!==e&&fn(e.memoizedProps,n)&&e.ref===t.ref){if(Fi=!1,!(o&a))return t.lanes=e.lanes,is(e,t,o);16384&e.flags&&(Fi=!0)}return Hi(e,t,r,n,o)}function Vi(e,t,r){var n=t.pendingProps,a=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(4&t.mode){if(!(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Nc(t,e),null;t.memoizedState={baseLanes:0},Nc(t,null!==o?o.baseLanes:r)}else t.memoizedState={baseLanes:0},Nc(t,r);else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Nc(t,n);return Li(e,t,a,r),t.child}function Gi(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Hi(e,t,r,n,a){var o=va(r)?ma:ha.current;return o=ga(t,o),oo(t,a),r=si(e,t,r,n,o,a),null===e||Fi?(t.flags|=1,Li(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function qi(e,t,r,n,a){if(va(r)){var o=!0;ja(t)}else o=!1;if(oo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,r,n),wo(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=r.contextType;"object"==typeof l&&null!==l?l=io(l):l=ga(t,l=va(r)?ma:ha.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==n||c!==l)&&jo(t,i,n,l),so=!1;var f=t.memoizedState;i.state=f,po(t,n,i,a),c=t.memoizedState,s!==n||f!==c||pa.current||so?("function"==typeof u&&(vo(t,r,u,n),c=t.memoizedState),(s=so||bo(t,r,s,n,f,c,l))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=l,n=s):("function"==typeof i.componentDidMount&&(t.flags|=4),n=!1)}else{i=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Za(t.type,s),i.props=l,d=t.pendingProps,f=i.context,"object"==typeof(c=r.contextType)&&null!==c?c=io(c):c=ga(t,c=va(r)?ma:ha.current);var h=r.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||f!==c)&&jo(t,i,n,c),so=!1,f=t.memoizedState,i.state=f,po(t,n,i,a);var p=t.memoizedState;s!==d||f!==p||pa.current||so?("function"==typeof h&&(vo(t,r,h,n),p=t.memoizedState),(l=so||bo(t,r,l,n,f,p,c))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=l):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),n=!1)}return Wi(e,t,r,n,o,a)}function Wi(e,t,r,n,a,o){Gi(e,t);var i=!!(64&t.flags);if(!n&&!i)return a&&wa(t,r,!1),is(e,t,o);n=t.stateNode,Ri.current=t;var s=i&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Li(e,t,s,o),t.memoizedState=n.state,a&&wa(t,r,!0),t.child}function Yi(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Do(e,t.containerInfo)}var Xi,$i,Qi,Zi,Ki={dehydrated:null,retryLane:0};function Ji(e,t,r){var n,a=t.pendingProps,o=Lo.current,i=!1;return(n=!!(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&!!(2&o)),n?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),da(Lo,1&o),null===e?(void 0!==a.fallback&&qo(t),e=a.children,o=a.fallback,i?(e=es(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ki,e):"number"==typeof a.unstable_expectedLoadTime?(e=es(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ki,t.lanes=33554432,e):((r=Qc({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,i?(a=rs(e,t,a.children,a.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},i.childLanes=e.childLanes&~r,t.memoizedState=Ki,a):(r=ts(e,t,a.children,r),t.memoizedState=null,r))}function es(e,t,r,n){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},2&a||null===o?o=Qc(t,a,0,null):(o.childLanes=0,o.pendingProps=t),r=$c(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function ts(e,t,r,n){var a=e.child;return e=a.sibling,r=Yc(a,{mode:"visible",children:r}),!(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function rs(e,t,r,n,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:r};return 2&o||t.child===i?r=Yc(i,s):((r=t.child).childLanes=0,r.pendingProps=s,null!==(i=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?n=Yc(e,n):(n=$c(n,o,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function ns(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ao(e.return,t)}function as(e,t,r,n,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a,i.lastEffect=o)}function os(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Li(e,t,n.children,r),2&(n=Lo.current))n=1&n|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,r);else if(19===e.tag)ns(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(da(Lo,n),2&t.mode)switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Bo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),as(t,!1,a,r,o,t.lastEffect);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}as(t,!0,r,null,o,t.lastEffect);break;case"together":as(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function is(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,r&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Yc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Yc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ss(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return va(t.type)&&xa(),null;case 3:return Mo(),ua(pa),ua(ha),Qo(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Yo(t)?t.flags|=4:n.hydrate||(t.flags|=256)),$i(t),null;case 5:Fo(t);var o=ko(Po.current);if(r=t.type,null!==e&&null!=t.stateNode)Qi(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(i(166));return null}if(e=ko(Oo.current),Yo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Kn]=t,n[Jn]=s,r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(e=0;e<En.length;e++)On(En[e],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":ee(n,s),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},On("invalid",n);break;case"textarea":ce(n,s),On("invalid",n)}for(var l in _e(r,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?n.textContent!==o&&(e=["children",o]):"number"==typeof o&&n.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&On("scroll",n));switch(r){case"input":Q(n),ne(n,s,!0);break;case"textarea":Q(n),ue(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=Un)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(r)),e===de?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Kn]=t,e[Jn]=n,Xi(e,t,!1,!1),t.stateNode=e,l=Ce(r,n),r){case"dialog":On("cancel",e),On("close",e),o=n;break;case"iframe":case"object":case"embed":On("load",e),o=n;break;case"video":case"audio":for(o=0;o<En.length;o++)On(En[o],e);o=n;break;case"source":On("error",e),o=n;break;case"img":case"image":case"link":On("error",e),On("load",e),o=n;break;case"details":On("toggle",e),o=n;break;case"input":ee(e,n),o=J(e,n),On("invalid",e);break;case"option":o=oe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=a({},n,{value:void 0}),On("invalid",e);break;case"textarea":ce(e,n),o=se(e,n),On("invalid",e);break;default:o=n}_e(r,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==r||""!==d)&&xe(e,d):"number"==typeof d&&xe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&On("scroll",e):null!=d&&y(e,s,d,l))}switch(r){case"input":Q(e),ne(e,n,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=n.value&&e.setAttribute("value",""+X(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ie(e,!!n.multiple,s,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Un)}Gn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zi(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(i(166));r=ko(Po.current),ko(Oo.current),Yo(t)?(n=t.stateNode,r=t.memoizedProps,n[Kn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Kn]=t,t.stateNode=n)}return null;case 13:return ua(Lo),n=t.memoizedState,64&t.flags?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Yo(t):r=null!==e.memoizedState,n&&!r&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Lo.current?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ds||!(134217727&Vs)&&!(134217727&Gs)||bc(Ds,Rs))),(n||r)&&(t.flags|=4),null);case 4:return Mo(),$i(t),null===e&&Pn(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ua(Lo),null===(n=t.memoizedState))return null;if(s=!!(64&t.flags),null===(l=n.rendering))if(s)ss(n,!1);else{if(0!==Bs||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(l=Bo(e))){for(t.flags|=64,ss(n,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return da(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==n.tail&&Ga()>Ys&&(t.flags|=64,s=!0,ss(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Bo(l))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ss(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ga()-n.renderingStartTime>Ys&&1073741824!==r&&(t.flags|=64,s=!0,ss(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=n.last)?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ga(),r.sibling=null,t=Lo.current,da(Lo,s?1&t|2:1&t),r):null;case 23:case 24:return _c(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function ls(e){switch(e.tag){case 1:va(e.type)&&xa();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),ua(pa),ua(ha),Qo(),64&(t=e.flags))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return ua(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ua(Lo),null;case 4:return Mo(),null;case 10:return no(e),null;case 23:case 24:return _c(),null;default:return null}}function us(e,t){try{var r="",n=t;do{r+=W(n),n=n.return}while(n);var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Xi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$i=function(){},Qi=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,ko(Oo.current);var i,s=null;switch(r){case"input":o=J(e,o),n=J(e,n),s=[];break;case"option":o=oe(e,o),n=oe(e,n),s=[];break;case"select":o=a({},o,{value:void 0}),n=a({},n,{value:void 0}),s=[];break;case"textarea":o=se(e,o),n=se(e,n),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(e.onclick=Un)}for(d in _e(r,n),r=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var u=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(s||(s=[]),s.push(d,r)),r=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&On("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===M?u.toString():(s=s||[]).push(d,u))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Zi=function(e,t,r,n){r!==n&&(t.flags|=4)};var fs="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=uo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zs||(Zs=!0,Ks=n),ds(0,t)},r}function ps(e,t,r){(r=uo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return ds(0,t),n(a)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Js?Js=new Set([this]):Js.add(this),ds(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var ms="function"==typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){zc(e,t)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Za(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yn(t.stateNode.containerInfo))}throw Error(i(163))}function xs(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;n=a.next,4&(a=a.tag)&&1&a&&(Lc(r,e),Fc(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Za(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&mo(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}mo(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Gn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&wt(r)))))}throw Error(i(163))}function bs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"==typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var a=r.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,n.style.display=je("display",a)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ys(e,t){if(_a&&"function"==typeof _a.onCommitFiberUnmount)try{_a.onCommitFiberUnmount(Na,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,a=n.destroy;if(n=n.tag,void 0!==a)if(4&n)Lc(t,r);else{n=t;try{a()}catch(e){zc(n,e)}}r=r.next}while(r!==e)}break;case 1:if(gs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){zc(t,e)}break;case 5:gs(t);break;case 4:Es(e,t)}}function js(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Ns(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(i(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(i(161))}16&r.flags&&(xe(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ws(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?_s(e,r,t):Cs(e,r,t)}function _s(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Un));else if(4!==n&&null!==(e=e.child))for(_s(e,t,r),e=e.sibling;null!==e;)_s(e,t,r),e=e.sibling}function Cs(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Cs(e,t,r),e=e.sibling;null!==e;)Cs(e,t,r),e=e.sibling}function Es(e,t){for(var r,n,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=c;;)if(ys(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,n=!0,a.child.return=a,a=a.child;continue}}else if(ys(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{!(3&~n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var a=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Jn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Ce(e,a),t=Ce(e,n),a=0;a<o.length;a+=2){var s=o[a],c=o[a+1];"style"===s?we(r,c):"dangerouslySetInnerHTML"===s?ve(r,c):"children"===s?xe(r,c):y(r,s,c,t)}switch(e){case"input":re(r,n);break;case"textarea":le(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?ie(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?ie(r,!!n.multiple,n.defaultValue,!0):ie(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,wt(r.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Ga(),bs(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void bs(t,null!==t.memoizedState)}throw Error(i(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ms),t.forEach((function(t){var n=Gc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Os=Math.ceil,Ts=j.ReactCurrentDispatcher,Ps=j.ReactCurrentOwner,ks=0,Ds=null,Ms=null,Rs=0,Fs=0,Ls=la(0),Bs=0,Us=null,zs=0,Vs=0,Gs=0,Hs=0,qs=null,Ws=0,Ys=1/0;function Xs(){Ys=Ga()+500}var $s,Qs=null,Zs=!1,Ks=null,Js=null,ec=!1,tc=null,rc=90,nc=[],ac=[],oc=null,ic=0,sc=null,cc=-1,lc=0,uc=0,dc=null,fc=!1;function hc(){return 48&ks?Ga():-1!==cc?cc:cc=Ga()}function pc(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===Ha()?1:2;if(0===lc&&(lc=zs),0!==Qa.transition){0!==uc&&(uc=null!==qs?qs.pendingLanes:0),e=lc;var t=4186112&~uc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ha(),4&ks&&98===e?e=Ut(12,lc):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),lc),e}function mc(e,t,r){if(50<ic)throw ic=0,sc=null,Error(i(185));if(null===(e=gc(e,t)))return null;Gt(e,t,r),e===Ds&&(Gs|=t,4===Bs&&bc(e,Rs));var n=Ha();1===t?8&ks&&!(48&ks)?yc(e):(vc(e,r),0===ks&&(Xs(),Xa())):(!(4&ks)||98!==n&&99!==n||(null===oc?oc=new Set([e]):oc.add(e)),vc(e,r)),qs=e}function gc(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function vc(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),l=1<<c,u=o[c];if(-1===u){if(!(l&n)||l&a){u=t,Ft(l);var d=Rt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(n=Lt(e,e===Ds?Rs:0),t=Rt,0===n)null!==r&&(r!==Fa&&Sa(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Fa&&Sa(r)}15===t?(r=yc.bind(null,e),null===Ba?(Ba=[r],Ua=Ea(Pa,$a)):Ba.push(r),r=Fa):14===t?r=Ya(99,yc.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),r=Ya(r,xc.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function xc(e){if(cc=-1,uc=lc=0,48&ks)throw Error(i(327));var t=e.callbackNode;if(Rc()&&e.callbackNode!==t)return null;var r=Lt(e,e===Ds?Rs:0);if(0===r)return null;var n=r,a=ks;ks|=16;var o=Sc();for(Ds===e&&Rs===n||(Xs(),Cc(e,n));;)try{Oc();break}catch(t){Ec(e,t)}if(ro(),Ts.current=o,ks=a,null!==Ms?n=0:(Ds=null,Rs=0,n=Bs),zs&Gs)Cc(e,0);else if(0!==n){if(2===n&&(ks|=64,e.hydrate&&(e.hydrate=!1,Yn(e.containerInfo)),0!==(r=Bt(e))&&(n=Ac(e,r))),1===n)throw t=Us,Cc(e,0),bc(e,r),vc(e,Ga()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(i(345));case 2:case 5:kc(e);break;case 3:if(bc(e,r),(62914560&r)===r&&10<(n=Ws+500-Ga())){if(0!==Lt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){hc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qn(kc.bind(null,e),n);break}kc(e);break;case 4:if(bc(e,r),(4186112&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var s=31-Ht(r);o=1<<s,(s=n[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Ga()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Os(r/1960))-r)){e.timeoutHandle=qn(kc.bind(null,e),r);break}kc(e);break;default:throw Error(i(329))}}return vc(e,Ga()),e.callbackNode===t?xc.bind(null,e):null}function bc(e,t){for(t&=~Hs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),n=1<<r;e[r]=-1,t&=~n}}function yc(e){if(48&ks)throw Error(i(327));if(Rc(),e===Ds&&e.expiredLanes&Rs){var t=Rs,r=Ac(e,t);zs&Gs&&(r=Ac(e,t=Lt(e,t)))}else r=Ac(e,t=Lt(e,0));if(0!==e.tag&&2===r&&(ks|=64,e.hydrate&&(e.hydrate=!1,Yn(e.containerInfo)),0!==(t=Bt(e))&&(r=Ac(e,t))),1===r)throw r=Us,Cc(e,0),bc(e,t),vc(e,Ga()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e),vc(e,Ga()),null}function jc(e,t){var r=ks;ks|=1;try{return e(t)}finally{0===(ks=r)&&(Xs(),Xa())}}function wc(e,t){var r=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=r)&&(Xs(),Xa())}}function Nc(e,t){da(Ls,Fs),Fs|=t,zs|=t}function _c(){Fs=Ls.current,ua(Ls)}function Cc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Wn(r)),null!==Ms)for(r=Ms.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&xa();break;case 3:Mo(),ua(pa),ua(ha),Qo();break;case 5:Fo(n);break;case 4:Mo();break;case 13:case 19:ua(Lo);break;case 10:no(n);break;case 23:case 24:_c()}r=r.return}Ds=e,Ms=Yc(e.current,null),Rs=Fs=zs=t,Bs=0,Us=null,Hs=Gs=Vs=0}function Ec(e,t){for(;;){var r=Ms;try{if(ro(),Zo.current=Pi,ni){for(var n=ei.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ni=!1}if(Jo=0,ri=ti=ei=null,ai=!1,Ps.current=null,null===r||null===r.return){Bs=1,Us=t,Ms=null;break}e:{var o=e,i=r.return,s=r,c=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&Lo.current),f=i;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=f.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(h){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(!(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var x=uo(-1,1);x.tag=2,fo(s,x)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(s)){c.add(s);var y=Vc.bind(null,o,l,s);l.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),c=us(c,s),f=i;do{switch(f.tag){case 3:o=c,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,hs(0,o,t));break e;case 1:o=c;var j=f.type,w=f.stateNode;if(!(64&f.flags||"function"!=typeof j.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Js&&Js.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,ps(f,o,t));break e}}f=f.return}while(null!==f)}Pc(r)}catch(e){t=e,Ms===r&&null!==r&&(Ms=r=r.return);continue}break}}function Sc(){var e=Ts.current;return Ts.current=Pi,null===e?Pi:e}function Ac(e,t){var r=ks;ks|=16;var n=Sc();for(Ds===e&&Rs===t||Cc(e,t);;)try{Ic();break}catch(t){Ec(e,t)}if(ro(),ks=r,Ts.current=n,null!==Ms)throw Error(i(261));return Ds=null,Rs=0,Bs}function Ic(){for(;null!==Ms;)Tc(Ms)}function Oc(){for(;null!==Ms&&!Aa();)Tc(Ms)}function Tc(e){var t=$s(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Pc(e):Ms=t,Ps.current=null}function Pc(e){var t=e;do{var r=t.alternate;if(e=t.return,2048&t.flags){if(null!==(r=ls(t)))return r.flags&=2047,void(Ms=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(r=cs(r,t,Fs)))return void(Ms=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||1073741824&Fs||!(4&r.mode)){for(var n=0,a=r.child;null!==a;)n|=a.lanes|a.childLanes,a=a.sibling;r.childLanes=n}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Bs&&(Bs=5)}function kc(e){var t=Ha();return Wa(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{Rc()}while(null!==tc);if(48&ks)throw Error(i(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null;var n=r.lanes|r.childLanes,a=n,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-Ht(o),u=1<<l;a[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==oc&&!(24&n)&&oc.has(e)&&oc.delete(e),e===Ds&&(Ms=Ds=null,Rs=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(a=ks,ks|=32,Ps.current=null,zn=$t,vn(s=gn())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,f=-1,h=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var x;g!==c||0!==o&&3!==g.nodeType||(f=d+o),g!==l||0!==u&&3!==g.nodeType||(h=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(x=g.firstChild);)v=g,g=x;for(;;){if(g===s)break t;if(v===c&&++p===o&&(f=d),v===l&&++m===u&&(h=d),null!==(x=g.nextSibling))break;v=(g=v).parentNode}g=x}c=-1===f||-1===h?null:{start:f,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Vn={focusedElem:s,selectionRange:c},$t=!1,dc=null,fc=!1,Qs=n;do{try{Mc()}catch(e){if(null===Qs)throw Error(i(330));zc(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);dc=null,Qs=n;do{try{for(s=e;null!==Qs;){var b=Qs.flags;if(16&b&&xe(Qs.stateNode,""),128&b){var y=Qs.alternate;if(null!==y){var j=y.ref;null!==j&&("function"==typeof j?j(null):j.current=null)}}switch(1038&b){case 2:Ns(Qs),Qs.flags&=-3;break;case 6:Ns(Qs),Qs.flags&=-3,Ss(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ss(Qs.alternate,Qs);break;case 4:Ss(Qs.alternate,Qs);break;case 8:Es(s,c=Qs);var w=c.alternate;js(c),null!==w&&js(w)}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(i(330));zc(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);if(j=Vn,y=gn(),b=j.focusedElem,s=j.selectionRange,y!==b&&b&&b.ownerDocument&&mn(b.ownerDocument.documentElement,b)){null!==s&&vn(b)&&(y=s.start,void 0===(j=s.end)&&(j=y),"selectionStart"in b?(b.selectionStart=y,b.selectionEnd=Math.min(j,b.value.length)):(j=(y=b.ownerDocument||document)&&y.defaultView||window).getSelection&&(j=j.getSelection(),c=b.textContent.length,w=Math.min(s.start,c),s=void 0===s.end?w:Math.min(s.end,c),!j.extend&&w>s&&(c=s,s=w,w=c),c=pn(b,w),o=pn(b,s),c&&o&&(1!==j.rangeCount||j.anchorNode!==c.node||j.anchorOffset!==c.offset||j.focusNode!==o.node||j.focusOffset!==o.offset)&&((y=y.createRange()).setStart(c.node,c.offset),j.removeAllRanges(),w>s?(j.addRange(y),j.extend(o.node,o.offset)):(y.setEnd(o.node,o.offset),j.addRange(y))))),y=[];for(j=b;j=j.parentNode;)1===j.nodeType&&y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<y.length;b++)(j=y[b]).element.scrollLeft=j.left,j.element.scrollTop=j.top}$t=!!zn,Vn=zn=null,e.current=r,Qs=n;do{try{for(b=e;null!==Qs;){var N=Qs.flags;if(36&N&&xs(b,Qs.alternate,Qs),128&N){y=void 0;var _=Qs.ref;if(null!==_){var C=Qs.stateNode;Qs.tag,y=C,"function"==typeof _?_(y):_.current=y}}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(i(330));zc(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,La(),ks=a}else e.current=r;if(ec)ec=!1,tc=e,rc=t;else for(Qs=n;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((N=Qs).sibling=null,N.stateNode=null),Qs=t;if(0===(n=e.pendingLanes)&&(Js=null),1===n?e===sc?ic++:(ic=0,sc=e):ic=0,r=r.stateNode,_a&&"function"==typeof _a.onCommitFiberRoot)try{_a.onCommitFiberRoot(Na,r,void 0,!(64&~r.current.flags))}catch(e){}if(vc(e,Ga()),Zs)throw Zs=!1,e=Ks,Ks=null,e;return 8&ks||Xa(),null}function Mc(){for(;null!==Qs;){var e=Qs.alternate;fc||null===dc||(8&Qs.flags?et(Qs,dc)&&(fc=!0):13===Qs.tag&&Is(e,Qs)&&et(Qs,dc)&&(fc=!0));var t=Qs.flags;256&t&&vs(e,Qs),!(512&t)||ec||(ec=!0,Ya(97,(function(){return Rc(),null}))),Qs=Qs.nextEffect}}function Rc(){if(90!==rc){var e=97<rc?97:rc;return rc=90,Wa(e,Bc)}return!1}function Fc(e,t){nc.push(t,e),ec||(ec=!0,Ya(97,(function(){return Rc(),null})))}function Lc(e,t){ac.push(t,e),ec||(ec=!0,Ya(97,(function(){return Rc(),null})))}function Bc(){if(null===tc)return!1;var e=tc;if(tc=null,48&ks)throw Error(i(331));var t=ks;ks|=32;var r=ac;ac=[];for(var n=0;n<r.length;n+=2){var a=r[n],o=r[n+1],s=a.destroy;if(a.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));zc(o,e)}}for(r=nc,nc=[],n=0;n<r.length;n+=2){a=r[n],o=r[n+1];try{var c=a.create;a.destroy=c()}catch(e){if(null===o)throw Error(i(330));zc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return ks=t,Xa(),!0}function Uc(e,t,r){fo(e,t=hs(0,t=us(r,t),1)),t=hc(),null!==(e=gc(e,1))&&(Gt(e,1,t),vc(e,t))}function zc(e,t){if(3===e.tag)Uc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Uc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n))){var a=ps(r,e=us(t,e),1);if(fo(r,a),a=hc(),null!==(r=gc(r,1)))Gt(r,1,a),vc(r,a);else if("function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n)))try{n.componentDidCatch(t,e)}catch(e){}break}}r=r.return}}function Vc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=hc(),e.pingedLanes|=e.suspendedLanes&r,Ds===e&&(Rs&r)===r&&(4===Bs||3===Bs&&(62914560&Rs)===Rs&&500>Ga()-Ws?Cc(e,0):Hs|=r),vc(e,t)}function Gc(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(2&(t=e.mode)?4&t?(0===lc&&(lc=zs),0===(t=zt(62914560&~lc))&&(t=4194304)):t=99===Ha()?1:2:t=1),r=hc(),null!==(e=gc(e,t))&&(Gt(e,t,r),vc(e,r))}function Hc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(e,t,r,n){return new Hc(e,t,r,n)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yc(e,t){var r=e.alternate;return null===r?((r=qc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xc(e,t,r,n,a,o){var s=2;if(n=e,"function"==typeof e)Wc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case _:return $c(r.children,a,o,t);case R:s=8,a|=16;break;case C:s=8,a|=1;break;case E:return(e=qc(12,r,t,8|a)).elementType=E,e.type=E,e.lanes=o,e;case O:return(e=qc(13,r,t,a)).type=O,e.elementType=O,e.lanes=o,e;case T:return(e=qc(19,r,t,a)).elementType=T,e.lanes=o,e;case F:return Qc(r,a,o,t);case L:return(e=qc(24,r,t,a)).elementType=L,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case A:s=9;break e;case I:s=11;break e;case P:s=14;break e;case k:s=16,n=null;break e;case D:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=qc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function $c(e,t,r,n){return(e=qc(7,e,n,t)).lanes=r,e}function Qc(e,t,r,n){return(e=qc(23,e,n,t)).elementType=F,e.lanes=r,e}function Zc(e,t,r){return(e=qc(6,e,null,t)).lanes=r,e}function Kc(e,t,r){return(t=qc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function el(e,t,r,n){var a=t.current,o=hc(),s=pc(a);e:if(r){t:{if(Qe(r=r._reactInternals)!==r||1!==r.tag)throw Error(i(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(va(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===r.tag){var l=r.type;if(va(l)){r=ya(r,l,c);break e}}r=c}else r=fa;return null===t.context?t.context=r:t.pendingContext=r,(t=uo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(a,t),mc(a,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nl(e,t){rl(e,t),(e=e.alternate)&&rl(e,t)}function al(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Jc(e,t,null!=r&&!0===r.hydrate),t=qc(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,co(t),e[ea]=r.current,Pn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var a=(t=n[e])._getVersion;a=a(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,a]:r.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=r}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function il(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=tl(i);s.call(e)}}el(t,i,e,a)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new al(e,0,t?{hydrate:!0}:void 0)}(r,n),i=o._internalRoot,"function"==typeof a){var c=a;a=function(){var e=tl(i);c.call(e)}}wc((function(){el(t,i,e,a)}))}return tl(i)}function sl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}$s=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pa.current)Fi=!0;else{if(!(r&n)){switch(Fi=!1,t.tag){case 3:Yi(t),Xo();break;case 5:Ro(t);break;case 1:va(t.type)&&ja(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var a=t.type._context;da(Ka,a._currentValue),a._currentValue=n;break;case 13:if(null!==t.memoizedState)return r&t.child.childLanes?Ji(e,t,r):(da(Lo,1&Lo.current),null!==(t=is(e,t,r))?t.sibling:null);da(Lo,1&Lo.current);break;case 19:if(n=!!(r&t.childLanes),64&e.flags){if(n)return os(e,t,r);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),da(Lo,Lo.current),n)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,r)}return is(e,t,r)}Fi=!!(16384&e.flags)}else Fi=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ga(t,ha.current),oo(t,r),a=si(null,t,n,e,a,r),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,va(n)){var o=!0;ja(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,co(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&vo(t,n,s,e),a.updater=xo,t.stateNode=a,a._reactInternals=t,wo(t,n,e,r),t=Wi(null,t,n,!0,o,r)}else t.tag=0,Li(null,t,a,r),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"==typeof e)return Wc(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(a),e=Za(a,e),o){case 0:t=Hi(null,t,a,e,r);break e;case 1:t=qi(null,t,a,e,r);break e;case 11:t=Bi(null,t,a,e,r);break e;case 14:t=Ui(null,t,a,Za(a.type,e),n,r);break e}throw Error(i(306,a,""))}return t;case 0:return n=t.type,a=t.pendingProps,Hi(e,t,n,a=t.elementType===n?a:Za(n,a),r);case 1:return n=t.type,a=t.pendingProps,qi(e,t,n,a=t.elementType===n?a:Za(n,a),r);case 3:if(Yi(t),n=t.updateQueue,null===e||null===n)throw Error(i(282));if(n=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,lo(e,t),po(t,n,null,r),(n=t.memoizedState.element)===a)Xo(),t=is(e,t,r);else{if((o=(a=t.stateNode).hydrate)&&(zo=Xn(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],$o.push(o);for(r=Ao(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Li(e,t,n,r),Xo();t=t.child}return t;case 5:return Ro(t),null===e&&qo(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Hn(n,a)?s=null:null!==o&&Hn(n,o)&&(t.flags|=16),Gi(e,t),Li(e,t,s,r),t.child;case 6:return null===e&&qo(t),null;case 13:return Ji(e,t,r);case 4:return Do(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=So(t,null,n,r):Li(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Bi(e,t,n,a=t.elementType===n?a:Za(n,a),r);case 7:return Li(e,t,t.pendingProps,r),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var c=t.type._context;if(da(Ka,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=un(c,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(c,o):1073741823))){if(s.children===a.children&&!pa.current){t=is(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===n&&u.observedBits&o){1===c.tag&&((u=uo(-1,r&-r)).tag=2,fo(c,u)),c.lanes|=r,null!==(u=c.alternate)&&(u.lanes|=r),ao(c.return,r),l.lanes|=r;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Li(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=(o=t.pendingProps).children,oo(t,r),n=n(a=io(a,o.unstable_observedBits)),t.flags|=1,Li(e,t,n,r),t.child;case 14:return o=Za(a=t.type,t.pendingProps),Ui(e,t,a,o=Za(a.type,o),n,r);case 15:return zi(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Za(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,va(n)?(e=!0,ja(t)):e=!1,oo(t,r),yo(t,n,a),wo(t,n,a,r),Wi(null,t,n,!0,e,r);case 19:return os(e,t,r);case 23:case 24:return Vi(e,t,r)}throw Error(i(156,t.tag))},al.prototype.render=function(e){el(e,this._internalRoot,null,null)},al.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(mc(e,4,hc()),nl(e,4))},rt=function(e){13===e.tag&&(mc(e,67108864,hc()),nl(e,67108864))},nt=function(e){if(13===e.tag){var t=hc(),r=pc(e);mc(e,r,t),nl(e,r)}},at=function(e,t){return t()},Se=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=oa(n);if(!a)throw Error(i(90));Z(n),re(n,a)}}}break;case"textarea":le(e,r);break;case"select":null!=(t=r.value)&&ie(e,!!r.multiple,t,!1)}},ke=jc,De=function(e,t,r,n,a){var o=ks;ks|=4;try{return Wa(98,e.bind(null,t,r,n,a))}finally{0===(ks=o)&&(Xs(),Xa())}},Me=function(){!(49&ks)&&(function(){if(null!==oc){var e=oc;oc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vc(e,Ga())}))}Xa()}(),Rc())},Re=function(e,t){var r=ks;ks|=2;try{return e(t)}finally{0===(ks=r)&&(Xs(),Xa())}};var cl={Events:[na,aa,oa,Te,Pe,Rc,{current:!1}]},ll={findFiberByHostInstance:ra,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ul={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Na=dl.inject(ul),_a=dl}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cl,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var r=ks;if(48&r)return e(t);ks|=1;try{if(e)return Wa(99,e.bind(null,t))}finally{ks=r,Xa()}},t.hydrate=function(e,t,r){if(!ol(t))throw Error(i(200));return il(null,e,t,!0,r)},t.render=function(e,t,r){if(!ol(t))throw Error(i(200));return il(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(i(40));return!!e._reactRootContainer&&(wc((function(){il(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=jc,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ol(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return il(e,t,r,!1,n)},t.version="17.0.2"},2552:(e,t,r)=>{var n=r(1873),a=r(659),o=r(9350),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},2651:(e,t,r)=>{var n=r(4218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2694:(e,t,r)=>{"use strict";var n=r(6925);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},2749:(e,t,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},2799:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,x=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function j(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case m:case c:return e;default:return t}}case a:return t}}}function w(e){return j(e)===d}t.isFragment=function(e){return j(e)===o}},2804:(e,t,r)=>{var n=r(6110)(r(9325),"Promise");e.exports=n},2865:(e,t,r)=>{var n=r(9570),a=r(1811)(n);e.exports=a},2881:(e,t,r)=>{"use strict";var n=r(9516),a=r(6987);e.exports=function(e,t,r){var o=this||a;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},2882:e=>{var t="-".charCodeAt(0),r="+".charCodeAt(0),n=".".charCodeAt(0),a="e".charCodeAt(0),o="E".charCodeAt(0);e.exports=function(e){for(var i,s=0,c=e.length,l=!1,u=-1,d=!1;s<c;){if((i=e.charCodeAt(s))>=48&&i<=57)d=!0;else if(i===a||i===o){if(u>-1)break;u=s}else if(i===n){if(l)break;l=!0}else{if(i!==r&&i!==t)break;if(0!==s)break}s+=1}return u+1===s&&s--,!!d&&{number:e.slice(0,s),unit:e.slice(s)}}},2949:(e,t,r)=>{var n=r(2651);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},2958:(e,t,r)=>{"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return a(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:i(r,"appear",e),enter:i(r,"enter",e),exit:i(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=a(e.children),c=o(t,s);return Object.keys(c).forEach((function(a){var o=c[a];if((0,n.isValidElement)(o)){var l=a in t,u=a in s,d=t[a],f=(0,n.isValidElement)(d)&&!d.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,n.isValidElement)(d)&&(c[a]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:d.props.in,exit:i(o,"exit",e),enter:i(o,"enter",e)})):c[a]=(0,n.cloneElement)(o,{in:!1}):c[a]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:i(o,"exit",e),enter:i(o,"enter",e)})}})),c};var n=r(6540);function a(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function o(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var c in t){if(a[c])for(n=0;n<a[c].length;n++){var l=a[c][n];s[a[c][n]]=r(l)}s[c]=r(c)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}function i(e,t,r){return null!=r[t]?r[t]:e.props[t]}},2963:(e,t,r)=>{"use strict";var n=r(5709);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=n(r(598));e.exports=t.default},2973:()=>{},3031:(e,t,r)=>{var n=r(3120),a=r(6155),o=r(9302),i=r(6800),s=o((function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=s},3040:(e,t,r)=>{var n=r(1549),a=r(79),o=r(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},3120:(e,t,r)=>{var n=r(4528),a=r(5891);e.exports=function e(t,r,o,i,s){var c=-1,l=t.length;for(o||(o=a),s||(s=[]);++c<l;){var u=t[c];r>0&&o(u)?r>1?e(u,r-1,o,i,s):n(s,u):i||(s[s.length]=u)}return s}},3181:(e,t,r)=>{var n=r(5508)();e.exports=n},3191:(e,t,r)=>{"use strict";var n=r(1928);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},3221:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}},3222:(e,t,r)=>{var n=r(7556);e.exports=function(e){return null==e?"":n(e)}},3243:(e,t,r)=>{var n=r(6110),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},3335:e=>{e.exports=function(e,t){return e>t}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,r)=>{var n=r(3243);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},3471:(e,t,r)=>{"use strict";var n=r(9516);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},3488:e=>{e.exports=function(e){return e}},3599:(e,t,r)=>{var n=r(4394);e.exports=function(e,t,r){for(var a=-1,o=e.length;++a<o;){var i=e[a],s=t(i);if(null!=s&&(void 0===c?s==s&&!n(s):r(s,c)))var c=s,l=i}return l}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,r)=>{var n=r(4335)(Object.keys,Object);e.exports=n},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),a=r(9935),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},3661:(e,t,r)=>{var n=r(3040),a=r(7670),o=r(289),i=r(4509),s=r(2949);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},3663:(e,t,r)=>{var n=r(1799),a=r(776),o=r(7197);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3714:(e,t,r)=>{var n=r(3730);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,c=r.length;++a<s;){var l=n(o[a],i[a]);if(l)return a>=c?l:l*("desc"==r[a]?-1:1)}return e.index-t.index}},3730:(e,t,r)=>{var n=r(4394);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e==e,i=n(e),s=void 0!==t,c=null===t,l=t==t,u=n(t);if(!c&&!u&&!i&&e>t||i&&s&&l&&!c&&!u||a&&s&&l||!r&&l||!o)return 1;if(!a&&!i&&!u&&e<t||u&&r&&o&&!a&&!i||c&&r&&o||!s&&o||!l)return-1}return 0}},3777:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3812:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3912:(e,t,r)=>{var n=r(1074),a=r(9698),o=r(2054);e.exports=function(e){return a(e)?o(e):n(e)}},3916:(e,t,r)=>{var n=r(3360),a=r(641),o=r(5389);e.exports=function(e,t){var r={};return t=o(t,3),a(e,(function(e,a,o){n(r,a,t(e,a,o))})),r}},3937:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},3948:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(a)&&s.push("path="+a),n.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3950:e=>{e.exports=function(){}},4128:(e,t,r)=>{var n=r(1800),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},4198:e=>{"use strict";e.exports=JSON.parse('{"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["#DEV:/","/localtunnel"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@0.21.4","_where":"C:\\\\Users\\\\alvar\\\\Documentos\\\\GitHub\\\\arabitofacturacion","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},4202:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},4248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},4363:(e,t,r)=>{"use strict";e.exports=r(2799)},4394:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},4490:(e,t,r)=>{"use strict";var n=r(9516),a=r(2881),o=r(3864),i=r(6987);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return s(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4506:(e,t,r)=>{var n=r(3599),a=r(3335),o=r(3488);e.exports=function(e){return e&&e.length?n(e,o,a):void 0}},4509:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).has(e)}},4517:(e,t,r)=>{var n=r(6545),a=r(3950),o=r(4247),i=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=i},4528:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},4664:(e,t,r)=>{var n=r(9770),a=r(3345),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),n(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4713:(e,t,r)=>{var n=r(2523),a=r(5389),o=r(1489),i=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var c=null==r?0:o(r);return c<0&&(c=i(s+c,0)),n(e,a(t,3),c)}},4739:(e,t,r)=>{var n=r(6025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},4841:(e,t,r)=>{"use strict";var n=r(4198),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={},i=n.version.split(".");function s(e,t){for(var r=t?t.split("."):i,n=e.split("."),a=0;a<3;a++){if(r[a]>n[a])return!0;if(r[a]<n[a])return!1}return!1}a.transitional=function(e,t,r){var a=t&&s(t);function i(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(i(n," has been removed in "+t));return a&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],i=t[o];if(i){var s=e[o],c=void 0===s||i(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:a}},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},4894:(e,t,r)=>{var n=r(1882),a=r(294);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},4901:(e,t,r)=>{var n=r(2552),a=r(294),o=r(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[n(e)]}},4932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},5009:e=>{e.exports=function e(t,r,n){var a,o,i,s;for(a=0,o=t.length;a<o;a+=1)i=t[a],n||(s=r(i,a,t)),!1!==s&&"function"===i.type&&Array.isArray(i.nodes)&&e(i.nodes,r,n),n&&r(i,a,t)}},5015:(e,t,r)=>{var n=r(2552),a=r(6449),o=r(346);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==n(e)}},5019:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},5083:(e,t,r)=>{var n=r(1882),a=r(7296),o=r(3805),i=r(7473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?f:s).test(i(e))}},5128:(e,t,r)=>{var n=r(909),a=r(4894);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}},5155:(e,t,r)=>{"use strict";var n=r(9516),a=r(9106),o=r(3471),i=r(4490),s=r(5343),c=r(4841),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var u=[i,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(o),a=Promise.resolve(e);u.length;)a=a.then(u.shift(),u.shift());return a}for(var d=e;r.length;){var f=r.shift(),h=r.shift();try{d=f(d)}catch(e){h(e);break}}try{a=i(d)}catch(e){return Promise.reject(e)}for(;o.length;)a=a.then(o.shift(),o.shift());return a},u.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=u},5160:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))r.call(o,l)&&(s[l]=o[l]);if(t){i=t(o);for(var u=0;u<i.length;u++)n.call(o,i[u])&&(s[i[u]]=o[i[u]])}}return s}},5287:(e,t,r)=>{"use strict";var n=r(5228),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function v(){}function x(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=x.prototype=new v;b.constructor=x,n(b,g.prototype),b.isPureReactComponent=!0;var y={current:null},j=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var n,o={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,n)&&!w.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===o[n]&&(o[n]=c[n]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:y.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,r,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case o:c=!0}}if(c)return i=i(c=e),e=""===n?"."+E(c,0):n,Array.isArray(i)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),S(i,t,r,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=n+E(s=e[l],l);c+=S(s,t,r,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=S(s=s.value,t,r,u=n+E(s,l++),i);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function A(e,t,r){if(null==e)return e;var n=[],a=0;return S(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function T(){var e=O.current;if(null===e)throw Error(h(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=x,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null==e)throw Error(h(267,e));var o=n({},e.props),i=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)j.call(t,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return T().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,r){return T().useReducer(e,t,r)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5325:(e,t,r)=>{var n=r(6131);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5343:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){t=t||{};var r={},a=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function l(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(e[a],t[a])}n.forEach(a,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(o,l),n.forEach(i,(function(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(void 0,t[a])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var u=a.concat(o).concat(i).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(d,l),r}},5378:(e,t,r)=>{var n=r(4932),a=r(5389),o=r(5128),i=r(6449);e.exports=function(e,t){return(i(e)?n:o)(e,a(t,3))}},5389:(e,t,r)=>{var n=r(3663),a=r(7978),o=r(3488),i=r(6449),s=r(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):s(e)}},5449:e=>{"use strict";e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},5463:e=>{e.exports=function(e){return e!=e}},5481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},5508:(e,t,r)=>{var n=r(6151),a=r(6800),o=r(7400);e.exports=function(e){return function(t,r,i){return i&&"number"!=typeof i&&a(t,r,i)&&(r=i=void 0),t=o(t),void 0===r?(r=t,t=0):r=o(r),i=void 0===i?t<r?1:-1:o(i),n(t,r,i,e)}}},5527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},5556:(e,t,r)=>{e.exports=r(2694)()},5580:(e,t,r)=>{var n=r(6110)(r(9325),"DataView");e.exports=n},5592:(e,t,r)=>{"use strict";var n=r(9516),a=r(7522),o=r(3948),i=r(9106),s=r(9615),c=r(2012),l=r(4202),u=r(7763);e.exports=function(e){return new Promise((function(t,r){var d=e.data,f=e.headers,h=e.responseType;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+g)}var v=s(e.baseURL,e.url);function x(){if(p){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};a(t,r,o),p=null}}if(p.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(r(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||l(v))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),d||(d=null),p.send(d)}))}},5606:e=>{var t,r,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=i(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5610:(e,t,r)=>{var n=r(9513),a=r(5009),o=r(7671);function i(e){return this instanceof i?(this.nodes=n(e),this):new i(e)}i.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},i.prototype.walk=function(e,t){return a(this.nodes,e,t),this},i.unit=r(2882),i.walk=a,i.stringify=o,e.exports=i},5612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=i(t,r);return"MathExpression"===t.type&&(n=e+"("+n+")"),n};var n=r(558),a={"*":0,"/":0,"+":1,"-":1};function o(e,t){if(!1!==t){var r=Math.pow(10,t);return Math.round(e*r)/r}return e}function i(e,t){switch(e.type){case"MathExpression":var r=e.left,s=e.right,c=e.operator,l="";return"MathExpression"===r.type&&a[c]<a[r.operator]?l+="("+i(r,t)+")":l+=i(r,t),l+=" "+e.operator+" ","MathExpression"===s.type&&a[c]<a[s.operator]?l+="("+i(s,t)+")":"MathExpression"===s.type&&"-"===c&&["+","-"].includes(s.operator)?(s.operator=(0,n.flip)(s.operator),l+=i(s,t)):l+=i(s,t),l;case"Value":return o(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+i(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+i(e.value,t)+")":"calc("+i(e.value,t)+")";default:return o(e.value,t)+e.unit}}e.exports=t.default},5709:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},5749:(e,t,r)=>{var n=r(1042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5765:(e,t,r)=>{var n=r(8859),a=r(5325),o=r(9905),i=r(9219),s=r(4517),c=r(4247);e.exports=function(e,t,r){var l=-1,u=a,d=e.length,f=!0,h=[],p=h;if(r)f=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);f=!1,u=i,p=new n}else p=t?[]:h;e:for(;++l<d;){var g=e[l],v=t?t(g):g;if(g=r||0!==g?g:0,f&&v==v){for(var x=p.length;x--;)if(p[x]===v)continue e;t&&p.push(v),h.push(g)}else u(p,v,r)||(p!==h&&p.push(v),h.push(g))}return h}},5808:(e,t,r)=>{var n=r(2507)("toUpperCase");e.exports=n},5861:(e,t,r)=>{var n=r(5580),a=r(8223),o=r(2804),i=r(6545),s=r(8303),c=r(2552),l=r(7473),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=l(n),g=l(a),v=l(o),x=l(i),b=l(s),y=c;(n&&y(new n(new ArrayBuffer(1)))!=p||a&&y(new a)!=u||o&&y(o.resolve())!=d||i&&y(new i)!=f||s&&y(new s)!=h)&&(y=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case m:return p;case g:return u;case v:return d;case x:return f;case b:return h}return t}),e.exports=y},5870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(5610)),a=r(975),o=s(r(558)),i=s(r(5612));function s(e){return e&&e.__esModule?e:{default:e}}var c=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,n.default)(e).walk((function(e){if("function"===e.type&&c.test(e.value)){var r=n.default.stringify(e.nodes);if(!(r.indexOf("constant")>=0||r.indexOf("env")>=0)){var s=a.parser.parse(r),l=(0,o.default)(s,t);e.type="word",e.value=(0,i.default)(e.value,l,t)}}}),!0).toString()},e.exports=t.default},5891:(e,t,r)=>{var n=r(1873),a=r(2428),o=r(6449),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},5911:(e,t,r)=>{var n=r(8859),a=r(4248),o=r(9219);e.exports=function(e,t,r,i,s,c){var l=1&r,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,g=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var v=e[p],x=t[p];if(i)var b=l?i(x,v,p,t,e,c):i(v,x,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,r,i,c)))return g.push(t)}))){m=!1;break}}else if(v!==x&&!s(v,x,r,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},5950:(e,t,r)=>{var n=r(695),a=r(8984),o=r(4894);e.exports=function(e){return o(e)?n(e):a(e)}},6009:(e,t,r)=>{e=r.nmd(e);var n=r(4840),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,r)=>{var n=r(5288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},6110:(e,t,r)=>{var n=r(5083),a=r(392);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},6131:(e,t,r)=>{var n=r(2523),a=r(5463),o=r(6959);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,a,r)}},6151:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,o){for(var i=-1,s=r(t((n-e)/(a||1)),0),c=Array(s);s--;)c[o?s:++i]=e,e+=a;return c}},6155:(e,t,r)=>{var n=r(4932),a=r(7422),o=r(5389),i=r(5128),s=r(3937),c=r(7301),l=r(3714),u=r(3488),d=r(6449);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=n(t,c(o));var h=i(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return l(e,t,r)}))}},6176:e=>{e.exports=function(e,t){return e<t}},6449:e=>{var t=Array.isArray;e.exports=t},6540:(e,t,r)=>{"use strict";e.exports=r(5287)},6545:(e,t,r)=>{var n=r(6110)(r(9325),"Set");e.exports=n},6649:(e,t,r)=>{var n=r(3221)();e.exports=n},6721:(e,t,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},6757:(e,t,r)=>{var n=r(1033),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=r(c),n(e,this,l)}}},6800:(e,t,r)=>{var n=r(5288),a=r(4894),o=r(361),i=r(3805);e.exports=function(e,t,r){if(!i(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},6959:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},6987:(e,t,r)=>{"use strict";var n=r(5606),a=r(9516),o=r(7018),i=r(5449),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(l=r(5592)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,r){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){u.headers[e]=a.merge(s)})),e.exports=u},6988:e=>{var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,r,n,a){if(!t.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!t[n].hasOwnProperty(r))throw new Error("Cannot convert from "+r+" to "+n);var o=t[n][r]*e;return!1!==a?(a=Math.pow(10,parseInt(a)||5),Math.round(o*a)/a):o}},7018:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},7068:(e,t,r)=>{var n=r(7217),a=r(5911),o=r(1986),i=r(689),s=r(5861),c=r(6449),l=r(3656),u=r(7167),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,v){var x=c(e),b=c(t),y=x?f:s(e),j=b?f:s(t),w=(y=y==d?h:y)==h,N=(j=j==d?h:j)==h,_=y==j;if(_&&l(e)){if(!l(t))return!1;x=!0,w=!1}if(_&&!w)return v||(v=new n),x||u(e)?a(e,t,r,m,g,v):o(e,t,y,r,m,g,v);if(!(1&r)){var C=w&&p.call(e,"__wrapped__"),E=N&&p.call(t,"__wrapped__");if(C||E){var S=C?e.value():e,A=E?t.value():t;return v||(v=new n),g(S,A,r,m,v)}}return!!_&&(v||(v=new n),i(e,t,r,m,g,v))}},7167:(e,t,r)=>{var n=r(4901),a=r(7301),o=r(6009),i=o&&o.isTypedArray,s=i?a(i):n;e.exports=s},7197:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},7217:(e,t,r)=>{var n=r(79),a=r(1420),o=r(938),i=r(3605),s=r(9817),c=r(945);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,r)=>{var n=r(7422);e.exports=function(e){return function(t){return n(t,e)}}},7277:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},7296:(e,t,r)=>{var n,a=r(5481),o=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7307:(e,t,r)=>{var n=r(3120),a=r(5378);e.exports=function(e,t){return n(a(e,t),1)}},7309:(e,t,r)=>{var n=r(2006)(r(4713));e.exports=n},7334:e=>{e.exports=function(e){return function(){return e}}},7350:(e,t,r)=>{var n=r(8221),a=r(3805);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},7400:(e,t,r)=>{var n=r(9374),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,r)=>{var n=r(1769),a=r(7797);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[a(t[r++])];return r&&r==o?e:void 0}},7463:(e,t)=>{"use strict";var r,n,a,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},n=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,x=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,j=y.port2;y.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+x;try{g(!0,e)?j.postMessage(null):(m=!1,g=null)}catch(e){throw j.postMessage(null),e}}else m=!1},r=function(e){g=e,m||(m=!0,j.postMessage(null))},n=function(e,r){v=f((function(){e(t.unstable_now())}),r)},a=function(){h(v),v=-1}}function w(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,a=e[n];if(!(void 0!==a&&0<C(a,t)))break e;e[n]=t,e[r]=a,r=n}}function N(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length;n<a;){var o=2*(n+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>C(i,r))void 0!==c&&0>C(c,i)?(e[n]=c,e[s]=r,n=s):(e[n]=i,e[o]=r,n=o);else{if(!(void 0!==c&&0>C(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function C(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var E=[],S=[],A=1,I=null,O=3,T=!1,P=!1,k=!1;function D(e){for(var t=N(S);null!==t;){if(null===t.callback)_(S);else{if(!(t.startTime<=e))break;_(S),t.sortIndex=t.expirationTime,w(E,t)}t=N(S)}}function M(e){if(k=!1,D(e),!P)if(null!==N(E))P=!0,r(R);else{var t=N(S);null!==t&&n(M,t.startTime-e)}}function R(e,r){P=!1,k&&(k=!1,a()),T=!0;var o=O;try{for(D(r),I=N(E);null!==I&&(!(I.expirationTime>r)||e&&!t.unstable_shouldYield());){var i=I.callback;if("function"==typeof i){I.callback=null,O=I.priorityLevel;var s=i(I.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?I.callback=s:I===N(E)&&_(E),D(r)}else _(E);I=N(E)}if(null!==I)var c=!0;else{var l=N(S);null!==l&&n(M,l.startTime-r),c=!1}return c}finally{I=null,O=o,T=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||T||(P=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return N(E)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var r=O;O=t;try{return e()}finally{O=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=O;O=e;try{return t()}finally{O=r}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>s?(e.sortIndex=i,w(S,e),null===N(E)&&e===N(S)&&(k?a():k=!0,n(M,i-s))):(e.sortIndex=c,w(E,e),P||T||(P=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var r=O;O=t;try{return e.apply(this,arguments)}finally{O=r}}}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7522:(e,t,r)=>{"use strict";var n=r(7763);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},7534:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},7556:(e,t,r)=>{var n=r(1873),a=r(4932),o=r(6449),i=r(4394),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},7670:(e,t,r)=>{var n=r(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7671:e=>{function t(e,t){var n,a,o=e.type,i=e.value;return t&&void 0!==(a=t(e))?a:"word"===o||"space"===o?i:"string"===o?(n=e.quote||"")+i+(e.unclosed?"":n):"comment"===o?"/*"+i+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+i+(e.after||""):Array.isArray(e.nodes)?(n=r(e.nodes),"function"!==o?n:i+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):i}function r(e,r){var n,a;if(Array.isArray(e)){for(n="",a=e.length-1;~a;a-=1)n=t(e[a],r)+n;return n}return t(e,r)}e.exports=r},7763:(e,t,r)=>{"use strict";var n=r(5449);e.exports=function(e,t,r,a,o){var i=new Error(e);return n(i,t,r,a,o)}},7797:(e,t,r)=>{var n=r(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},7978:(e,t,r)=>{var n=r(270),a=r(8156),o=r(631),i=r(8586),s=r(756),c=r(7197),l=r(7797);e.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(r){var i=a(r,e);return void 0===i&&i===t?o(r,e):n(t,i,3)}}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8015:(e,t,r)=>{"use strict";var n=r(9516),a=r(9012),o=r(5155),i=r(5343);function s(e){var t=new o(e),r=a(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=s(r(6987));c.Axios=o,c.create=function(e){return s(i(c.defaults,e))},c.Cancel=r(1928),c.CancelToken=r(3191),c.isCancel=r(3864),c.all=function(e){return Promise.all(e)},c.spread=r(7980),c.isAxiosError=r(5019),e.exports=c,e.exports.default=c},8023:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},8096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},8156:(e,t,r)=>{var n=r(7422);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},8221:(e,t,r)=>{var n=r(3805),a=r(124),o=r(9374),i=Math.max,s=Math.min;e.exports=function(e,t,r){var c,l,u,d,f,h,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var r=c,n=l;return c=l=void 0,p=t,d=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-p>=u}function y(){var e=a();if(b(e))return j(e);f=setTimeout(y,function(e){var r=t-(e-h);return g?s(r,u-(e-p)):r}(e))}function j(e){return f=void 0,v&&c?x(e):(c=l=void 0,d)}function w(){var e=a(),r=b(e);if(c=arguments,l=this,h=e,r){if(void 0===f)return function(e){return p=e,f=setTimeout(y,t),m?x(e):d}(h);if(g)return clearTimeout(f),f=setTimeout(y,t),x(h)}return void 0===f&&(f=setTimeout(y,t)),d}return t=o(t)||0,n(r)&&(m=!!r.leading,u=(g="maxWait"in r)?i(o(r.maxWait)||0,t):u,v="trailing"in r?!!r.trailing:v),w.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},w.flush=function(){return void 0===f?d:j(a())},w}},8223:(e,t,r)=>{var n=r(6110)(r(9325),"Map");e.exports=n},8289:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{scaleBand:()=>sf,scaleDiverging:()=>lv,scaleDivergingLog:()=>uv,scaleDivergingPow:()=>fv,scaleDivergingSqrt:()=>hv,scaleDivergingSymlog:()=>dv,scaleIdentity:()=>np,scaleImplicit:()=>af,scaleLinear:()=>rp,scaleLog:()=>fp,scaleOrdinal:()=>of,scalePoint:()=>lf,scalePow:()=>jp,scaleQuantile:()=>kp,scaleQuantize:()=>Dp,scaleRadial:()=>_p,scaleSequential:()=>rv,scaleSequentialLog:()=>nv,scaleSequentialPow:()=>ov,scaleSequentialQuantile:()=>sv,scaleSequentialSqrt:()=>iv,scaleSequentialSymlog:()=>av,scaleSqrt:()=>wp,scaleSymlog:()=>gp,scaleThreshold:()=>Mp,scaleTime:()=>Kg,scaleUtc:()=>Jg,tickFormat:()=>ep});var a=r(961),o=r(6540),i=r(2505),s=r.n(i),c="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function l(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){r(window.event)}))}function u(e,t){for(var r=t.slice(0,t.length-1),n=0;n<r.length;n++)r[n]=e[r[n].toLowerCase()];return r}function d(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),r=t.lastIndexOf("");r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}for(var f={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":c?173:189,"=":c?61:187,";":c?59:186,"'":222,"[":219,"]":221,"\\":220},h={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},m={16:!1,18:!1,17:!1,91:!1},g={},v=1;v<20;v++)f["f".concat(v)]=111+v;var x=[],b="all",y=[],j=function(e){return f[e.toLowerCase()]||h[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function w(e){b=e||"all"}function N(){return b||"all"}var _=function(e){var t=e.key,r=e.scope,n=e.method,a=e.splitKey,o=void 0===a?"+":a;d(t).forEach((function(e){var t=e.split(o),a=t.length,i=t[a-1],s="*"===i?"*":j(i);if(g[s]){r||(r=N());var c=a>1?u(h,t):[];g[s]=g[s].map((function(e){return(!n||e.method===n)&&e.scope===r&&function(e,t){for(var r=e.length>=t.length?e:t,n=e.length>=t.length?t:e,a=!0,o=0;o<r.length;o++)-1===n.indexOf(r[o])&&(a=!1);return a}(e.mods,c)?{}:e}))}}))};function C(e,t,r){var n;if(t.scope===r||"all"===t.scope){for(var a in n=t.mods.length>0,m)Object.prototype.hasOwnProperty.call(m,a)&&(!m[a]&&t.mods.indexOf(+a)>-1||m[a]&&-1===t.mods.indexOf(+a))&&(n=!1);(0!==t.mods.length||m[16]||m[18]||m[17]||m[91])&&!n&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function E(e){var t=g["*"],r=e.keyCode||e.which||e.charCode;if(S.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===x.indexOf(r)&&229!==r&&x.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var r=p[t];e[t]&&-1===x.indexOf(r)?x.push(r):!e[t]&&x.indexOf(r)>-1?x.splice(x.indexOf(r),1):"metaKey"===t&&e[t]&&3===x.length&&(e.ctrlKey||e.shiftKey||e.altKey||(x=x.slice(x.indexOf(r))))})),r in m){for(var n in m[r]=!0,h)h[n]===r&&(S[n]=!0);if(!t)return}for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&(m[a]=e[p[a]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===x.indexOf(17)&&x.push(17),-1===x.indexOf(18)&&x.push(18),m[17]=!0,m[18]=!0);var o=N();if(t)for(var i=0;i<t.length;i++)t[i].scope===o&&("keydown"===e.type&&t[i].keydown||"keyup"===e.type&&t[i].keyup)&&C(e,t[i],o);if(r in g)for(var s=0;s<g[r].length;s++)if(("keydown"===e.type&&g[r][s].keydown||"keyup"===e.type&&g[r][s].keyup)&&g[r][s].key){for(var c=g[r][s],l=c.splitKey,u=c.key.split(l),d=[],f=0;f<u.length;f++)d.push(j(u[f]));d.sort().join("")===x.sort().join("")&&C(e,c,o)}}}function S(e,t,r){x=[];var n=d(e),a=[],o="all",i=document,s=0,c=!1,f=!0,p="+";for(void 0===r&&"function"==typeof t&&(r=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(i=t.element),t.keyup&&(c=t.keyup),void 0!==t.keydown&&(f=t.keydown),"string"==typeof t.splitKey&&(p=t.splitKey)),"string"==typeof t&&(o=t);s<n.length;s++)a=[],(e=n[s].split(p)).length>1&&(a=u(h,e)),(e="*"===(e=e[e.length-1])?"*":j(e))in g||(g[e]=[]),g[e].push({keyup:c,keydown:f,scope:o,mods:a,shortcut:n[s],method:r,key:n[s],splitKey:p});void 0!==i&&!function(e){return y.indexOf(e)>-1}(i)&&window&&(y.push(i),l(i,"keydown",(function(e){E(e)})),l(window,"focus",(function(){x=[]})),l(i,"keyup",(function(e){E(e),function(e){var t=e.keyCode||e.which||e.charCode,r=x.indexOf(t);if(r>=0&&x.splice(r,1),e.key&&"meta"===e.key.toLowerCase()&&x.splice(0,x.length),93!==t&&224!==t||(t=91),t in m)for(var n in m[t]=!1,h)h[n]===t&&(S[n]=!1)}(e)})))}var A={setScope:w,getScope:N,deleteScope:function(e,t){var r,n;for(var a in e||(e=N()),g)if(Object.prototype.hasOwnProperty.call(g,a))for(r=g[a],n=0;n<r.length;)r[n].scope===e?r.splice(n,1):n++;N()===e&&w(t||"all")},getPressedKeyCodes:function(){return x.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=j(e)),-1!==x.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,r=t.tagName,n=!0;return!t.isContentEditable&&("INPUT"!==r&&"TEXTAREA"!==r&&"SELECT"!==r||t.readOnly)||(n=!1),n},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&_(e)}));else if("object"==typeof e)e.key&&_(e);else if("string"==typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0],o=r[1];"function"==typeof a&&(o=a,a=""),_({key:e,scope:a,method:o,splitKey:"+"})}}else Object.keys(g).forEach((function(e){return delete g[e]}))}};for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(S[I]=A[I]);if("undefined"!=typeof window){var O=window.hotkeys;S.noConflict=function(e){return e&&window.hotkeys===S&&(window.hotkeys=O),S},window.hotkeys=S}const T=S;T.filter=function(){return!0};var P,k=function(e,t){var r=e.target,n=r&&r.tagName;return Boolean(n&&t&&t.includes(n))};function D(e,t,r,n){r instanceof Array&&(n=r,r=void 0);var a=r||{},i=a.enableOnTags,s=a.filter,c=a.keyup,l=a.keydown,u=a.filterPreventDefault,d=void 0===u||u,f=a.enabled,h=void 0===f||f,p=a.enableOnContentEditable,m=void 0!==p&&p,g=(0,o.useRef)(null),v=(0,o.useCallback)((function(e,r){var n;return s&&!s(e)?!d:!!(k(e,["INPUT","TEXTAREA","SELECT"])&&!k(e,i)||null!=(n=e.target)&&n.isContentEditable&&!m)||(null===g.current||document.activeElement===g.current)&&(t(e,r),!0)}),n?[g,i,s].concat(n):[g,i,s]);return(0,o.useEffect)((function(){if(h)return c&&!0!==l&&(r.keydown=!1),T(e,r||{},v),function(){return T.unbind(e,v)}}),[v,r,e,h]),g}!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(P||(P={}));var M,R,F=new Map([[P.QR_CODE,"QR_CODE"],[P.AZTEC,"AZTEC"],[P.CODABAR,"CODABAR"],[P.CODE_39,"CODE_39"],[P.CODE_93,"CODE_93"],[P.CODE_128,"CODE_128"],[P.DATA_MATRIX,"DATA_MATRIX"],[P.MAXICODE,"MAXICODE"],[P.ITF,"ITF"],[P.EAN_13,"EAN_13"],[P.EAN_8,"EAN_8"],[P.PDF_417,"PDF_417"],[P.RSS_14,"RSS_14"],[P.RSS_EXPANDED,"RSS_EXPANDED"],[P.UPC_A,"UPC_A"],[P.UPC_E,"UPC_E"],[P.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function L(e){return Object.values(P).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(M||(M={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(R||(R={}));var B,U=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[R.SCAN_TYPE_CAMERA,R.SCAN_TYPE_FILE],e}(),z=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!F.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,F.get(t))},e}(),V=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(B||(B={}));var G=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:B.UNKWOWN_ERROR}},e}(),H=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function q(e){return null==e}var W,Y=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),X=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),$=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Q=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),a=0,o=Object.keys(e);a<o.length;a++){var i=o[a];if(n.has(i))return t.logError("".concat(i," is not supported videoConstaints."),!0),!1}return!0},e}(),Z=r(9255),K=function(){function e(e,t,r){if(this.formatMap=new Map([[P.QR_CODE,Z.BarcodeFormat.QR_CODE],[P.AZTEC,Z.BarcodeFormat.AZTEC],[P.CODABAR,Z.BarcodeFormat.CODABAR],[P.CODE_39,Z.BarcodeFormat.CODE_39],[P.CODE_93,Z.BarcodeFormat.CODE_93],[P.CODE_128,Z.BarcodeFormat.CODE_128],[P.DATA_MATRIX,Z.BarcodeFormat.DATA_MATRIX],[P.MAXICODE,Z.BarcodeFormat.MAXICODE],[P.ITF,Z.BarcodeFormat.ITF],[P.EAN_13,Z.BarcodeFormat.EAN_13],[P.EAN_8,Z.BarcodeFormat.EAN_8],[P.PDF_417,Z.BarcodeFormat.PDF_417],[P.RSS_14,Z.BarcodeFormat.RSS_14],[P.RSS_EXPANDED,Z.BarcodeFormat.RSS_EXPANDED],[P.UPC_A,Z.BarcodeFormat.UPC_A],[P.UPC_E,Z.BarcodeFormat.UPC_E],[P.UPC_EAN_EXTENSION,Z.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Z)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var n=this.createZXingFormats(e),a=new Map;a.set(Z.DecodeHintType.POSSIBLE_FORMATS,n),a.set(Z.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(r,n){try{r(t.decode(e))}catch(e){n(e)}}))},e.prototype.decode=function(e){var t=new Z.MultiFormatReader(this.verbose,this.hints),r=new Z.HTMLCanvasElementLuminanceSource(e),n=new Z.BinaryBitmap(new Z.HybridBinarizer(r)),a=t.decode(n);return{text:a.text,format:z.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),J=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},te=function(){function e(t,r,n){if(this.formatMap=new Map([[P.QR_CODE,"qr_code"],[P.AZTEC,"aztec"],[P.CODABAR,"codabar"],[P.CODE_39,"code_39"],[P.CODE_93,"code_93"],[P.CODE_128,"code_128"],[P.DATA_MATRIX,"data_matrix"],[P.ITF,"itf"],[P.EAN_13,"ean_13"],[P.EAN_8,"ean_8"],[P.PDF_417,"pdf417"],[P.UPC_A,"upc_a"],[P.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return J(this,void 0,void 0,(function(){var t,r;return ee(this,(function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=n.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:z.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,n=0,a=e;n<a.length;n++){var o=a[n],i=o.boundingBox.width*o.boundingBox.height;i>r&&(r=i,t=o)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),re=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},ne=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ae=function(){function e(e,t,r,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&te.isSupported()?(this.primaryDecoder=new te(e,r,n),this.secondaryDecoder=new K(e,r,n)):this.primaryDecoder=new K(e,r,n)}return e.prototype.decodeAsync=function(e){return re(this,void 0,void 0,(function(){var t;return ne(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return re(this,void 0,void 0,(function(){var t,r;return ne(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(r=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){e+=r[t]}var n=e/this.executionResults.length;console.log("".concat(n," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),oe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},se=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ce=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),le=function(e){function t(t,r){return e.call(this,t,r)||this}return oe(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(ce),ue=function(e){function t(t){return e.call(this,"zoom",t)||this}return oe(t,e),t}(le),de=function(e){function t(t){return e.call(this,"torch",t)||this}return oe(t,e),t}(ce),fe=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new ue(this.track)},e.prototype.torchFeature=function(){return new de(this.track)},e}(),he=function(){function e(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return ie(this,void 0,void 0,(function(){var o,i;return se(this,(function(s){switch(s.label){case 0:return o=new e(t,r,a),n.aspectRatio?(i={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(i)]):[3,2];case 1:s.sent(),s.label=2;case 2:return o.setupSurface(),[2,o]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return ie(this,void 0,void 0,(function(){return se(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,r){var n=e.mediaStream.getVideoTracks().length,a=0;e.mediaStream.getVideoTracks().forEach((function(r){e.mediaStream.removeTrack(r),r.stop(),++a>=n&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new fe(this.getFirstTrackOrFail())},e}(),pe=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,r){return ie(this,void 0,void 0,(function(){return se(this,(function(n){return[2,he.create(e,this.mediaStream,t,r)]}))}))},e.create=function(t){return ie(this,void 0,void 0,(function(){var r;return se(this,(function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return[2,new e(n.sent())]}}))}))},e}(),me=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},ge=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ve=function(){function e(){}return e.failIfNotSupported=function(){return me(this,void 0,void 0,(function(){return ge(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return me(this,void 0,void 0,(function(){return ge(this,(function(t){return[2,pe.create(e)]}))}))},e}(),xe=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},be=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ye=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Y.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Y.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return xe(this,void 0,void 0,(function(){var e,t,r,n,a,o,i;return be(this,(function(s){switch(s.label){case 0:return e=function(e){for(var t=0,r=e.getVideoTracks();t<r.length;t++){var n=r[t];n.enabled=!1,n.stop(),e.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=s.sent(),n=[],a=0,o=r;a<o.length;a++)"videoinput"===(i=o[a]).kind&&n.push({id:i.deviceId,label:i.label});return e(t),[2,n]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var r=[],n=0,a=t;n<a.length;n++){var o=a[n];"video"===o.kind&&r.push({id:o.id,label:o.label})}e(r)}))}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(W||(W={}));var je,we=function(){function e(){this.state=W.NOT_STARTED,this.onGoingTransactionNewState=W.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===W.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=W.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===W.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=W.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==W.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case W.UNKNOWN:throw"Transition from unknown is not allowed";case W.NOT_STARTED:this.failIfNewStateIs(e,[W.PAUSED]);case W.SCANNING:case W.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var r=0,n=t;r<n.length;r++){if(e===n[r])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),Ne=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===W.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==W.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===W.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===W.PAUSED},e}(),_e=function(){function e(){}return e.create=function(){return new Ne(new we)},e}(),Ce=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ce(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(U),Se=function(){function e(e,t){this.logger=t,this.fps=Ee.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ee.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Q.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!q(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Ae=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(r=t,this.verbose=!0===r.verbose,r.experimentalFeatures),this.logger=new H(this.verbose),this.qrcode=new ae(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_e.create()}return e.prototype.start=function(e,t,r,n){var a,o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";a=n||(this.verbose?this.logger.log:function(){});var i=Se.create(t,this.logger);this.clearElement();var s=!1;i.videoConstraints&&(i.isMediaStreamConstraintsValid()?s=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=s,l=document.getElementById(this.elementId);l.clientWidth?l.clientWidth:Ee.DEFAULT_WIDTH;l.style.position="relative",this.shouldScan=!0,this.element=l;var u=this,d=this.stateManagerProxy.startTransition(W.SCANNING);return new Promise((function(t,n){var s=c?i.videoConstraints:u.createVideoConstraints(e);if(!s)return d.cancel(),void n("videoConstraints should be defined");var l={};c&&!i.aspectRatio||(l.aspectRatio=i.aspectRatio);var f={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,i),u.isScanning=!0,u.foreverScan(i,r,a)}};ve.failIfNotSupported().then((function(e){e.create(s).then((function(e){return e.render(o.element,l,f).then((function(e){u.renderedCamera=e,d.execute(),t(null)})).catch((function(e){d.cancel(),n(e)}))})).catch((function(e){d.cancel(),n(Y.errorGettingUserMedia(e))}))})).catch((function(e){d.cancel(),n(Y.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(W.PAUSED),this.showPausedState(),(q(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(W.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(W.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=this;return this.renderedCamera.close().then((function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),function(){if(e.element){var t=document.getElementById(Ee.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var r=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(q(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(n,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var e=o.width,i=o.height,s=document.getElementById(r.elementId),c=s.clientWidth?s.clientWidth:Ee.DEFAULT_WIDTH,l=Math.max(s.clientHeight?s.clientHeight:i,Ee.FILE_SCAN_MIN_HEIGHT),u=r.computeCanvasDrawConfig(e,i,c,l);if(t){var d=r.createCanvasElement(c,l,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var f=d.getContext("2d");if(!f)throw"Unable to get 2d context from canvas";f.canvas.width=c,f.canvas.height=l,f.drawImage(o,0,0,e,i,u.x,u.y,u.width,u.height)}var h=Ee.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(o.width,u.width),m=Math.max(o.height,u.height),g=p+2*h,v=m+2*h,x=r.createCanvasElement(g,v);s.appendChild(x);var b=x.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=g,b.canvas.height=v,b.drawImage(o,0,0,e,i,h,h,p,m);try{r.qrcode.decodeRobustlyAsync(x).then((function(e){n(V.createFromQrcodeResult(e))})).catch(a)}catch(e){a("QR code parse error, error = ".concat(e))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ye.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!Q.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[P.QR_CODE,P.AZTEC,P.CODABAR,P.CODE_39,P.CODE_93,P.CODE_128,P.DATA_MATRIX,P.MAXICODE,P.ITF,P.EAN_13,P.EAN_8,P.PDF_417,P.RSS_14,P.RSS_EXPANDED,P.UPC_A,P.UPC_E,P.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],n=0,a=e.formatsToSupport;n<a.length;n++){var o=a[n];L(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(q(e))return!0;if(!q(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(q(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!q(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,r){var n=this,a=r.qrbox;this.validateQrboxConfig(a);var o,i=this.toQrdimensions(e,t,a),s=function(e){if(e<Ee.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ee.MIN_QR_BOX_SIZE,"px.")};s(i.width),s(i.height),i.width=((o=i.width)>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),o=e),o)},e.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&"function"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(e,t)}catch(e){throw new Error("qrbox config was passed as a function but it failed with unknown error"+e)}return r},e.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var n=q(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(n);var a=this.toQrdimensions(e,t,n);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=t,i={x:0,y:0,width:e,height:t},s=o?this.getShadedRegionBounds(e,t,a):i,c=this.createCanvasElement(s.width,s.height),l=c.getContext("2d",{willReadFrequently:!0});l.canvas.width=s.width,l.canvas.height=s.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,e,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=s,this.context=l,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Y.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,V.createFromQrcodeResult(t)),r.possiblyUpdateShaders(!0),!0})).catch((function(e){r.possiblyUpdateShaders(!1);var n=Y.codeParseError(e);return t(n,G.createFrom(n)),!1}))},e.prototype.foreverScan=function(e,t,r){var n=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,i=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*o,c=this.qrRegion.height*i,l=this.qrRegion.x*o,u=this.qrRegion.y*i;this.context.drawImage(a,l,u,s,c,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){n.foreverScanTimeout=setTimeout((function(){n.foreverScan(e,t,r)}),n.getTimeoutFps(e.fps))};this.scanContext(t,r).then((function(a){a||!0===e.disableFlip?d():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,r).finally((function(){d()})))})).catch((function(e){n.logger.logError("Error happend while scanning context",e),d()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",n={user:!0,environment:!0},a="exact",o=function(e){if(e in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},i=Object.keys(e);if(1!==i.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(i.length," keys");var s=Object.keys(e)[0];if(s!==t&&s!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(s!==t){var c=e.deviceId;if("string"==typeof c)return{deviceId:c};if("object"==typeof c){if(a in c)return{deviceId:{exact:c["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof c)}var l=e.facingMode;if("string"==typeof l){if(o(l))return{facingMode:l}}else{if("object"!=typeof l)throw"Invalid type of 'facingMode' = ".concat(typeof l);if(!(a in l))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(o(l["".concat(a)]))return{facingMode:{exact:l["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,r,n){if(e<=r&&t<=n)return{x:(r-e)/2,y:(n-t)/2,width:e,height:t};var a=e,o=t;return e>r&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(o)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,n)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?Ee.BORDER_SHADER_MATCH_COLOR:Ee.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,r){var n=e,a=t,o=document.createElement("canvas");return o.style.width="".concat(n,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=q(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(e,t,r,n){if(!(t-n.width<1||r-n.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(t-n.width)/2,i=(r-n.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Ee.SHADED_REGION_ELEMENT_ID),t-n.width<11||r-n.height<11)this.hasBorderShaders=!1;else{var s=40;this.insertShaderBorders(a,s,5,-5,null,0,!0),this.insertShaderBorders(a,s,5,-5,null,0,!1),this.insertShaderBorders(a,s,5,null,-5,0,!0),this.insertShaderBorders(a,s,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(a)}},e.prototype.insertShaderBorders=function(e,t,r,n,a,o,i){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=Ee.BORDER_SHADER_DEFAULT_COLOR,s.style.width="".concat(t,"px"),s.style.height="".concat(r,"px"),null!==n&&(s.style.top="".concat(n,"px")),null!==a&&(s.style.bottom="".concat(a,"px")),i?s.style.left="".concat(o,"px"):s.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),Ie="data:image/svg+xml;base64,",Oe=Ie+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Te=Ie+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Pe=Ie+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ke=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),De=function(){function e(){this.data=ke.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=ke.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Me=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=$.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),n=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(n);var a=document.createElement("a");a.innerText=$.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Re=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Pe,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Pe,this.infoIcon.style.opacity="0.6")},e}(),Fe=function(){function e(){var e=this;this.infoDiv=new Me,this.infoIcon=new Re((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),Le=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},Be=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Ue=function(){function e(){}return e.hasPermissions=function(){return Le(this,void 0,void 0,(function(){var e,t,r,n;return Be(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),t=0,r=e;t<r.length;t++)if("videoinput"===(n=r[t]).kind&&n.label)return[2,!0];return[2,!1]}}))}))},e}(),ze=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(e){return e===R.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===R.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return U.DEFAULT_SUPPORTED_SCAN_TYPE;var t=U.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,n=e;r<n.length;r++){var a=n[r];if(!U.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},e}(),Ve=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ge=function(){function e(){}return e.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(Ve.ALL_ELEMENT_CLASS),"button"===e&&r.setAttribute("type","button"),r},e}(),He=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},qe=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},We=function(){function e(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return He(this,void 0,void 0,(function(){var e,t;return qe(this,(function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?X.torchOffButton():X.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var r=e?X.torchOnFailedMessage():X.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Ye=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Ge.createElement("button",Ve.TORCH_BUTTON_ID),this.torchController=new We(e,this,t)}return e.prototype.render=function(e,t){var r=this;this.torchButton.innerText=X.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var n=this;this.torchButton.addEventListener("click",(function(e){return He(r,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return[4,n.torchController.flipState()];case 1:return e.sent(),n.torchController.isTorchEnabled()?(n.torchButton.classList.remove(Ve.TORCH_BUTTON_CLASS_TORCH_OFF),n.torchButton.classList.add(Ve.TORCH_BUTTON_CLASS_TORCH_ON)):(n.torchButton.classList.remove(Ve.TORCH_BUTTON_CLASS_TORCH_ON),n.torchButton.classList.add(Ve.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new We(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=X.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var o=new e(r,a);return o.render(t,n),o},e}(),Xe=function(){function e(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var n=document.createElement("label");n.setAttribute("for",this.getFileScanInputId()),n.style.display="inline-block",this.fileBasedScanRegion.appendChild(n),this.fileSelectionButton=Ge.createElement("button",Ve.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){n.click()})),n.append(this.fileSelectionButton),this.fileScanInput=Ge.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",n.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var n=t.files[0],o=n.name;a.setImageNameToButton(o),r(n)}}}));var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var n=t.files;if(!n||0===n.length)return;for(var i=!1,s=0;s<n.length;++s){var c=n.item(s);if(c){if(c.type.match(/image.*/)){i=!0;var l=c.name;a.setImageNameToButton(l),r(c),o.innerText=X.dragAndDropMessage();break}}}i||(o.innerText=X.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=X.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),r=e.length,n=e.substring(r-8,r);e="".concat(t,"....").concat(n)}var a=X.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=a},e.prototype.setInitialValueToButton=function(){var e=X.fileSelectionChooseImage()+" - "+X.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){return new e(t,r,n)},e}(),$e=function(){function e(e){this.selectElement=Ge.createElement("select",Ve.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)t.style.display="none";else{var n=X.selectCamera();t.innerText="".concat(n," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,i=this.cameras;o<i.length;o++){var s=i[o],c=s.id,l=null==s.label?c:s.label;l&&""!==l||(l=[X.anonymousCameraPrefix(),a++].join(" "));var u=document.createElement("option");u.value=c,u.innerText=l,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){if(r[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),Qe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ge.createElement("input",Ve.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=X.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var n=this;this.rangeInput.addEventListener("input",(function(){return n.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return n.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=X.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,r,n){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=n.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(je||(je={}));var Ze=function(){function e(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new ze(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new H(this.verbose),this.persistedDataManager=new De,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}return e.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,n){if(e)e(t,n);else{if(r.lastMatchFound===t)return;r.lastMatchFound=t,r.setHeaderMessage(X.lastMatch(t),je.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,r){t&&t(e,r)};var n,a,o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Ae(this.getScanRegionId(),(n=this.config,a=this.verbose,{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:a}))},e.prototype.pause=function(e){(q(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(r,n){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(n){e.html5Qrcode?(e.html5Qrcode.clear(),t(),r()):r()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),n(t)})):(e.html5Qrcode.clear(),t(),r()):r()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=U.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!U.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=U.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=U.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:U.SCAN_DEFAULT_FPS,rememberLastUsedCamera:U.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:U.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),ze.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var n=document.createElement("div"),a=this.getDashboardId();n.id=a,n.style.width="100%",e.appendChild(n),this.setupInitialDashboard(n)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new Fe).renderInto(t);var r=document.createElement("div");r.id=this.getHeaderMessageContainerId(),r.style.display="none",r.style.textAlign="center",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.margin="4px",r.style.borderTop="1px solid #f6f6f6",t.appendChild(r)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,r){var n=this;n.showHideScanTypeSwapLink(!1),n.setHeaderMessage(X.cameraPermissionRequesting());var a=function(){r||n.createPermissionButton(e,t)};Ae.getCameras().then((function(r){n.persistedDataManager.setHasPermission(!0),n.showHideScanTypeSwapLink(!0),n.resetHeaderMessage(),r&&r.length>0?(e.removeChild(t),n.renderCameraSelection(r)):(n.setHeaderMessage(X.noCameraFound(),je.STATUS_WARNING),a())})).catch((function(e){n.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),n.setHeaderMessage(e,je.STATUS_WARNING),n.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var r=this,n=Ge.createElement("button",this.getCameraPermissionButtonId());n.innerText=X.cameraPermissionTitle(),n.addEventListener("click",(function(){n.disabled=!0,r.createCameraListUi(e,t,n)})),t.appendChild(n)},e.prototype.createPermissionsUi=function(e,t){var r=this;ze.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?Ue.hasPermissions().then((function(n){n?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))})).catch((function(n){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ze.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var n=document.createElement("div");n.style.textAlign="center",r.appendChild(n),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,n),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=ze.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=Xe.create(e,t,(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";ze.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(X.loadingImage()),r.html5Qrcode.scanFileV2(e,!0).then((function(e){r.resetHeaderMessage(),r.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){r.setHeaderMessage(e,je.STATUS_WARNING),r.qrCodeErrorCallback(e,G.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,r=this,n=document.getElementById(this.getDashboardSectionCameraScanRegionId());n.style.textAlign="center";var a=Qe.create(n,!1),o=$e.create(n,e),i=document.createElement("span"),s=Ge.createElement("button",Ve.CAMERA_START_BUTTON_ID);s.innerText=X.scanButtonStartScanningText(),i.appendChild(s);var c,l=Ge.createElement("button",Ve.CAMERA_STOP_BUTTON_ID);l.innerText=X.scanButtonStopScanningText(),l.style.display="none",l.disabled=!0,i.appendChild(l);n.appendChild(i);var u=function(e){e||(s.style.display="none"),s.innerText=X.scanButtonStartScanningText(),s.style.opacity="1",s.disabled=!1,e&&(s.style.display="inline-block")};if(s.addEventListener("click",(function(e){s.innerText=X.scanButtonScanningStarting(),o.disable(),s.disabled=!0,s.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var n,d=o.getValue();r.persistedDataManager.setLastUsedCameraId(d),r.html5Qrcode.start(d,(n=r.config,{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then((function(e){l.disabled=!1,l.style.display="inline-block",u(!1);var n=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(c?c.updateTorchCapability(e.torchFeature()):c=Ye.create(i,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){r.setHeaderMessage(e,je.STATUS_WARNING)})),c.show()):c&&c.hide()}(n),!0===t.config.showZoomSliderIfSupported&&function(e){var r=e.zoomFeature();if(r.isSupported()){a.setOnCameraZoomValueChangeCallback((function(e){r.apply(e)}));var n=1;t.config.defaultZoomValueIfSupported&&(n=t.config.defaultZoomValueIfSupported),n=function(e,t,r){return e>r?r:e<t?t:e}(n,r.min(),r.max()),a.setValues(r.min(),r.max(),n,r.step()),a.show()}}(n)})).catch((function(e){r.showHideScanTypeSwapLink(!0),o.enable(),u(!0),r.setHeaderMessage(e,je.STATUS_WARNING)}))})),o.hasSingleItem()&&s.click(),l.addEventListener("click",(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";l.disabled=!0,r.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),o.enable(),s.disabled=!1,l.style.display="none",s.style.display="inline-block",c&&(c.reset(),c.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()})).catch((function(e){l.disabled=!1,r.setHeaderMessage(e,je.STATUS_WARNING)}))})),r.persistedDataManager.getLastUsedCameraId()){var d=r.persistedDataManager.getLastUsedCameraId();o.hasValue(d)?(o.setValue(d),s.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=X.textIfCameraScanSelected(),r=X.textIfFileScanSelected(),n=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=Ge.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=ze.isCameraScanType(this.currentScanType)?t:r,o.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,ze.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=R.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=t,e.currentScanType=R.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),a.appendChild(o),n.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&Ue.hasPermissions().then((function(r){if(r){var n=document.getElementById(t.getCameraPermissionButtonId());if(!n)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";n.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=je.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case je.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case je.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case je.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Oe,this.cameraScanImage.alt=X.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Te,this.fileScanImage.alt=X.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ve.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ve.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}(),Ke=r(2543),Je="";const et={getMoneda:function(){return s().post("getMoneda")},getinventario:function(e){return s().post("getinventario",e)},setCarrito:function(e){return s().get("setCarrito",{params:e})},addNewPedido:function(e){return s().get("addNewPedido",{params:e})},getPedido:function(e){return s().post("getPedido",e)},getPedidosList:function(e){return s().post("getPedidosList",e)},verificarLogin:function(){return s().post("verificarLogin")},logout:function(){return s().get("logout")},closeAllSession:function(){return s().get("closeAllSession")},sendClavemodal:function(e){return s().post("sendClavemodal",e)},saveReplaceProducto:function(e){return s().post("saveReplaceProducto",e)},guardarCierre:function(e){return s().post("guardarCierre",e)},reversarCierre:function(e){return s().get("reversarCierre",{params:e})},getNomina:function(e){return s().post("getNomina",e)},getAlquileres:function(e){return s().post("getAlquileres",e)},setMoneda:function(e){return s().post("setMoneda",e)},updateDollarRate:function(){return s().post("forceUpdateDollar")},delItemPedido:function(e){return s().post("delItemPedido",e)},changeEntregado:function(e){return s().post("changeEntregado",e)},setDescuentoUnitario:function(e){return s().post("setDescuentoUnitario",e)},setDescuentoTotal:function(e){return s().post("setDescuentoTotal",e)},setCantidad:function(e){return s().post("setCantidad",e)},setPrecioAlternoCarrito:function(e){return s().post("setPrecioAlternoCarrito",e)},setCtxBultoCarrito:function(e){return s().post("setCtxBultoCarrito",e)},getpersona:function(e){return s().post("getpersona",e)},setpersonacarrito:function(e){return s().post("setpersonacarrito",e)},setPagoPedido:function(e){return s().post("setPagoPedido",e)},setPagoPedidoTrans:function(e){return s().post("setPagoPedidoTrans",e)},createDevolucion:function(e){return s().post("createDevolucion",e)},setDevolucion:function(e){return s().post("setDevolucion",e)},setpagoDevolucion:function(e){return s().post("setpagoDevolucion",e)},delpedido:function(e){return s().post("delpedido",e)},getPedidos:function(e){return s().post("getPedidos",e)},cerrar:function(e){return s().post("cerrar",e)},today:function(e){return s().post("today",e)},getVentas:function(e){return s().post("getVentas",e)},getVentasRapido:function(e){return s().post("getVentasRapido",e)},getPedidosFast:function(e){return s().post("getPedidosFast",e)},getip:function(e){return s().get("getip",{params:e})},setPagoCredito:function(e){return s().post("setPagoCredito",e)},getDeudores:function(e){return s().post("getDeudores",e)},backup:function(e){return s().get("backup",e)},getDeudor:function(e){return s().post("getDeudor",e)},checkDeuda:function(e){return s().post("checkDeuda",e)},entregarVuelto:function(e){return s().post("entregarVuelto",e)},getMovimientosCaja:function(e){return s().post("getMovimientosCaja",e)},setMovimientoCaja:function(e){return s().post("setMovimientoCaja",e)},delMovCaja:function(e){return s().post("delMovCaja",e)},getMovimientos:function(e){return s().post("getMovimientos",e)},getBuscarDevolucion:function(e){return s().post("getBuscarDevolucion",e)},getBuscarDevolucionhistorico:function(e){return s().post("getBuscarDevolucionhistorico",e)},getTareasCentral:function(e){return s().get("getTareasCentral",{params:e})},runTareaCentral:function(e){return s().post("runTareaCentral",e)},delMov:function(e){return s().post("delMov",e)},setProveedor:function(e){return s().post("setProveedor",e)},guardarNuevoProducto:function(e){return s().post("guardarNuevoProducto",e)},getInventarioNovedades:function(e){return s().post("getInventarioNovedades",e)},resolveInventarioNovedades:function(e){return s().post("resolveInventarioNovedades",e)},sendInventarioNovedades:function(e){return s().post("sendInventarioNovedades",e)},delInventarioNovedades:function(e){return s().post("delInventarioNovedades",e)},guardarNuevoProductoLote:function(e){return s().post("guardarNuevoProductoLote",e)},guardarNuevoProductoLoteFact:function(e){return s().post("guardarNuevoProductoLoteFact",e)},addProductoFactInventario:function(e){return s().post("addProductoFactInventario",e)},getProveedores:function(e){return s().post("getProveedores",e)},delProveedor:function(e){return s().post("delProveedor",e)},delProducto:function(e){return s().post("delProducto",e)},getMarcas:function(e){return s().post("getMarcas",e)},getDepositos:function(e){return s().post("getDepositos",e)},getFacturas:function(e){return s().post("getFacturas",e)},setFactura:function(e){return s().post("setFactura",e)},sendFacturaCentral:function(e){return s().post("sendFacturaCentral",e)},getAllProveedores:function(e){return s().post("getAllProveedores",e)},setGastoOperativo:function(e){return s().post("setGastoOperativo",e)},delFactura:function(e){return s().post("delFactura",e)},delItemFact:function(e){return s().post("delItemFact",e)},setClienteCrud:function(e){return s().post("setClienteCrud",e)},getClienteCrud:function(e){return s().post("getClienteCrud",e)},delCliente:function(e){return s().post("delCliente",e)},getFallas:function(e){return s().post("getFallas",e)},setFalla:function(e){return s().post("setFalla",e)},delFalla:function(e){return s().post("delFalla",e)},imprimirTicked:function(e){return s().post("imprimirTicked",e)},getTotalizarCierre:function(e){return s().post("getTotalizarCierre",e)},changepedidouser:function(e){return s().post("changepedidouser",e)},getTareasLocal:function(e){return s().get("getTareasLocal",{params:e})},resolverTareaLocal:function(e){return s().get("resolverTareaLocal",{params:e})},sendCierre:function(e){return s().get("verCierre",{params:e})},printTickedPrecio:function(e){var t=e.id;return window.open("/printTickedPrecio?id="+t,"targed=blank")},saveMontoFactura:function(e){return s().post("saveMontoFactura",e)},reqpedidos:function(e){return s().post("reqpedidos",e)},reqMipedidos:function(e){return s().post("reqMipedidos",e)},settransferenciaDici:function(e){return s().post("settransferenciaDici",e)},resetPrintingState:function(e){return s().get("resetPrintingState",{params:e})},changeIdVinculacionCentral:function(e){return s().post("changeIdVinculacionCentral",e)},setexportpedido:function(e){return s().post("setexportpedido",e)},getmastermachine:function(e){return s().post("getmastermachine",e)},getStatusCierre:function(e){return s().post("getStatusCierre",e)},getSucursal:function(e){return s().get("getSucursal",{params:e})},getCategorias:function(e){return s().get("getCategorias",{params:e})},getcatsCajas:function(e){return s().get("getcatsCajas",{params:e})},delCategoria:function(e){return s().post("delCategoria",e)},setCategorias:function(e){return s().post("setCategorias",e)},getProductosSerial:function(e){return s().get("getProductosSerial",{params:e})},checkPedidosCentral:function(e){return s().post("checkPedidosCentral",e)},removeVinculoCentral:function(e){return s().post("removeVinculoCentral",e)},setUsuario:function(e){return s().post("setUsuario",e)},delUsuario:function(e){return s().post("delUsuario",e)},getUsuarios:function(e){return s().get("getUsuarios",{params:e})},getCierres:function(e){return s().get("getCierres",{params:e})},sendCuentasporCobrar:function(e){return s().get("sendCuentasporCobrar",{params:e})},removeLote:function(e){return s().post("removeLote",e)},getEstaInventario:function(e){return s().post("getEstaInventario",e)},getUniqueProductoById:function(e){return s().get("getUniqueProductoById",{params:e})},setPagoProveedor:function(e){return s().post("setPagoProveedor",e)},getPagoProveedor:function(e){return s().post("getPagoProveedor",e)},delPagoProveedor:function(e){return s().post("delPagoProveedor",e)},getPermisoCierre:function(e){return s().post("getPermisoCierre",e)},guardarDeSucursalEnCentral:function(e){return s().post("guardarDeSucursalEnCentral",e)},getHistoricoInventario:function(e){return s().get("getHistoricoInventario",{params:e})},getmovientoinventariounitario:function(e){return s().get("getmovientoinventariounitario",{params:e})},getSyncProductosCentralSucursal:function(e){return s().post("getSyncProductosCentralSucursal",e)},addRefPago:function(e){return s().post("addRefPago",e)},delRefPago:function(e){return s().post("delRefPago",e)},addRetencionesPago:function(e){return s().post("addRetencionesPago",e)},delRetencionPago:function(e){return s().post("delRetencionPago",e)},getGarantias:function(e){return s().post("getGarantias",e)},setSalidaGarantias:function(e){return s().post("setSalidaGarantias",e)},checkGarantiaConnection:function(){return s().get("api/garantias/connection-status")},getGarantiaStats:function(){return s().get("api/garantias/stats")},syncGarantias:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s().get("api/garantias/sync",{params:e})},sendGarantiaCentral:function(e){return s().post("api/garantias/send-central",e)},getGarantiaCentral:function(e){return s().get(Je+"api/garantias/central/".concat(e))},finalizarGarantiaCentral:function(e,t){return s().post(Je+"api/garantias/central/".concat(e,"/finalizar"),t)},ejecutarGarantia:function(e){return s().post(Je+"api/garantias/".concat(e,"/ejecutar"))},ejecutarSolicitudGarantiaModerna:function(e){return s().post("api/garantias/ejecutar-solicitud-moderna",{solicitud_id:e})},delGastos:function(e){return s().post("delGastos",e)},getGastos:function(e){return s().post("getGastos",e)},setGasto:function(e){return s().post("setGasto",e)},setCtxBulto:function(e){return s().post("setCtxBulto",e)},setStockMin:function(e){return s().post("setStockMin",e)},setPrecioAlterno:function(e){return s().post("setPrecioAlterno",e)},printPrecios:function(e){return s().post("printPrecios",e)},setconfigcredito:function(e){return s().post("setconfigcredito",e)},setSocketUrlDB:function(e){return s().get("setSocketUrlDB",{params:e})},recibedSocketEvent:function(e){return s().get("recibedSocketEvent",{params:e})},setNuevaTareaCentral:function(e){return s().get("setNuevaTareaCentral",{params:e})},setInventarioFromSucursal:function(e){return s().post("setInventarioFromSucursal",e)},getSucursales:function(e){return s().post("getSucursales",e)},getInventarioSucursalFromCentral:function(e){return s().post("getInventarioSucursalFromCentral",e)},setInventarioSucursalFromCentral:function(e){return s().post("setInventarioSucursalFromCentral",e)},setCambiosInventarioSucursal:function(e){return s().post("setCambiosInventarioSucursal",e)},getInventarioFromSucursal:function(e){return s().post("getInventarioFromSucursal",e)},saveChangeInvInSucurFromCentral:function(e){return s().post("saveChangeInvInSucurFromCentral",e)},setnewtasainsucursal:function(e){return s().post("setnewtasainsucursal",e)},updatetasasfromCentral:function(e){return s().post("updatetasasfromCentral",e)},getControlEfec:function(e){return s().post("getControlEfec",e)},setControlEfec:function(e){return s().post("setControlEfec",e)},reversarMovPendientes:function(e){return s().post("reversarMovPendientes",e)},aprobarRecepcionCaja:function(e){return s().post("aprobarRecepcionCaja",e)},verificarMovPenControlEfec:function(e){return s().post("verificarMovPenControlEfec",e)},verificarMovPenControlEfecTRANFTRABAJADOR:function(e){return s().post("verificarMovPenControlEfecTRANFTRABAJADOR",e)},delCaja:function(e){return s().post("delCaja",e)},getReferenciasElec:function(e){return s().get("getReferenciasElec",{params:e})},getPorcentajeInventario:function(e){return s().post("getPorcentajeInventario",e)},cleanInventario:function(e){return s().post("cleanInventario",e)},sendReciboFiscal:function(e){return s().post("sendReciboFiscal",e)},sendNotaCredito:function(e){return s().post("sendNotaCredito",e)},reportefiscal:function(e){return s().post("reportefiscal",e)},openverDetallesImagenFactura:function(e){return s().get("verDetallesImagenFactura",{params:e})},openVerFactura:function(e){var t=e.id;return window.open("verFactura?id="+t,"targed=blank")},openPrintCreditos:function(e){return window.open("verCreditos?"+e,"targed=blank")},openVerCierre:function(e){var t=e.type,r=e.fechaCierre,n=e.totalizarcierre,a=e.usuario;return window.open("verCierre?type="+t+"&fecha="+r+"&totalizarcierre="+n+"&usuario="+a,"targed=blank")},openNotaentregapedido:function(e){var t=e.id;return window.open("/notaentregapedido?id="+t,"targed=blank")},openReporteInventario:function(){return window.open("reporteInventario","targed=blank")},openReporteFalla:function(e){return window.open("reporteFalla?id="+e,"targed=blank")},openTransferenciaPedido:function(e){return window.open("openTransferenciaPedido?id="+e,"targed=blank")},printBultos:function(e,t){return window.open("printBultos?id="+e+"&bultos="+t,"targed=blank")},showcsvInventario:function(){return window.open("showcsvInventario?id=","targed=blank")},sincInventario:function(){return window.open("sincInventario?id=","targed=blank")},validateFactura:function(e){return s().post("validateFactura",e)},searchProductosInventario:function(e){return s().post("searchProductosInventario",e)},getProductoById:function(e){return s().get(Je+"producto/".concat(e))},searchResponsables:function(e){return s().post("searchResponsables",e)},saveResponsable:function(e){return s().post("saveResponsable",e)},getResponsableById:function(e){return s().get(Je+"responsable/".concat(e))},getResponsablesByTipo:function(e){return s().get(Je+"responsables/tipo/".concat(e))},crearGarantiaCompleta:function(e){return s().post("api/garantias/crear",e)},crearPedidoGarantia:function(e){return s().post("api/garantias/crear-pedido",e)},getGarantiasCompletas:function(e){return s().get("api/garantias",{params:e})},getGarantiaById:function(e){return s().get(Je+"api/garantias/".concat(e))},updateGarantiaStatus:function(e,t){return s().put(Je+"api/garantias/".concat(e,"/status"),t)},getPedidosGarantias:function(e){return s().get("api/garantias/pedidos",{params:e})},getInventarioGarantiasCentral:function(e){return s().post("getInventarioGarantiasCentral",e)},searchInventarioGarantias:function(e){return s().post("searchInventarioGarantias",e)},transferirProductoGarantiaSucursal:function(e){return s().post("transferirProductoGarantiaSucursal",e)},transferirGarantiaVentaNormal:function(e){return s().post("transferirGarantiaVentaNormal",e)},getTiposInventarioGarantia:function(){return s().get("getTiposInventarioGarantia")},getEstadisticasInventarioGarantias:function(e){return s().post("getEstadisticasInventarioGarantias",e)}};function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}var rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[".",".",","];t=t>=0?parseInt(t,0):2,r=r||[".","'",","];var n=(parseFloat(e)||0).toFixed(t);if(n.length<=4+t)return n.replace(".",r[r.length-1]);for(var a=n.split(/[-.]/),o=(e=a[a.length>1?a.length-2:0]).substr(e.length-3,3)+(a.length>1?r[r.length-1]+a[a.length-1]:""),i=e.length-6,s=0;i>-3;)o=(i>0?e.substr(i,3):e.substr(0,3+i))+r[s]+o,s=++s%2,i-=3;return(3==a.length?"-":"")+o},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e?""==e?"":(t&&(e=e.substr(0,t)),e.replace(/[^\d|\.|\-]+/g,"")):"number"==typeof e?e:"Error: Esto no es un número. "+tt(e)},at=r(4848);const ot=function(e){var t=e.usuarioNombre,r=e.setusuarioNombre,n=e.usuarioUsuario,a=e.setusuarioUsuario,o=e.usuarioRole,i=e.setusuarioRole,s=e.usuarioClave,c=e.setusuarioClave,l=e.indexSelectUsuarios,u=e.setIndexSelectUsuarios,d=e.qBuscarUsuario,f=e.setQBuscarUsuario,h=e.delUsuario,p=e.usuariosData,m=e.addNewUsuario,g=function(e){var t=e.currentTarget.attributes["data-index"].value;u(t==l?null:t)};return(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("div",{className:"container",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("h1",{children:["Usuarios ",(0,at.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){r(""),a(""),i(""),c(""),u(null)},children:"Nuevo"})]}),(0,at.jsx)("div",{className:"",children:(0,at.jsxs)("div",{className:"input-group ",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:d,onChange:function(e){return f(e.target.value)}}),(0,at.jsx)("div",{className:"input-group-prepend",children:(0,at.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,at.jsx)("i",{className:"fa fa-search"})})})]})}),p.length?p.map((function(e,t){return(0,at.jsxs)("div",{onClick:g,"data-index":t,className:(l==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,at.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:["ID.",e.id]})}),(0,at.jsx)("div",{className:"d-flex justify-content-between",children:(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:e.nombre})})})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"",children:(0,at.jsx)("h5",{className:"card-title",children:(0,at.jsx)("b",{children:e.usuario})})}),(0,at.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("form",{onSubmit:m,children:[(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Nombres"}),(0,at.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Usuario"}),(0,at.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Role"}),(0,at.jsxs)("select",{value:o,onChange:function(e){return i(e.target.value)},className:"form-control",children:[(0,at.jsx)("option",{value:"",children:"--Seleccione--"}),(0,at.jsx)("option",{value:"1",children:"GERENTE"}),(0,at.jsx)("option",{value:"4",children:"Cajero Vendedor"}),(0,at.jsx)("option",{value:"5",children:"SUPERVISOR DE CAJA"}),(0,at.jsx)("option",{value:"6",children:"SUPERADMIN"}),(0,at.jsx)("option",{value:"7",children:"DICI"})]})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Clave"}),(0,at.jsx)("input",{type:"password",value:s,onChange:function(e){return c(e.target.value)},className:"form-control"})]}),(0,at.jsx)("div",{className:"form-group mt-1",children:null==l?(0,at.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,at.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:h,type:"button",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})]})})]})})})};function it(e){var t=e.addNewCategorias,r=e.categoriasDescripcion,n=e.setcategoriasDescripcion,a=e.indexSelectCategorias,o=e.setIndexSelectCategorias,i=e.qBuscarCategorias,s=e.setQBuscarCategorias,c=e.delCategorias,l=e.categorias,u=function(e){var t=e.currentTarget.attributes["data-index"].value;o(t==a?null:t)};return(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("div",{className:"container",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("h1",{children:["Categorías ",(0,at.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){n(""),o(null)},children:"Nuevo"})]}),(0,at.jsx)("div",{className:"",children:(0,at.jsxs)("div",{className:"input-group ",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:i,onChange:function(e){return s(e.target.value)}}),(0,at.jsx)("div",{className:"input-group-prepend",children:(0,at.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,at.jsx)("i",{className:"fa fa-search"})})})]})}),l.length?l.map((function(e,t){return(0,at.jsxs)("div",{onClick:u,"data-index":t,className:(a==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,at.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:["ID.",e.id]})}),(0,at.jsx)("div",{className:"d-flex justify-content-between",children:(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:e.descripcion})})})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"",children:(0,at.jsx)("h5",{className:"card-title",children:(0,at.jsx)("b",{children:e.descripcion})})}),(0,at.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("form",{onSubmit:t,children:[(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Descripción"}),(0,at.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},className:"form-control"})]}),(0,at.jsx)("div",{className:"form-group mt-1",children:null==a?(0,at.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,at.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:c,type:"button",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})]})})]})})})}function st(e){var t=e.subViewConfig,r=e.setsubViewConfig,n=e.addNewUsuario,a=e.usuarioNombre,o=e.setusuarioNombre,i=e.usuarioUsuario,s=e.setusuarioUsuario,c=e.usuarioRole,l=e.setusuarioRole,u=e.usuarioClave,d=e.setusuarioClave,f=e.indexSelectUsuarios,h=e.setIndexSelectUsuarios,p=e.qBuscarUsuario,m=e.setQBuscarUsuario,g=e.delUsuario,v=e.usuariosData,x=e.addNewCategorias,b=e.categoriasDescripcion,y=e.setcategoriasDescripcion,j=e.indexSelectCategorias,w=e.setIndexSelectCategorias,N=e.qBuscarCategorias,_=e.setQBuscarCategorias,C=e.delCategorias,E=e.categorias;return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"container",children:(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col mb-2 d-flex justify-content-between",children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn "+("usuarios"==t?"btn-success":"btn-outline-success"),onClick:function(){return r("usuarios")},children:"Usuarios"}),(0,at.jsx)("button",{className:"btn "+("categorias"==t?"btn-success":"btn-outline-success"),onClick:function(){return r("categorias")},children:"Categorías"})]})})})}),(0,at.jsx)("hr",{}),"usuarios"==t?(0,at.jsx)(ot,{addNewUsuario:n,usuarioNombre:a,setusuarioNombre:o,usuarioUsuario:i,setusuarioUsuario:s,usuarioRole:c,setusuarioRole:l,usuarioClave:u,setusuarioClave:d,indexSelectUsuarios:f,setIndexSelectUsuarios:h,qBuscarUsuario:p,setQBuscarUsuario:m,delUsuario:g,usuariosData:v}):null,"categorias"==t?(0,at.jsx)(it,{addNewCategorias:x,categoriasDescripcion:b,setcategoriasDescripcion:y,indexSelectCategorias:j,setIndexSelectCategorias:w,qBuscarCategorias:N,setQBuscarCategorias:_,delCategorias:C,categorias:E}):null]})}function ct(e){var t=e.children;return(0,at.jsx)(at.Fragment,{children:t})}function lt(e){var t=e.toggleModalProductos,r=e.moneda,n=e.productoSelectinternouno,a=e.inputCantidadCarritoref,i=e.setCantidad,s=e.cantidad,c=e.dolar,l=(e.setdevolucionTipo,e.devolucionTipo,e.addCarritoRequestInterno),u=e.number,d=e.setproductoSelectinternouno;e.devolucionMotivo,e.setdevolucionMotivo,e.devolucion_cantidad_salida,e.setdevolucion_cantidad_salida,e.devolucion_motivo_salida,e.setdevolucion_motivo_salida,e.devolucion_ci_cajero,e.setdevolucion_ci_cajero,e.devolucion_ci_autorizo,e.setdevolucion_ci_autorizo,e.devolucion_dias_desdecompra,e.setdevolucion_dias_desdecompra,e.devolucion_ci_cliente,e.setdevolucion_ci_cliente,e.devolucion_telefono_cliente,e.setdevolucion_telefono_cliente,e.devolucion_nombre_cliente,e.setdevolucion_nombre_cliente,e.devolucion_nombre_cajero,e.setdevolucion_nombre_cajero,e.devolucion_nombre_autorizo,e.setdevolucion_nombre_autorizo,e.devolucion_trajo_factura,e.setdevolucion_trajo_factura,e.devolucion_motivonotrajofact,e.setdevolucion_motivonotrajofact;return(0,o.useEffect)((function(){a.current&&a.current.focus()}),[]),D("enter",(function(e){e.repeat||l(e)}),{keydown:!0,keyup:!1,filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),D("esc",(function(){d(null)}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("section",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[(0,at.jsx)("div",{className:"absolute top-4 right-4 text-red-500 cursor-pointer hover:text-red-600 transition-colors",onClick:function(){return t(null)},children:(0,at.jsx)("span",{className:"text-2xl font-bold",children:"✖"})}),(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[(0,at.jsxs)("div",{className:"flex justify-between p-6 border-b",children:[(0,at.jsx)("div",{className:"text-4xl font-bold text-green-600",children:r(n.precio)}),(0,at.jsxs)("div",{className:"text-right max-w-[60%]",children:[(0,at.jsx)("h5",{className:"text-sm text-gray-600 font-medium mb-1",children:n.codigo_proveedor}),(0,at.jsx)("h4",{className:"text-lg font-semibold text-gray-900 leading-tight",children:n.descripcion})]})]}),(0,at.jsxs)("div",{className:"p-6 space-y-6",children:[(0,at.jsxs)("div",{className:"flex bg-white rounded-lg shadow-sm overflow-hidden h-20",children:[(0,at.jsx)("div",{className:"flex-1 min-w-[120px]",children:(0,at.jsx)("input",{type:"text",ref:a,className:"w-full h-full px-4 text-lg border-2 border-gray-200 rounded-l-lg focus:border-sinapsis focus:ring-0",placeholder:"Cantidad",onChange:function(e){return i(u(e.target.value))},value:s})}),(0,at.jsx)("div",{className:"flex-1 px-4 py-2 bg-gray-50 border-l border-gray-200",children:(0,at.jsxs)("div",{className:"space-y-1",children:[(0,at.jsxs)("div",{className:"flex items-center",children:[(0,at.jsx)("span",{className:"text-gray-600 mr-1",children:"$"}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:s*n.precio?r(s*n.precio):"0.00"})]}),(0,at.jsxs)("div",{className:"flex items-center",children:[(0,at.jsx)("span",{className:"text-gray-600 mr-1",children:"Bs."}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:s*n.precio*c?r(s*n.precio*c):"0.00"})]})]})}),(0,at.jsx)("div",{className:"w-20 flex items-center justify-center bg-gray-50 border-l border-gray-200",children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("span",{className:"block text-sm text-gray-600",children:"Ct."}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:n.cantidad})]})})]}),(0,at.jsx)("button",{className:"w-full py-3 px-6 bg-sinapsis text-white font-medium rounded-lg hover:bg-sinapsis-select transition-colors",type:"button",onClick:l,"data-type":"agregar",children:"Agregar"}),(0,at.jsx)("div",{className:"flex justify-center space-x-4"})]})]})]}),(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-30"})]})}function ut(e){var t=e.auth,r=e.refaddfast,n=e.setinputqinterno,a=e.inputqinterno,i=e.tbodyproducInterref,s=e.productos,c=e.countListInter,l=e.setProductoCarritoInterno,u=e.moneda,d=e.setCountListInter,f=e.setView,h=e.permisoExecuteEnter;return D("f1",(function(){r&&r.current&&(r.current.value="",r.current.focus())}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("esc",(function(){f("pagar")}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("enter",(function(e){e.repeat||i&&i.current&&i.current.rows[c]&&h&&l(i.current.rows[c].attributes["data-index"].value)}),{keydown:!0,keyup:!1,filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),D("down",(function(){var e=c+1;i&&i.current&&i.current.rows[e]&&(d(e),i.current.rows[e].focus())}),{enableOnTags:["INPUT","SELECT"]},[]),D("up",(function(){if(c>0){var e=c-1;i&&i.current&&i.current.rows[e]&&(i.current.rows[e].focus(),d(e))}}),{enableOnTags:["INPUT","SELECT"]},[]),(0,o.useEffect)((function(){d(0)}),[]),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:t(1)?"9":"8",className:"p-0 pt-1",children:(0,at.jsx)("input",{type:"text",ref:r,className:"form-control",placeholder:"Agregar...(F1)",onChange:function(e){return n(e.target.value)},value:a})})})}),(0,at.jsx)("tbody",{ref:i,children:s.length?s.map((function(e,t){return(0,at.jsxs)("tr",{tabIndex:"-1",className:(c==t?"bg-sinapsis-light":null)+" tr-producto ",onClick:function(){return l(e.id)},"data-index":e.id,children:[(0,at.jsx)("td",{className:"cell2",children:e.codigo_barras}),(0,at.jsx)("td",{className:"text-left pl-5 cell4",children:e.descripcion}),(0,at.jsx)("td",{className:"cell1",children:(0,at.jsx)("a",{href:"#",className:"formShowProductos btn btn-sinapsis btn-sm",children:e.cantidad})}),(0,at.jsx)("td",{className:"cell1",children:e.unidad}),(0,at.jsx)("td",{className:"cell2",children:(0,at.jsxs)("div",{className:"btn-group w-100",children:[(0,at.jsx)("button",{type:"button",className:"m-0 btn btn-success fs-4 fw-bold w-33",children:u(e.precio)}),(0,at.jsxs)("button",{type:"button",className:"m-0 btn btn-success w-33",children:["Bs.",u(e.bs)]}),(0,at.jsxs)("button",{type:"button",className:"m-0 btn btn-success w-33",children:["P.",u(e.cop)]})]})})]},e.id)})):null})]})}function dt(e){var t=e.pedidosFast,r=e.onClickEditPedido,n=e.id;return(0,at.jsx)(at.Fragment,{children:t&&t.length?t.map((function(e){return e?(0,at.jsxs)("div",{className:"card-pedidos d-flex justify-content-center flex-column","data-id":e.id,onClick:r,children:[(0,at.jsx)("h3",{children:(0,at.jsx)("span",{className:(e.id==n?"btn":"btn-outline")+(e.estado?"-success":"-sinapsis")+" fs-4 btn f",children:e.id})}),(0,at.jsx)("span",{className:"text-muted text-center",children:(0,at.jsx)("b",{className:"h5 "+(e.estado?" text-success":" text-sinapsis")})})]},e.id):null})):null})}function ft(e){var t=e.auth,r=e.refaddfast,n=e.setinputqinterno,a=e.inputqinterno,i=e.tbodyproducInterref,s=e.productos,c=e.countListInter,l=e.setProductoCarritoInterno,u=e.moneda,d=e.ModaladdproductocarritoToggle,f=(e.setQProductosMain,e.setCountListInter),h=e.toggleModalProductos,p=e.productoSelectinternouno,m=e.setproductoSelectinternouno,g=e.inputCantidadCarritoref,v=e.setCantidad,x=e.cantidad,b=e.number,y=e.dolar,j=e.setdevolucionTipo,w=e.devolucionTipo,N=e.devolucionMotivo,_=e.setdevolucionMotivo,C=e.devolucion_cantidad_salida,E=e.setdevolucion_cantidad_salida,S=e.devolucion_motivo_salida,A=e.setdevolucion_motivo_salida,I=e.devolucion_ci_cajero,O=e.setdevolucion_ci_cajero,T=e.devolucion_ci_autorizo,P=e.setdevolucion_ci_autorizo,k=e.devolucion_dias_desdecompra,D=e.setdevolucion_dias_desdecompra,M=e.devolucion_ci_cliente,R=e.setdevolucion_ci_cliente,F=e.devolucion_telefono_cliente,L=e.setdevolucion_telefono_cliente,B=e.devolucion_nombre_cliente,U=e.setdevolucion_nombre_cliente,z=e.devolucion_nombre_cajero,V=e.setdevolucion_nombre_cajero,G=e.devolucion_nombre_autorizo,H=e.setdevolucion_nombre_autorizo,q=e.devolucion_trajo_factura,W=e.setdevolucion_trajo_factura,Y=e.devolucion_motivonotrajofact,X=e.setdevolucion_motivonotrajofact,$=e.addCarritoRequestInterno,Q=e.getProductos,Z=e.setView,K=e.pedidosFast,J=e.onClickEditPedido,ee=e.pedidoData,te=e.permisoExecuteEnter;return(0,o.useEffect)((function(){r&&r.current&&(r.current.value="",r.current.focus())}),[]),(0,o.useEffect)((function(){Q(a,!0)}),[a]),(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-auto p-0",children:(0,at.jsx)(dt,{pedidosFast:K,onClickEditPedido:J,id:ee.id})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("div",{className:"container-fluid",children:p?(0,at.jsx)(lt,{toggleModalProductos:h,moneda:u,productoSelectinternouno:p,setproductoSelectinternouno:m,inputCantidadCarritoref:g,setCantidad:v,cantidad:x,number:b,dolar:y,setdevolucionTipo:j,devolucionTipo:w,addCarritoRequestInterno:$,ModaladdproductocarritoToggle:d,devolucionMotivo:N,setdevolucionMotivo:_,devolucion_cantidad_salida:C,setdevolucion_cantidad_salida:E,devolucion_motivo_salida:S,setdevolucion_motivo_salida:A,devolucion_ci_cajero:I,setdevolucion_ci_cajero:O,devolucion_ci_autorizo:T,setdevolucion_ci_autorizo:P,devolucion_dias_desdecompra:k,setdevolucion_dias_desdecompra:D,devolucion_ci_cliente:M,setdevolucion_ci_cliente:R,devolucion_telefono_cliente:F,setdevolucion_telefono_cliente:L,devolucion_nombre_cliente:B,setdevolucion_nombre_cliente:U,devolucion_nombre_cajero:z,setdevolucion_nombre_cajero:V,devolucion_nombre_autorizo:G,setdevolucion_nombre_autorizo:H,devolucion_trajo_factura:q,setdevolucion_trajo_factura:W,devolucion_motivonotrajofact:Y,setdevolucion_motivonotrajofact:X}):(0,at.jsx)(ut,{auth:t,refaddfast:r,setinputqinterno:n,inputqinterno:a,tbodyproducInterref:i,productos:s,countListInter:c,setProductoCarritoInterno:l,moneda:u,setCountListInter:f,setView:Z,permisoExecuteEnter:te})})})]})})}function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function pt(){pt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ht(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ht(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function mt(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const xt=function(e){e.updatetasasfromCentral;var t=e.user,r=e.logout,n=(e.getip,e.settoggleClientesBtn),a=e.toggleClientesBtn,i=e.getVentasClick,s=e.dolar,c=e.peso,l=e.view,u=e.setView,d=e.setMoneda,f=e.getPedidos,h=(e.setViewCaja,e.viewCaja,e.setShowModalMovimientos,e.showModalMovimientos,e.auth),p=(e.isCierre,e.getPermisoCierre),m=e.setsubViewInventario,g=(e.subViewInventario,gt((0,o.useState)(!1),2)),v=g[0],x=g[1],b=function(){var e,t=(e=pt().mark((function e(t){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==t.currentTarget.attributes["data-type"].value){e.next=11;break}return x(!0),e.prev=3,e.next=6,d(t);case 6:return e.prev=6,x(!1),e.finish(6);case 9:e.next=12;break;case 11:d(t);case 12:case"end":return e.stop()}}),e,null,[[3,,6,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){mt(o,n,a,i,s,"next",e)}function s(e){mt(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,at.jsxs)("header",{className:"bg-white shadow-lg border-b-4 border-orange-500",children:[(0,at.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,at.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,at.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,at.jsx)("img",{src:"/images/logo.png?db95baba4ba1bb03cdef1a243a59890f",alt:"Sinapsis",className:"h-10 w-auto"}),(0,at.jsx)("div",{className:"hidden sm:block",children:(0,at.jsx)("h1",{className:"text-gray-800 font-bold text-lg",children:t.sucursal})})]}),(0,at.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,at.jsxs)("div",{className:"text-right",children:[(0,at.jsx)("p",{className:"text-gray-800 font-semibold text-sm",children:t.nombre}),(0,at.jsxs)("p",{className:"text-gray-600 text-xs",children:[t.usuario," (",t.role,")"]})]}),(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[7!=t.tipo_usuario&&("admin"==t.usuario||"ao"==t.usuario)&&(0,at.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:function(){return u("configuracion")},title:"Configuración",children:(0,at.jsx)("i",{className:"fa fa-cogs text-lg"})}),7!=t.tipo_usuario&&(0,at.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:function(){u("pedidos"),f()},title:"Pedidos",children:(0,at.jsx)("img",{src:"/images/carrito1.png?7033f67421d5e63955d51d798a2ddef3",alt:"carrito",className:"h-6 w-6"})}),(0,at.jsxs)("button",{className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-2",onClick:function(){console.log("Botón logout clickeado"),r()},title:"Cerrar sesión - ".concat(t.usuario," (").concat(t.role,")"),children:[(0,at.jsx)("i",{className:"fa fa-sign-out-alt"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Cerrar Sesión"})]})]})]}),(0,at.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(0,at.jsxs)("div",{className:"text-right",children:[(0,at.jsx)("p",{className:"text-gray-800 font-semibold text-sm",children:t.nombre}),(0,at.jsx)("p",{className:"text-gray-600 text-xs",children:t.usuario})]}),(0,at.jsx)("button",{className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",onClick:function(){console.log("Botón logout clickeado"),r()},title:"Cerrar sesión",children:(0,at.jsx)("i",{className:"fa fa-sign-out-alt"})})]})]})})}),(0,at.jsx)("div",{className:"bg-orange-600",children:(0,at.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,at.jsx)("div",{className:"py-3",children:7==t.tipo_usuario?(0,at.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("inventario"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){u("inventario"),m("inventario")},children:[(0,at.jsx)("i",{className:"fa fa-boxes mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Inventario"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Inv"})]}),(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("pedidosCentral"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("pedidosCentral")},children:[(0,at.jsx)("i",{className:"fa fa-truck mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Recibir de Sucursal"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Recibir"})]}),(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("garantias"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("garantias")},children:[(0,at.jsx)("i",{className:"fa fa-shield-alt mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Garantías"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Gar"})]}),(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("inventario-ciclico"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("inventario-ciclico")},children:[(0,at.jsx)("i",{className:"fa fa-clipboard-list mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Inventario Cíclico"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Cíclico"})]})]}):(0,at.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[(0,at.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[h(1)&&(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("ventas"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){u("ventas"),i()},children:[(0,at.jsx)("i",{className:"fa fa-chart-line mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Ventas"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Ventas"})]}),h(3)&&(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("seleccionar"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("seleccionar")},children:[(0,at.jsx)("i",{className:"fa fa-calculator mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Facturar"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Fact"})]}),h(2)&&(0,at.jsxs)("div",{className:"relative",children:[(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(a?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return n(!a)},children:[(0,at.jsx)("i",{className:"fa fa-users mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Clientes"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Cli"}),(0,at.jsx)("i",{className:"fa fa-chevron-down ml-2"})]}),a&&(0,at.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg z-50 border border-gray-200",children:[(0,at.jsxs)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-t-lg ".concat("credito"===l?"bg-orange-100 text-orange-800":"text-gray-700"),onClick:function(){u("credito"),n(!1)},children:[(0,at.jsx)("i",{className:"fa fa-credit-card mr-2"}),"Cuentas por cobrar"]}),(0,at.jsxs)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-b-lg ".concat("clientes_crud"===l?"bg-orange-100 text-orange-800":"text-gray-700"),onClick:function(){u("clientes_crud"),n(!1)},children:[(0,at.jsx)("i",{className:"fa fa-user-cog mr-2"}),"Administrar Clientes"]})]})]}),(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("cierres"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return h(1)?u("cierres"):p()},children:[(0,at.jsx)("i",{className:"fa fa-lock mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Cierre"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Cierre"})]})]}),(0,at.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-end items-center",children:[(0,at.jsxs)("div",{className:"flex gap-2",children:[(0,at.jsx)("button",{className:"px-3 py-1 bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500 rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:b,"data-type":"1",disabled:v,children:v?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"animate-spin h-3 w-3 border-2 border-orange-600 border-t-transparent rounded-full mr-1"}),"Actualizando..."]}):(0,at.jsxs)(at.Fragment,{children:["USD ",s]})}),(0,at.jsxs)("button",{className:"px-3 py-1 bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500 rounded-lg text-sm transition-colors",onClick:b,"data-type":"2",children:["COP ",c]})]}),(0,at.jsxs)("div",{className:"flex gap-2",children:[h(1)&&(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("inventario"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("inventario")},children:[(0,at.jsx)("i",{className:"fa fa-cogs mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Administración"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Admin"})]}),h(1)&&t.iscentral&&(0,at.jsxs)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("pedidosCentral"===l?"bg-white text-orange-800 border-2 border-orange-800":"bg-white hover:bg-orange-50 text-orange-700 border-2 border-orange-500"),onClick:function(){return u("pedidosCentral")},children:[(0,at.jsx)("i",{className:"fa fa-truck mr-2"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Recibir de Sucursal"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Recibir"})]})]})]})]})})})})]})};function bt(e){var t=e.x,r=e.y,n=e.setmodalmovilshow,a=(e.modalmovilshow,e.getProductos),i=e.productos,s=e.linkproductocentralsucursal,c=e.inputbuscarcentralforvincular,l=e.modalmovilRef,u=e.margin,d=void 0===u?42:u;return(0,o.useEffect)((function(){var e;(c&&c.current&&c.current.focus(),l)&&(l.current&&(null===(e=l.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"})))}),[r]),(0,at.jsxs)("div",{className:"modalmovil",style:{top:r+d,left:t},ref:l,onMouseLeave:function(){return n(!1)},children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar en Local...",ref:c,onChange:function(e){return a(e.target.value,!0)}}),(0,at.jsx)("div",{className:"input-group-prepend",children:(0,at.jsx)("span",{className:"input-group-text",children:"Productos Local"})})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{}),(0,at.jsx)("th",{children:"C. Alterno"}),(0,at.jsx)("th",{children:"C. Barras"}),(0,at.jsx)("th",{children:"Unidad"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Base"}),(0,at.jsx)("th",{children:"Venta"}),(0,at.jsx)("th",{children:"Categoría/Proveedor"})]})}),(0,at.jsx)("tbody",{children:i.length?i.map((function(e){return(0,at.jsxs)("tr",{"data-id":e.id,className:"pointer align-middle",children:[(0,at.jsxs)("td",{children:[" ",(0,at.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){return s(e.id)},children:[(0,at.jsx)("i",{className:"fa fa-link fa-2x"})," ",(0,at.jsx)("br",{})," #",e.id]})]}),(0,at.jsx)("td",{children:e.codigo_proveedor}),(0,at.jsx)("td",{children:e.codigo_barras}),(0,at.jsx)("td",{children:e.unidad}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:e.precio_base}),(0,at.jsx)("td",{className:"text-success",children:e.precio}),(0,at.jsxs)("td",{children:[e.id_categoria,"/",e.id_proveedor]})]},e.id)})):null})]})]})}function yt(e){var t=e.modalmovilRef,r=e.idselectproductoinsucursalforvicular,n=e.guardarDeSucursalEnCentral,a=e.getSucursales,o=e.sucursalesCentral,i=e.setselectSucursalCentral,s=e.selectSucursalCentral,c=e.getInventarioSucursalFromCentral,l=e.setInventarioSucursalFromCentral,u=e.inventarioSucursalFromCentral,d=e.categorias,f=e.proveedoresList,h=e.changeInventarioFromSucursalCentral,p=(e.setCambiosInventarioSucursal,e.number),m=e.subviewpanelcentroacopio,g=e.setsubviewpanelcentroacopio,v=(e.fallaspanelcentroacopio,e.estadisticaspanelcentroacopio,e.gastospanelcentroacopio,e.cierrespanelcentroacopio,e.diadeventapanelcentroacopio,e.tasaventapanelcentroacopio),x=e.setchangetasasucursal,b=e.parametrosConsultaFromsucursalToCentral,y=(e.setparametrosConsultaFromsucursalToCentral,e.onchangeparametrosConsultaFromsucursalToCentral),j=e.getTareasCentral,w=e.tareasCentral,N=e.openVincularSucursalwithCentral,_=e.modalmovilx,C=e.modalmovily,E=e.modalmovilshow,S=e.setmodalmovilshow,A=e.getProductos,I=e.productos,O=e.linkproductocentralsucursal,T=e.inputbuscarcentralforvincular,P=e.puedoconsultarproductosinsucursalfromcentral,k=e.uniqueproductofastshowbyid,D=e.getUniqueProductoById,M=e.showdatafastproductobyid,R=e.setshowdatafastproductobyid,F=e.estadisticasinventarioSucursalFromCentral,L=e.autovincularSucursalCentral,B=e.datainventarioSucursalFromCentralcopy,U=(e.setdatainventarioSucursalFromCentralcopy,function(e){return!e||"delete"===e});return(0,at.jsxs)("div",{className:"container-fluid",children:[E?(0,at.jsx)(bt,{modalmovilRef:t,x:_,y:C,setmodalmovilshow:S,modalmovilshow:E,getProductos:A,productos:I,linkproductocentralsucursal:O,inputbuscarcentralforvincular:T}):null,M?(0,at.jsxs)("div",{className:"modalmovil-sm",style:{top:C+15,left:_},onMouseLeave:function(){return R(!1)},onClick:function(){return R(!1)},children:[(0,at.jsx)("h5",{children:"Producto de Centro de acopio"}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"ID"}),(0,at.jsx)("th",{children:"C. Alterno"}),(0,at.jsx)("th",{children:"C. Barras"}),(0,at.jsx)("th",{children:"Unidad"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Base"}),(0,at.jsx)("th",{children:"Venta"}),(0,at.jsx)("th",{children:"Categoría/Proveedor"})]})}),(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{className:"pointer align-middle",children:[(0,at.jsx)("td",{children:k.id?k.id:null}),(0,at.jsx)("td",{children:k.codigo_proveedor?k.codigo_proveedor:null}),(0,at.jsx)("td",{children:k.codigo_barras?k.codigo_barras:null}),(0,at.jsx)("td",{children:k.unidad?k.unidad:null}),(0,at.jsx)("td",{children:k.descripcion?k.descripcion:null}),(0,at.jsx)("td",{children:k.precio_base?k.precio_base:null}),(0,at.jsx)("td",{className:"text-success",children:k.precio?k.precio:null}),(0,at.jsxs)("td",{children:[k.id_categoria?k.id_categoria:null,"/",k.id_proveedor?k.id_proveedor:null]})]})})]})]}):null,(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-1",children:[(0,at.jsxs)("h6",{children:["Cola de tareas"," ",(0,at.jsxs)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return j([0,1])},children:[" ",(0,at.jsx)("i",{className:"fa fa-search"})," "]})]}),(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:w.length?w.map((function(e,t){return e?(0,at.jsxs)("tr",{className:(1==e.estado?"bg-success-light":"bg-light")+" text-secondary card mt-2 pointer",children:[(0,at.jsx)("td",{children:e.id}),(0,at.jsx)("td",{children:e.sucursal.codigo}),(0,at.jsx)("td",{children:e.created_at}),(0,at.jsxs)("td",{children:[1==e.tipo?"MODIFICAR":null,2==e.tipo?"ELIMINAR DUPLICADOS":null]}),(0,at.jsxs)("td",{children:[e.antesproducto?(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{children:[(0,at.jsxs)("td",{children:[(0,at.jsx)("b",{children:"CB:"})," ",e.prodantesproducto.codigo_barras," ",(0,at.jsx)("br",{}),(0,at.jsx)("b",{children:"CA:"})," ",e.prodantesproducto.codigo_alterno]}),(0,at.jsx)("td",{children:e.prodantesproducto.descripcion}),(0,at.jsx)("td",{children:e.prodantesproducto.cantidad})]})})}):null,e.id_producto_verde?e.id_producto_verde:null]}),(0,at.jsxs)("td",{children:[e.id_producto_rojo?e.id_producto_rojo:null,e.cambiarproducto?(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{children:[(0,at.jsxs)("td",{children:[(0,at.jsx)("b",{children:"CB:"})," ",e.prodcambiarproducto.codigo_barras," ",(0,at.jsx)("br",{}),(0,at.jsx)("b",{children:"CA:"})," ",e.prodcambiarproducto.codigo_alterno]}),(0,at.jsx)("td",{children:e.prodcambiarproducto.descripcion}),(0,at.jsx)("td",{children:e.prodcambiarproducto.cantidad})]})})}):null]}),(0,at.jsx)("td",{children:(0,at.jsx)("button",{className:"btn btn-"+(0==qTareaPendienteEstado?"sinapsis":"success"),children:0==qTareaPendienteEstado?(0,at.jsx)("i",{className:"fa fa-clock-o"}):(0,at.jsx)("i",{className:"fa fa-check"})})})]},e.id):null})):null})})]}),(0,at.jsxs)("div",{className:"col-2",children:[(0,at.jsx)("button",{className:"btn btn-outline-success w-100 mb-1",onClick:a,children:"Buscar Sucursales"}),(0,at.jsx)("ul",{className:"list-group",children:o&&o.length?o.map((function(e){return(0,at.jsxs)("li",{onClick:function(){return i(e.codigo)},className:(e.codigo==s?"active":null)+" list-group-item pointer",children:[e.codigo," - ",e.nombre]},e.id)})):null})]}),(0,at.jsx)("div",{className:"col",children:null!==s?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("inventarioSucursalFromCentral")},children:"Inventario"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("fallaspanelcentroacopio")},children:"Fallas"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("estadisticaspanelcentroacopio")},children:"Estadísticas"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("gastospanelcentroacopio")},children:"Gastos"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("cierrespanelcentroacopio")},children:"Cierres"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("diadeventapanelcentroacopio")},children:"Día de Venta"}),(0,at.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("tasaventapanelcentroacopio")},children:"Tasa de Venta"})]}),"inventarioSucursalFromCentral"==m?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("h1",{children:"Inventario"}),(0,at.jsx)("div",{className:"input-group mb-3",children:P()?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return l("inventarioSucursalFromCentral")},children:"Recibir"}),(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",name:"qinventario",value:b.qinventario?b.qinventario:"",onChange:y}),(0,at.jsxs)("select",{className:"form-control",name:"numinventario",value:b.numinventario?b.numinventario:"",onChange:y,children:[(0,at.jsx)("option",{value:"25",children:"25"}),(0,at.jsx)("option",{value:"50",children:"50"}),(0,at.jsx)("option",{value:"100",children:"100"}),(0,at.jsx)("option",{value:"500",children:"500"})]}),(0,at.jsxs)("select",{className:"form-control",name:"novinculados",value:b.novinculados?b.novinculados:"",onChange:y,children:[(0,at.jsx)("option",{value:"todos",children:"Todos"}),(0,at.jsx)("option",{value:"novinculados",children:"No vinculados"}),(0,at.jsx)("option",{value:"sivinculados",children:"vinculados"}),(0,at.jsx)("option",{value:"pedido",children:"Pedido"})]}),(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return c("inventarioSucursalFromCentral")},children:"Consultar"})]}):(0,at.jsx)("button",{className:"btn bg-danger-light",onClick:function(){return c("inventarioSucursalFromCentralmodify")},children:"Guardar/Editar Cambios"})}),(0,at.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:["Productos vinculados con central"," ",F?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"h5",children:F.vinculados?F.vinculados:null})," ","/"," ",(0,at.jsx)("span",{className:"h5",children:F.items_inventario?F.items_inventario:null})," ","consultados"," ",(0,at.jsx)("span",{className:"h5",children:F.items_inventario_recuperados?F.items_inventario_recuperados:null})]}):null]}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn bg-secondary-light ",children:"Consultado"}),(0,at.jsx)("button",{className:"btn bg-danger-light ",children:"Preparado"}),(0,at.jsx)("button",{className:"btn bg-warning-light ",children:"Cargado"}),(0,at.jsx)("button",{className:"btn bg-success-light ",children:"Procesado"})]})})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsxs)("th",{className:"cell05 pointer",children:[(0,at.jsx)("span",{children:"ID VINCULACIÓN"}),(0,at.jsx)("br",{}),(0,at.jsx)("span",{children:"CENTRAL"})," ",(0,at.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){return L()},children:"Auto vincular(codigoBarras)"})]}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"C. Alterno"})}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"C. Barras"})}),(0,at.jsx)("th",{className:"cell05 pointer",children:(0,at.jsx)("span",{children:"Unidad"})}),(0,at.jsx)("th",{className:"cell2 pointer",children:(0,at.jsx)("span",{children:"Descripción"})}),(0,at.jsx)("th",{className:"cell05 pointer",children:(0,at.jsx)("span",{children:"Ct."})}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"Base"})}),(0,at.jsx)("th",{className:"cell15 pointer",children:(0,at.jsx)("span",{children:"Venta "})}),(0,at.jsxs)("th",{className:"cell15 pointer",children:[(0,at.jsx)("span",{children:"Categoría"}),(0,at.jsx)("br",{}),(0,at.jsx)("span",{children:"Preveedor"})]}),(0,at.jsx)("th",{className:"cell05 pointer",children:(0,at.jsx)("span",{children:"IVA"})}),(0,at.jsx)("th",{className:"cell1",children:(0,at.jsx)("button",{className:"btn btn-success",onClick:function(){return h(null,null,null,"add")},children:(0,at.jsx)("i",{className:"fa fa-plus"})})})]})}),(0,at.jsx)("tbody",{children:u?u.length?u.map((function(e,t){return(0,at.jsxs)("tr",{className:(0==e.estatus?"bg-secondary-light":1==e.estatus?"bg-danger-light":2==e.estatus?"bg-warning-light":3==e.estatus?"bg-success-light":"")+" pointer",onDoubleClick:function(){return h(null,t,e.id,"update")},children:[U(e.type)?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{className:"cell05",children:e.id_vinculacion?(0,at.jsxs)("button",{className:"btn btn-outline-success",onClick:function(r){return N(r,{id:e.id?e.id:null,index:t})},children:["#",e.id_vinculacion]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("button",{className:(r.index==t?"btn-warning":"btn-outline-danger")+" btn fs-10px",onClick:function(r){return N(r,{id:e.id?e.id:null,index:t})},children:"No vinculado"}),(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm fs-10px",onClick:function(){return n(t,e.id?e.id:null)},children:(0,at.jsx)("i",{className:"fa fa-save"})})]})}),(0,at.jsxs)("td",{className:"cell1",children:["#",e.id,"/",e.codigo_proveedor]}),(0,at.jsx)("td",{className:"cell1",children:e.codigo_barras}),(0,at.jsx)("td",{className:"cell05",children:e.unidad}),(0,at.jsx)("td",{className:"cell2",children:e.descripcion}),(0,at.jsx)("th",{className:"cell05",children:e.cantidad}),(0,at.jsx)("td",{className:"cell1",children:e.precio_base}),(0,at.jsx)("td",{className:"cell15 text-success",children:e.precio}),(0,at.jsxs)("td",{className:"cell15",children:[e.id_categoria," ",(0,at.jsx)("br",{})," ",e.id_proveedor]}),(0,at.jsx)("td",{className:"cell05",children:e.iva})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{className:"cell1",children:e.id_vinculacion?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("button",{className:"btn btn-outline-success",onClick:function(r){return N(r,{id:e.id?e.id:null,index:t})},children:["#",e.id_vinculacion]}),(0,at.jsx)("i",{className:"fa fa-eye text-success pointer m-3",onClick:function(t){return D(t,e.id_vinculacion)}})]}):(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("button",{className:"btn btn-outline-danger",onClick:function(r){return N(r,{id:e.id?e.id:null,index:t})},children:"No vinculado"})})}),(0,at.jsxs)("td",{className:"cell1",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].codigo_proveedor}):null,(0,at.jsx)("br",{}),(0,at.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm",value:e.codigo_proveedor?e.codigo_proveedor:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","codigo_proveedor")},placeholder:"codigo_proveedor..."})]}),(0,at.jsxs)("td",{className:"cell1",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].codigo_barras}):null,(0,at.jsx)("br",{}),(0,at.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.codigo_barras?null:"invalid"),value:e.codigo_barras?e.codigo_barras:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","codigo_barras")},placeholder:"codigo_barras..."})]}),(0,at.jsxs)("td",{className:"cell05",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].unidad}):null,(0,at.jsx)("br",{}),(0,at.jsxs)("select",{disabled:U(e.type),className:"form-control form-control-sm "+(e.unidad?null:"invalid"),value:e.unidad?e.unidad:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","unidad")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),(0,at.jsx)("option",{value:"UND",children:"UND"}),(0,at.jsx)("option",{value:"PAR",children:"PAR"}),(0,at.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,at.jsx)("option",{value:"PQT",children:"PQT"}),(0,at.jsx)("option",{value:"MTR",children:"MTR"}),(0,at.jsx)("option",{value:"KG",children:"KG"}),(0,at.jsx)("option",{value:"GRS",children:"GRS"}),(0,at.jsx)("option",{value:"LTR",children:"LTR"}),(0,at.jsx)("option",{value:"ML",children:"ML"})]})]}),(0,at.jsxs)("td",{className:"cell2",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].descripcion}):null,(0,at.jsx)("br",{}),(0,at.jsx)("textarea",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.descripcion?null:"invalid"),value:e.descripcion?e.descripcion:"",onChange:function(e){return h(e.target.value.replace("\n",""),t,e.id,"changeInput","descripcion")},placeholder:"descripcion..."})]}),(0,at.jsxs)("td",{className:"cell05",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].cantidad}):null,(0,at.jsx)("br",{}),(0,at.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.cantidad?null:"invalid"),value:e.cantidad?e.cantidad:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","cantidad")},placeholder:"cantidad..."})]}),(0,at.jsxs)("td",{className:"cell1",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].precio_base}):null,(0,at.jsx)("br",{}),(0,at.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm "+(e.precio_base?null:"invalid"),value:e.precio_base?e.precio_base:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","precio_base")},placeholder:"Base..."})]}),(0,at.jsxs)("td",{className:"cell15",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].precio}):null,(0,at.jsx)("br",{}),(0,at.jsx)("div",{className:"input-group",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.precio?null:"invalid"),value:e.precio?e.precio:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","precio")},placeholder:"Venta..."})})]}),(0,at.jsxs)("td",{className:"cell15",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].id_categoria}):null," /",B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].id_proveedor}):null,(0,at.jsx)("br",{}),(0,at.jsxs)("select",{required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.id_categoria?null:"invalid"),value:e.id_categoria?e.id_categoria:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","id_categoria")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),d.map((function(e){return(0,at.jsxs)("option",{value:e.id,children:[e.id,"-",e.descripcion]},e.id)}))]}),(0,at.jsx)("br",{}),(0,at.jsxs)("select",{required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.id_proveedor?null:"invalid"),value:e.id_proveedor?e.id_proveedor:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","id_proveedor")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),f.map((function(e){return(0,at.jsxs)("option",{value:e.id,children:[e.id,"-",e.descripcion]},e.id)}))]})]}),(0,at.jsxs)("td",{className:"cell05",children:[B[t]?(0,at.jsx)("span",{className:"text-muted text-decoration-line-through",children:B[t].iva}):null,(0,at.jsx)("br",{}),(0,at.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm",value:e.iva?e.iva:"",onChange:function(e){return h(p(e.target.value,2),t,e.id,"changeInput","iva")},placeholder:"iva..."})]})]}),(0,at.jsx)("td",{className:"cell1",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[e.type?null:(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delMode")},children:(0,at.jsx)("i",{className:"fa fa-trash"})}),(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return h(null,t,e.id,"update")},children:(0,at.jsx)("i",{className:"fa fa-pencil"})})]}),"new"===e.type?(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delNew")},children:(0,at.jsx)("i",{className:"fa fa-times"})}):null,"update"===e.type?(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return h(null,t,e.id,"delModeUpdateDelete")},children:(0,at.jsx)("i",{className:"fa fa-times"})}):null,"delete"===e.type?(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delModeUpdateDelete")},children:(0,at.jsx)("i",{className:"fa fa-arrow-left"})}):null]})})]},t)})):(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:7,children:"Sin resultados"})}):null})]})]})]}):null,"cierrespanelcentroacopio"==m?(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("h1",{children:["Cierres"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("cierrespanelcentroacopio")},children:"Actualizar"})]})}):null,"gastospanelcentroacopio"==m?(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("h1",{children:["Gastos"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("gastospanelcentroacopio")},children:"Actualizar"})]})}):null,"estadisticaspanelcentroacopio"==m?(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("h1",{children:["Estadísticas"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("estadisticaspanelcentroacopio")},children:"Actualizar"})]})}):null,"fallaspanelcentroacopio"==m?(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("h1",{children:["Fallas"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("fallaspanelcentroacopio")},children:"Actualizar"})]})}):null,"diadeventapanelcentroacopio"==m?(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("h1",{children:["Día de Venta"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("diadeventapanelcentroacopio")},children:"Actualizar"})]})}):null,"tasaventapanelcentroacopio"==m?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("h1",{children:["Tasas de Venta"," ",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("tasaventapanelcentroacopio")},children:"Actualizar"})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"ID"}),(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Valor"})]})}),(0,at.jsx)("tbody",{children:v.length?v.map((function(e){return(0,at.jsxs)("tr",{className:"pointer",onClick:x,"data-type":e.tipo,children:[(0,at.jsx)("th",{children:e.id}),(0,at.jsx)("th",{children:1==e.tipo?"Bolivares":"Pesos Colombianos"}),(0,at.jsx)("th",{children:e.valor})]},e.id)})):null})]})]}):null]}):null})]})]})}function jt(e){var t=e.pedidoData,r=e.showModalPedidoFast,n=e.setshowModalPedidoFast,a=e.onClickEditPedido;try{var o=t.id,i=t.created_at,s=t.cliente,c=t.items,l=t.total_des,u=t.subtotal,d=t.total,f=(t.clean_total,t.cop_clean,t.bs_clean,t.total_porciento),h=t.cop,p=t.bs,m=(t.editable,t.vuelto_entregado,t.estado,t.exento),g=t.gravable,v=t.ivas,x=t.monto_iva,b=t.pagos;return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("section",{className:"modal-custom",children:[(0,at.jsx)("div",{className:"text-danger",onClick:function(){return n(!r)},children:(0,at.jsx)("span",{className:"closeModal",children:"✖"})}),(0,at.jsxs)("div",{className:"modal-content",children:[(0,at.jsxs)("div",{className:" text-center p-1 d-flex justify-content-between",children:[(0,at.jsx)("span",{className:"text-muted m-2",children:i}),(0,at.jsxs)("button",{"data-id":o,onClick:a,className:"btn btn-lg btn-block btn-outline-sinapsis",children:["Pedido #",o]})]}),(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("table",{className:"table table-striped text-center",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"text-sinapsis cell2",children:"Código"}),(0,at.jsx)("th",{className:"text-sinapsis cell3",children:"Producto"}),(0,at.jsx)("th",{className:"text-sinapsis cell1",children:"Cant."}),(0,at.jsx)("th",{className:"text-sinapsis cell1",children:"Precio"}),(0,at.jsx)("th",{className:"text-sinapsis cell2",children:"Total"})]})}),(0,at.jsxs)("tbody",{children:[c?c.map((function(e,t){return e.abono&&!e.producto?(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:"PAGO"}),(0,at.jsx)("td",{children:e.abono}),(0,at.jsxs)("td",{children:[e.cantidad," "]}),(0,at.jsx)("td",{children:e.monto}),(0,at.jsx)("th",{className:"font-weight-bold",children:e.total})]},e.id):(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"align-middle",children:e.producto.codigo_barras}),(0,at.jsxs)("td",{className:"align-middle",children:[e.producto.descripcion," "]}),(0,at.jsx)("td",{className:"pointer clickme align-middle",children:e.cantidad.replace(".00","")}),e.producto.precio1?(0,at.jsx)("td",{className:"align-middle text-success pointer",children:e.producto.precio}):(0,at.jsx)("td",{className:"align-middle pointer",children:e.producto.precio}),(0,at.jsx)("th",{className:"font-weight-bold align-middle",children:e.total})]},e.id)})):null,(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("button",{className:"btn btn-outline-success fs-5",children:c?c.length:null})}),(0,at.jsxs)("th",{colSpan:"5",className:"p-2 align-middle",children:[s?s.nombre:null," ",(0,at.jsx)("b",{children:s?s.identificacion:null})]})]})]})]})}),(0,at.jsxs)("div",{className:"col-3",children:[(0,at.jsx)("table",{className:"table",children:(0,at.jsxs)("tbody",{children:[(0,at.jsxs)("tr",{className:"hover",children:[(0,at.jsx)("th",{className:"",children:"Sub-Total"}),(0,at.jsx)("td",{colSpan:"2",className:"text-right",children:u})]}),(0,at.jsxs)("tr",{className:"hover",children:[(0,at.jsxs)("th",{className:"pointer clickme",children:["Desc. ",f,"%"]}),(0,at.jsx)("td",{colSpan:"2",className:"text-right",children:l})]}),(0,at.jsxs)("tr",{className:"hover",children:[(0,at.jsx)("th",{className:"",children:"Monto Exento"}),(0,at.jsx)("td",{colSpan:"2",className:"text-right",children:m})]}),(0,at.jsxs)("tr",{className:"hover",children:[(0,at.jsx)("th",{className:"",children:"Monto Gravable"}),(0,at.jsx)("td",{colSpan:"2",className:"text-right",children:g})]}),(0,at.jsxs)("tr",{className:"hover",children:[(0,at.jsxs)("th",{className:"",children:["IVA ",(0,at.jsxs)("span",{children:["(",v,")"]})]}),(0,at.jsx)("td",{colSpan:"2",className:"text-right",children:x})]}),(0,at.jsxs)("tr",{className:"hover h4",children:[(0,at.jsx)("th",{className:"",children:"Total"}),(0,at.jsx)("td",{className:"text-left text-muted align-bottom"}),(0,at.jsx)("td",{className:"text-right text-success fw-bold fs-11",children:(0,at.jsx)("span",{"data-type":"dolar",className:"pointer",children:d})})]}),(0,at.jsxs)("tr",{className:"text-muted",children:[(0,at.jsx)("td",{className:"text-left text-muted"}),(0,at.jsxs)("th",{className:"text-right",colSpan:"2",children:[(0,at.jsxs)("span",{"data-type":"bs",className:"fs-2 pointer",children:[" Bs ",p]}),(0,at.jsx)("br",{}),(0,at.jsxs)("span",{"data-type":"cop",className:"fs-5 pointer",children:["COP ",h]})]})]})]})}),(0,at.jsx)("div",{className:"d-flex justify-content-center mt-2",children:b.map((function(e){return(0,at.jsxs)("span",{className:"h4",children:[0!=e.monto&&1==e.tipo?(0,at.jsxs)("span",{className:"btn btn-info btn-sm",children:["Trans. ",e.monto]}):null,0!=e.monto&&2==e.tipo?(0,at.jsxs)("span",{className:"btn btn-secondary btn-sm",children:["Deb. ",e.monto]}):null,0!=e.monto&&3==e.tipo?(0,at.jsxs)("span",{className:"btn btn-success btn-sm",children:["Efec. ",e.monto]}):null,0!=e.monto&&4==e.tipo?(0,at.jsxs)("span",{className:"btn btn-sinapsis btn-sm",children:["Cred. ",e.monto]}):null,0!=e.monto&&5==e.tipo?(0,at.jsxs)("span",{className:"btn btn-primary btn-sm",children:["Otr. ",e.monto]}):null,0!=e.monto&&6==e.tipo?(0,at.jsxs)("span",{className:"btn btn-danger btn-sm",children:["Vuel. ",e.monto]}):null]},e.id)}))})]})]})})]})]}),(0,at.jsx)("div",{className:"overlay",onClick:function(){return n(!r)}})]})}catch(e){return""}}function wt(e){var t=e.togleeReferenciasElec,r=e.settogleeReferenciasElec,n=e.moneda,a=e.refrenciasElecData,i=e.onClickEditPedido,s=e.getReferenciasElec;return(0,o.useEffect)((function(){s()}),[t]),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("section",{className:"modal-custom",children:[(0,at.jsx)("div",{className:"text-danger",onClick:function(){return r(!1)},children:(0,at.jsx)("span",{className:"closeModal",children:"✖"})}),(0,at.jsx)("div",{className:"modal-content-sm modal-cantidad",children:(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"USUARIO"}),(0,at.jsx)("th",{children:"PEDIDO"}),(0,at.jsx)("th",{children:"TIPO"}),(0,at.jsx)("th",{children:"REF"}),(0,at.jsx)("th",{children:"BANCO"}),(0,at.jsxs)("td",{className:"text-success",children:["TOT. MONTO ",(0,at.jsx)("b",{children:n(a.total)})]}),(0,at.jsx)("th",{children:"HORA"})]})}),(0,at.jsx)("tbody",{children:a.refs?a.refs.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.vendedorUser}),(0,at.jsxs)("td",{children:[" ",(0,at.jsx)("button",{className:"btn btn-success",onClick:function(){return i(null,e.id_pedido)},children:e.id_pedido})]}),(0,at.jsxs)("td",{children:[1==e.tipo&&0!=e.monto?(0,at.jsx)("span",{className:"btn-sm btn-info btn",children:"Trans."}):null,2==e.tipo&&0!=e.monto?(0,at.jsx)("span",{className:"btn-sm btn-secondary btn",children:"Deb. "}):null,5==e.tipo&&0!=e.monto?(0,at.jsx)("span",{className:"btn-sm btn-secondary btn",children:"Biopago. "}):null]}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:e.banco}),(0,at.jsx)("td",{children:n(e.monto)}),(0,at.jsx)("td",{children:e.created_at})]},e.id)})):null})]})})]}),(0,at.jsx)("div",{className:"overlay"})]})}function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Nt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const It=function(e){var t,r,n=e.setView,a=e.getReferenciasElec,i=e.refrenciasElecData,s=e.togleeReferenciasElec,c=e.settogleeReferenciasElec,l=e.addNewPedido,u=e.auth,d=e.pedidoData,f=e.getPedidoFast,h=e.showModalPedidoFast,p=e.setshowModalPedidoFast,m=(e.orderbycolumpedidos,e.setorderbycolumpedidos,e.orderbyorderpedidos,e.setorderbyorderpedidos,e.moneda),g=e.setshowMisPedido,v=e.showMisPedido,x=e.tipobusquedapedido,b=e.setTipoBusqueda,y=e.busquedaPedido,j=e.fecha1pedido,w=e.fecha2pedido,N=e.onChangePedidos,_=e.pedidos,C=e.getPedidos,E=e.onClickEditPedido,S=e.onCLickDelPedido,A=e.tipoestadopedido,I=e.setTipoestadopedido,O=e.filterMetodoPago,T=e.filterMetodoPagoToggle,P=e.clickSetOrderColumnPedidos,k=e.toggleImprimirTicket,M=(e.setmodalchangepedido,e.setseletIdChangePedidoUserHandle,e.modalchangepedido,e.modalchangepedidoy,e.modalchangepedidox,e.usuarioChangeUserPedido,e.setusuarioChangeUserPedidoHandle,e.usuariosData,St((0,o.useState)({}),2)),R=M[0],F=M[1],L=function(e,t){F((function(r){return Ct(Ct({},r),{},Et({},"".concat(e,"-").concat(t),!r["".concat(e,"-").concat(t)]))}))};return D("esc",(function(){n("seleccionar")}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),(0,at.jsxs)("div",{className:"container-fluid px-4 py-3",children:[h&&(0,at.jsx)(jt,{pedidoData:d,showModalPedidoFast:h,setshowModalPedidoFast:p,onClickEditPedido:E}),(0,at.jsxs)("div",{className:"row g-3 mb-4",children:[(0,at.jsx)("div",{className:"col-md-4",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,at.jsxs)("button",{className:"btn ".concat("todos"===A?"btn-dark":"btn-outline-dark"),onClick:function(){return I("todos")},children:[(0,at.jsx)("i",{className:"fa fa-list me-1"})," TODOS"]}),(0,at.jsxs)("button",{className:"btn ".concat(0===A?"btn-primary":"btn-outline-primary"),onClick:function(){return I(0)},children:[(0,at.jsx)("i",{className:"fa fa-clock-o me-1"})," PENDIENTE"]}),(0,at.jsxs)("button",{className:"btn ".concat(1===A?"btn-success":"btn-outline-success"),onClick:function(){return I(1)},children:[(0,at.jsx)("i",{className:"fa fa-check me-1"})," PROCESADO"]}),(0,at.jsxs)("button",{className:"btn ".concat(2===A?"btn-danger":"btn-outline-danger"),onClick:function(){return I(2)},children:[(0,at.jsx)("i",{className:"fa fa-times me-1"})," ANULADO"]})]})})})}),(0,at.jsx)("div",{className:"col-md-8",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("div",{className:"d-flex gap-2",children:[(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{className:"btn ".concat("fact"===x?"btn-primary":"btn-outline-primary"),onClick:function(){return b("fact")},children:[(0,at.jsx)("i",{className:"fa fa-search me-1"})," FACTURA"]}),(0,at.jsxs)("button",{className:"btn ".concat("prod"===x?"btn-primary":"btn-outline-primary"),onClick:function(){return b("prod")},children:[(0,at.jsx)("i",{className:"fa fa-cube me-1"})," PRODUCTO"]}),(0,at.jsxs)("button",{className:"btn ".concat("cliente"===x?"btn-primary":"btn-outline-primary"),onClick:function(){return b("cliente")},children:[(0,at.jsx)("i",{className:"fa fa-user me-1"})," CLIENTE"]})]}),(0,at.jsxs)("form",{onSubmit:C,className:"d-flex flex-grow-1 gap-2",children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text bg-white",children:(0,at.jsx)("i",{className:"fa fa-search text-muted"})}),(0,at.jsx)("input",{className:"form-control border-start-0",placeholder:"Buscar... #Factura, #Descripción, #Cliente",value:y,"data-type":"busquedaPedido",onChange:N,autoComplete:"off"})]}),(0,at.jsxs)("div",{className:"input-group",style:{width:"auto"},children:[(0,at.jsx)("input",{type:"date",value:j,"data-type":"fecha1pedido",onChange:N,className:"form-control"}),(0,at.jsx)("input",{type:"date",value:w,"data-type":"fecha2pedido",onChange:N,className:"form-control"})]}),(0,at.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return C()},children:(0,at.jsx)("i",{className:"fa fa-sync-alt"})})]})]})})})})]}),(0,at.jsxs)("div",{className:"row g-3 mb-4",children:[(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,at.jsxs)("button",{className:"btn btn-primary fs-5 px-3","data-valor":"id",onClick:P,children:[(0,at.jsx)("i",{className:"fa fa-shopping-cart me-2"}),_.fact?_.fact.length:0]}),(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{onClick:function(){return g(!0)},className:"btn ".concat(v?"btn-success":"btn-outline-success"),children:[(0,at.jsx)("i",{className:"fa fa-user me-1"})," Mis pedidos"]}),u(1)&&(0,at.jsxs)("button",{onClick:function(){return g(!1)},className:"btn ".concat(v?"btn-outline-success":"btn-success"),children:[(0,at.jsx)("i",{className:"fa fa-users me-1"})," Todos"]}),(0,at.jsx)("button",{className:"btn btn-success",onClick:l,children:(0,at.jsx)("i",{className:"fa fa-plus"})})]})]})})})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsx)("div",{className:"d-flex gap-2 justify-content-end align-items-center",children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{className:"btn ".concat("todos"===T?"btn-dark":"btn-outline-dark"),"data-type":"todos",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-list me-1"})," Todos"]}),(0,at.jsxs)("button",{className:"btn ".concat(1===T?"btn-info":"btn-outline-info"),"data-type":"1",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-exchange me-1"})," Trans."]}),(0,at.jsxs)("button",{className:"btn ".concat(2===T?"btn-secondary":"btn-outline-secondary"),"data-type":"2",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-credit-card me-1"})," Deb."]}),(0,at.jsxs)("button",{className:"btn ".concat(3===T?"btn-success":"btn-outline-success"),"data-type":"3",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-money me-1"})," Efec."]}),(0,at.jsxs)("button",{className:"btn ".concat(4===T?"btn-warning text-dark":"btn-outline-warning"),"data-type":"4",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-calendar me-1"})," Cred."]}),(0,at.jsxs)("button",{className:"btn ".concat(5===T?"btn-info text-dark":"btn-outline-info"),"data-type":"5",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-mobile me-1"})," Biopago"]}),(0,at.jsxs)("button",{className:"btn ".concat(6===T?"btn-danger text-dark":"btn-outline-danger"),"data-type":"6",onClick:O,children:[(0,at.jsx)("i",{className:"fa fa-ban me-1"})," Anul."]}),(0,at.jsx)("span",{className:"btn btn-success",onClick:function(){return c(!0)},children:"REFs."})]})})})})})]}),(0,at.jsx)("div",{className:"mt-4",children:"prod"===x?(0,at.jsx)("div",{className:"row g-4",children:null===(t=_.prod)||void 0===t?void 0:t.map((function(e){if(!e)return null;var t=e.items.filter((function(e){return e.cantidad>0})),r=e.items.filter((function(e){return e.cantidad<0})),n=t.reduce((function(e,t){return e+parseInt(t.cantidad)}),0),a=r.reduce((function(e,t){return e+Math.abs(parseInt(t.cantidad))}),0);return(0,at.jsx)("div",{className:"col-12 col-lg-6 col-xl-4",children:(0,at.jsxs)("div",{className:"card h-100 shadow-sm border-0",children:[(0,at.jsx)("div",{className:"card-header bg-primary text-white",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h5",{className:"card-title mb-1 text-white fw-bold",children:e.descripcion}),(0,at.jsxs)("small",{className:"text-white-75",children:[(0,at.jsx)("i",{className:"fa fa-barcode me-1"}),e.codigo_proveedor," | ",e.codigo_barras]})]}),(0,at.jsx)("div",{className:"text-end",children:(0,at.jsxs)("span",{className:"badge bg-light text-primary fs-6 fw-bold",children:[e.cantidadtotal," Total"]})})]})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"row mb-3",children:[(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("div",{className:"text-center p-2 bg-light rounded",children:[(0,at.jsx)("small",{className:"text-muted d-block",children:"Precio Base"}),(0,at.jsxs)("strong",{className:"text-primary",children:["$",e.precio_base]})]})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("div",{className:"text-center p-2 bg-light rounded",children:[(0,at.jsx)("small",{className:"text-muted d-block",children:"Precio Venta"}),(0,at.jsxs)("strong",{className:"text-success",children:["$",e.precio]})]})})]}),(0,at.jsxs)("div",{className:"row mb-3",children:[n>0&&(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("div",{className:"text-center p-2 bg-success bg-opacity-10 rounded border border-success border-opacity-25",children:[(0,at.jsx)("i",{className:"fa fa-arrow-up text-success me-1"}),(0,at.jsx)("strong",{className:"text-success",children:n}),(0,at.jsx)("small",{className:"text-success d-block",children:"Ventas"})]})}),a>0&&(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("div",{className:"text-center p-2 bg-danger bg-opacity-10 rounded border border-danger border-opacity-25",children:[(0,at.jsx)("i",{className:"fa fa-arrow-down text-danger me-1"}),(0,at.jsx)("strong",{className:"text-danger",children:a}),(0,at.jsx)("small",{className:"text-danger d-block",children:"Devoluciones"})]})})]}),(0,at.jsxs)("div",{className:"mt-3 space-y-2",children:[t.length>0&&(0,at.jsxs)("div",{className:"border border-green-200 rounded-lg",children:[(0,at.jsxs)("button",{className:"w-full p-3 text-left bg-green-50 hover:bg-green-100 transition-colors duration-200 flex items-center justify-between rounded-t-lg",onClick:function(){return L(e.id,"ventas")},children:[(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,at.jsx)("i",{className:"fa fa-shopping-cart text-green-600"}),(0,at.jsxs)("span",{className:"font-semibold text-green-700",children:["Ventas (",t.length," pedidos - ",n," unidades)"]})]}),(0,at.jsx)("i",{className:"fa transition-transform duration-200 ".concat(R["".concat(e.id,"-ventas")]?"fa-chevron-up":"fa-chevron-down"," text-green-600")})]}),(0,at.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(R["".concat(e.id,"-ventas")]?"max-h-96 opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,at.jsx)("div",{className:"divide-y divide-gray-100",children:t.map((function(e){var t;return(0,at.jsxs)("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors duration-150",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,at.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:["+",e.cantidad]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"text-sm text-gray-600",children:e.created_at}),(0,at.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-user mr-1"}),null===(t=e.pedido)||void 0===t||null===(t=t.vendedor)||void 0===t?void 0:t.nombre]})]})]}),(0,at.jsxs)("button",{className:"px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-md transition-colors duration-150 text-sm","data-id":e.id_pedido,onClick:E,title:"Ver pedido",children:[(0,at.jsx)("i",{className:"fa fa-eye mr-1"}),"#",e.id_pedido]})]},e.id)}))})})]}),r.length>0&&(0,at.jsxs)("div",{className:"border border-red-200 rounded-lg",children:[(0,at.jsxs)("button",{className:"w-full p-3 text-left bg-red-50 hover:bg-red-100 transition-colors duration-200 flex items-center justify-between rounded-t-lg",onClick:function(){return L(e.id,"devoluciones")},children:[(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,at.jsx)("i",{className:"fa fa-undo text-red-600"}),(0,at.jsxs)("span",{className:"font-semibold text-red-700",children:["Devoluciones (",r.length," pedidos - ",a," unidades)"]})]}),(0,at.jsx)("i",{className:"fa transition-transform duration-200 ".concat(R["".concat(e.id,"-devoluciones")]?"fa-chevron-up":"fa-chevron-down"," text-red-600")})]}),(0,at.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(R["".concat(e.id,"-devoluciones")]?"max-h-96 opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,at.jsx)("div",{className:"divide-y divide-gray-100",children:r.map((function(e){var t;return(0,at.jsxs)("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors duration-150",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,at.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:e.cantidad}),(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"text-sm text-gray-600",children:e.created_at}),(0,at.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-user mr-1"}),null===(t=e.pedido)||void 0===t||null===(t=t.vendedor)||void 0===t?void 0:t.nombre]})]})]}),(0,at.jsxs)("button",{className:"px-3 py-1 bg-red-50 hover:bg-red-100 text-red-600 rounded-md transition-colors duration-150 text-sm","data-id":e.id_pedido,onClick:E,title:"Ver pedido",children:[(0,at.jsx)("i",{className:"fa fa-eye mr-1"}),"#",e.id_pedido]})]},e.id)}))})})]})]})]}),(0,at.jsx)("div",{className:"card-footer bg-light border-0",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("small",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fa fa-calculator me-1"}),"Total: ",m(e.totalventa||0)]}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsxs)("button",{className:"px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-md transition-colors duration-150 text-sm",onClick:function(){return t=e.id,r="".concat(t,"-ventas"),n="".concat(t,"-devoluciones"),a=R[r],o=R[n],i=!a&&!o,void F((function(e){return Ct(Ct({},e),{},Et(Et({},r,i),n,i))}));var t,r,n,a,o,i},title:"Expandir/Contraer todo",children:[(0,at.jsx)("i",{className:"fa fa-expand-arrows-alt mr-1"}),"Toggle"]}),(0,at.jsxs)("button",{className:"px-3 py-1 bg-green-50 hover:bg-green-100 text-green-600 rounded-md transition-colors duration-150 text-sm",onClick:function(){console.log("Nuevo pedido con producto:",e.id)},title:"Nuevo pedido con este producto",children:[(0,at.jsx)("i",{className:"fa fa-plus mr-1"}),"Nuevo"]})]})]})})]})},e.id)}))}):(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsx)("table",{className:"table table-hover",children:(0,at.jsx)("tbody",{children:null===(r=_.fact)||void 0===r?void 0:r.map((function(e){var t,r;return e&&(0,at.jsxs)("tr",{className:"".concat(1===e.estado?"table-success":2===e.estado?"table-danger":"table-warning"," align-middle"),style:{backgroundColor:1===e.estado?"rgba(25, 135, 84, 0.1)":2===e.estado?"rgba(220, 53, 69, 0.1)":"rgba(255, 193, 7, 0.15)"},children:[(0,at.jsx)("td",{style:{width:"120px"},children:(0,at.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,at.jsxs)("button",{className:"btn btn-primary w-100 mb-1 shadow-sm","data-id":e.id,onClick:E,children:[(0,at.jsx)("i",{className:"fa fa-hashtag me-1"}),e.id]}),(0,at.jsx)("span",{className:"badge ".concat(1===e.estado?"bg-success":2===e.estado?"bg-danger":"bg-warning text-dark"," w-100 shadow-sm"),children:1===e.estado?"Procesado":2===e.estado?"Anulado":"Pendiente"})]})}),(0,at.jsx)("td",{style:{width:"200px"},children:(0,at.jsxs)("div",{className:"d-flex flex-column",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,at.jsx)("i",{className:"fa fa-user-circle text-primary me-2"}),(0,at.jsx)("span",{className:"fw-bold text-dark",children:null===(t=e.vendedor)||void 0===t?void 0:t.nombre})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("i",{className:"fa fa-clock-o text-secondary me-2"}),(0,at.jsx)("small",{className:"text-secondary",children:e.created_at})]})]})}),(0,at.jsx)("td",{style:{width:"250px"},children:(0,at.jsxs)("div",{className:"d-flex flex-column",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,at.jsx)("i",{className:"fa fa-user text-primary me-2"}),(0,at.jsx)("span",{className:"fw-bold text-dark",children:e.cliente?e.cliente.nombre:"Cliente General"})]}),e.export&&(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("i",{className:"fa fa-check-circle text-success me-2"}),(0,at.jsx)("span",{className:"text-success fw-bold",children:"Exportado"})]})]})}),(0,at.jsx)("td",{style:{width:"300px"},children:(0,at.jsx)("div",{className:"d-flex flex-wrap gap-2 justify-content-center",children:null===(r=e.pagos)||void 0===r?void 0:r.map((function(e){return 0!==e.monto&&(0,at.jsxs)("span",{className:"badge ".concat(1==e.tipo?"bg-info":2==e.tipo?"bg-secondary":3==e.tipo?"bg-success":4==e.tipo?"bg-warning text-dark":5==e.tipo?"bg-info":"bg-danger"," p-2 shadow-sm"),children:[(0,at.jsx)("i",{className:"fa ".concat(1==e.tipo?"fa-exchange":2==e.tipo?"fa-credit-card":3==e.tipo?"fa-money":4==e.tipo?"fa-calendar":5==e.tipo?"fa-mobile":"fa-ban"," me-1")}),1==e.tipo?"Trans.":2==e.tipo?"Deb.":3==e.tipo?"Efec.":4==e.tipo?"Cred.":5==e.tipo?"Biopago":"Vuel."," ",e.monto]},e.id)}))})}),(0,at.jsx)("td",{style:{width:"150px"},children:(0,at.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,at.jsx)("span",{className:"h4 text-primary mb-1 fw-bold",children:m(e.totales)}),(0,at.jsxs)("span",{className:"badge bg-dark text-white shadow-sm",children:[(0,at.jsx)("i",{className:"fa fa-shopping-cart me-1"}),e.items?e.items.length:0," items"]})]})}),(0,at.jsx)("td",{style:{width:"180px"},children:(0,at.jsxs)("div",{className:"d-flex gap-1 justify-content-center",children:[(0,at.jsxs)("button",{className:"btn btn-primary shadow-sm","data-id":e.id,onClick:E,title:"Editar pedido",children:[(0,at.jsx)("i",{className:"fa fa-edit me-1"}),"Editar"]}),(0,at.jsx)("button",{className:"btn btn-outline-primary shadow-sm","data-id":e.id,onClick:f,title:"Ver detalles",children:(0,at.jsx)("i",{className:"fa fa-eye"})}),(0,at.jsx)("button",{className:"btn btn-outline-success shadow-sm",onClick:function(){return k(e.id)},title:"Imprimir ticket",children:(0,at.jsx)("i",{className:"fa fa-print"})}),u(1)&&(0,at.jsx)("button",{className:"btn btn-outline-danger shadow-sm","data-id":e.id,"data-type":"getPedidos",onClick:S,title:"Eliminar pedido",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})]},e.id)}))})})})}),s&&(0,at.jsx)(wt,{settogleeReferenciasElec:c,togleeReferenciasElec:s,moneda:m,refrenciasElecData:i,onClickEditPedido:E,getReferenciasElec:a})]})};const Ot=function(e){var t=e.qBuscarCliente,r=e.setqBuscarCliente,n=e.clientesCrud,a=e.setindexSelectCliente,o=e.indexSelectCliente,i=e.setClienteCrud,s=e.delCliente,c=e.clienteInpidentificacion,l=e.setclienteInpidentificacion,u=e.clienteInpnombre,d=e.setclienteInpnombre,f=e.clienteInpcorreo,h=e.setclienteInpcorreo,p=e.clienteInpdireccion,m=e.setclienteInpdireccion,g=e.clienteInptelefono,v=e.setclienteInptelefono,x=e.clienteInpestado,b=e.setclienteInpestado,y=e.clienteInpciudad,j=e.setclienteInpciudad,w=function(e){var t=e.currentTarget.attributes["data-index"].value;if(t==o)a(null);else if(a(t),n[t]){var r=n[t];l(r.identificacion?r.identificacion:""),d(r.nombre?r.nombre:""),h(r.correo?r.correo:""),m(r.direccion?r.direccion:""),v(r.telefono?r.telefono:""),b(r.estado?r.estado:""),j(r.ciudad?r.ciudad:"")}};return(0,at.jsxs)("div",{className:"container",children:[(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("h1",{children:["Administrar Clientes ",(0,at.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){l(""),d(""),h(""),m(""),v(""),b(""),j(""),a(null)},children:"Nuevo"})]})})}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("div",{className:"input-group ",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:t,onChange:function(e){return r(e.target.value)}}),(0,at.jsx)("div",{className:"input-group-prepend",children:(0,at.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,at.jsx)("i",{className:"fa fa-search"})})})]}),n.length?n.map((function(e,t){return(0,at.jsxs)("div",{onClick:w,"data-index":t,className:(o==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,at.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:["ID.",e.id]})}),(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:e.telefono})}),(0,at.jsx)("div",{children:(0,at.jsx)("span",{className:"h3",children:e.identificacion})})]})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"/personal/vermas",children:(0,at.jsx)("h5",{className:"card-title",children:(0,at.jsx)("b",{children:e.nombre})})}),(0,at.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("form",{className:"container-fluid",onSubmit:i,children:[(0,at.jsx)("h3",{children:"Cliente"}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"C.I./RIF"}),(0,at.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Nombres y Apellidos"}),(0,at.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Teléfono"}),(0,at.jsx)("input",{type:"text",value:g,onChange:function(e){return v(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Email"}),(0,at.jsx)("input",{type:"text",value:f,onChange:function(e){return h(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Dirección"}),(0,at.jsx)("input",{type:"text",value:p,onChange:function(e){return m(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Ciudad"}),(0,at.jsx)("input",{type:"text",value:y,onChange:function(e){return j(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Estado"}),(0,at.jsx)("input",{type:"text",value:x,onChange:function(e){return b(e.target.value)},className:"form-control"})]}),(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col text-center",children:null==o?(0,at.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,at.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:s,type:"button",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})})]})})]})]})};const Tt=function(e){var t=e.limitdeudores,r=e.setlimitdeudores,n=e.orderbycolumdeudores,a=e.setorderbycolumdeudores,o=e.orderbyorderdeudores,i=e.setorderbyorderdeudores,s=e.onchangecaja,c=e.qDeudores,l=e.deudoresList,u=e.selectDeudor,d=e.setSelectDeudor,f=e.tipo_pago_deudor,h=e.monto_pago_deudor,p=e.setPagoCredito,m=e.onClickEditPedido,g=e.detallesDeudor,v=e.onlyVueltos,x=e.setOnlyVueltos,b=e.sumPedidos,y=e.sumPedidosArr,j=e.setsumPedidosArr,w=e.printCreditos,N=e.moneda,_=e.getDeudores;return(0,at.jsxs)("div",{className:"container",children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("h3",{children:"Cuentas por cobrar"})}),(0,at.jsxs)("div",{className:"col text-right",children:[(0,at.jsx)("button",{className:"btn btn-outline-success m-2",onClick:w,children:(0,at.jsx)("i",{className:"fa fa-print"})}),(0,at.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){var e=window.prompt("num");e&&r(e)},children:["Resultados. ",t]})]})]}),null===u?(0,at.jsxs)("div",{children:[(0,at.jsx)("form",{onSubmit:_,children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:c,name:"qDeudores",onChange:s})}),(0,at.jsxs)("table",{className:"table table-hoverable",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"text-center",children:"Nombres"}),(0,at.jsx)("th",{className:"text-center pointer hover",onClick:function(){return"vence"==n?i("desc"==o?"asc":"desc"):a("vence")},children:"Vence"}),(0,at.jsx)("th",{className:"text-right pointer hover",onClick:function(){return"saldo"==n?i("desc"==o?"asc":"desc"):a("saldo")},children:"Balance"})]})}),(0,at.jsx)("tbody",{children:l.length?l.map((function(e,t){return e?(0,at.jsxs)("tr",{className:"text-center pointer",onClick:function(){x(0),d(t),j([])},children:[(0,at.jsxs)("td",{children:[e.id," - ",e.nombre," - ",e.identificacion]}),(0,at.jsxs)("td",{children:[e.vence," (",e.dias," días)"]}),(0,at.jsx)("td",{className:(e.saldo>0?"text-success":"text-danger")+" h2 text-right",children:(0,at.jsx)("button",{className:"btn "+(e.saldo<0?"btn-outline-danger":"btn-outline-success"),children:N(e.saldo)})})]},e.id):null})):null})]}),l.length?null:(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}):(0,at.jsxs)("div",{className:"p-4",children:[(0,at.jsx)("h3",{className:"text-center",children:(0,at.jsx)("i",{className:"fa fa-times text-danger pointer",onClick:function(){d(null),x(0)}})}),(0,at.jsx)("hr",{}),(0,at.jsx)("div",{children:(0,at.jsxs)("table",{className:"table table-striped",children:[(0,at.jsxs)("thead",{children:[(0,at.jsx)("tr",{className:"",children:g.pedido_total?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("th",{className:"",colSpan:"2",children:[l[u]?(0,at.jsxs)("div",{className:"",children:[(0,at.jsx)("span",{className:"",children:l[u].identificacion}),(0,at.jsx)("h1",{className:"",children:l[u].nombre})]}):null,y?y.map((function(e){return(0,at.jsx)("button",{className:"btn btn-outline-success","data-id":e,"data-tipo":"del",onClick:b,children:e},e)})):null,y.length?(0,at.jsx)("a",{className:"",target:"_blank",href:"/sumpedidos?id="+y,children:(0,at.jsx)("button",{className:"btn btn-success",children:"Emitir Factura."})}):null]}),v?null:(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("td",{className:"text-right",children:["Balance: ",(0,at.jsx)("h2",{className:g.pedido_total.diferencia>0?"text-success":"text-danger",children:g.pedido_total.diferencia})]}),(0,at.jsx)("td",{className:"text-right h3 text-danger",children:N(g.pedido_total[1])}),(0,at.jsx)("td",{className:"text-right h3 text-success",children:N(g.pedido_total[0])})]})]}):null}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"text-right",children:"VENCE"}),(0,at.jsx)("th",{children:"PEDIDO"}),(0,at.jsx)("th",{children:"TIPO PAGO"}),(0,at.jsx)("th",{className:"text-right ",children:"CRÉDITO"}),(0,at.jsx)("th",{className:"text-right ",children:"ABONO"})]})]}),(0,at.jsxs)("tbody",{children:[v?null:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{colSpan:"2"}),(0,at.jsx)("td",{children:(0,at.jsx)("form",{onSubmit:p,className:"w-50",children:(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Tipo de pago"}),(0,at.jsxs)("select",{value:f,name:"tipo_pago_deudor",onChange:s,className:"form-control",children:[(0,at.jsx)("option",{value:"3",children:"Efectivo"}),(0,at.jsx)("option",{value:"2",children:"Débito"}),(0,at.jsx)("option",{value:"5",children:"Biopago"})]})]})})}),(0,at.jsx)("td",{colSpan:"2",children:(0,at.jsx)("form",{onSubmit:p,className:"",children:(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Monto Pago"}),(0,at.jsx)("input",{name:"monto_pago_deudor",value:h,onChange:s,className:"form-control"})]})})})]}),g&&g.pedido?g.pedido.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsxs)("td",{className:"d-flex justify-content-between align-items-center",children:[y.filter((function(t){return t==e.id})).length?(0,at.jsx)("button",{className:"btn btn-outline-danger","data-id":e.id,"data-tipo":"del",onClick:b,children:"UnSelect"}):(0,at.jsx)("button",{className:"btn btn-outline-success","data-id":e.id,"data-tipo":"add",onClick:b,children:"Select"}),(0,at.jsx)("span",{children:e.fecha_vence})]}),(0,at.jsx)("td",{className:"align-middle",children:(0,at.jsxs)("button",{className:"btn btn-secondary btn-lg w-50","data-id":e.id,onClick:m,children:[e.id," ",(0,at.jsx)("i",{className:"fa fa-eye"})]})}),(0,at.jsxs)("td",{className:"align-middle",children:[e.pagos.map((function(t){return(0,at.jsxs)("div",{children:[1==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Trans. ",t.monto]}):null,2==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-secondary btn",children:["Deb. ",t.monto]}):null,3==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-success btn",children:["Efec. ",t.monto]}):null,5==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Biopago ",t.monto]}):null,6==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-danger btn","data-id":e.id,onClick:m,children:["Vuel. ",t.monto]}):null,4==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:["Cred. ",t.monto]}):null]},t.id)})),e.entregado.map((function(e,t){return(0,at.jsx)("div",{children:(0,at.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:[e.descripcion," ",e.monto]})},e.id)}))]}),e.saldoDebe?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("th",{className:"text-danger h2 text-right align-middle",children:N(e.saldoDebe)}),(0,at.jsx)("td",{})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{}),(0,at.jsx)("th",{className:"text-success h2 text-right align-middle",children:N(e.saldoAbono)})]})]},e.id)})):null]})]})})]})]})};const Pt=function(e){var t=e.onchangecaja,r=e.qDeudores,n=e.deudoresList,a=e.selectDeudor,o=e.setSelectDeudor,i=e.tipo_pago_deudor,s=e.monto_pago_deudor,c=e.setPagoCredito,l=e.onClickEditPedido,u=e.detallesDeudor,d=e.onlyVueltos,f=e.setOnlyVueltos;return e.sumPedidos,e.sumPedidosArr,(0,at.jsxs)("div",{className:"container",children:[(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("h3",{children:"Vueltos"})})}),null===a?(0,at.jsxs)("div",{children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:r,name:"qDeudores",onChange:t}),(0,at.jsxs)("table",{className:"table table-hoverable",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"text-center",children:"Nombres"}),(0,at.jsx)("th",{className:"text-right",children:"Vuelto"})]})}),(0,at.jsx)("tbody",{children:n.map((function(e,t){return e?(0,at.jsxs)("tr",{className:"text-center pointer",onClick:function(){f(1),o(t)},children:[(0,at.jsxs)("td",{children:[e.id," - ",e.nombre," - ",e.identificacion]}),(0,at.jsx)("td",{className:"text-right",children:(0,at.jsxs)("button",{className:"btn btn-outline-danger",children:["Vuelto ",e.totalVuelto]})})]},e.id):null}))})]}),n.length?null:(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}):(0,at.jsxs)("div",{className:"p-4",children:[(0,at.jsx)("h3",{className:"text-center",children:(0,at.jsx)("i",{className:"fa fa-times text-danger pointer",onClick:function(){o(null),f(0)}})}),(0,at.jsx)("hr",{}),(0,at.jsx)("div",{children:(0,at.jsxs)("table",{className:"table table-striped",children:[(0,at.jsxs)("thead",{children:[(0,at.jsx)("tr",{className:"",children:u.pedido_total?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("th",{className:"",colSpan:"2",children:n[a]?(0,at.jsxs)("div",{className:"",children:[(0,at.jsx)("span",{className:"",children:n[a].identificacion}),(0,at.jsx)("h1",{className:"",children:n[a].nombre})]}):null}),d?null:(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("td",{className:"text-right",children:["Balance: ",(0,at.jsx)("h2",{className:u.pedido_total.diferencia>0?"text-success":"text-danger",children:u.pedido_total.diferencia})]}),(0,at.jsx)("td",{className:"text-right h3 text-danger",children:u.pedido_total[1]}),(0,at.jsx)("td",{className:"text-right h3 text-success",children:u.pedido_total[0]})]})]}):null}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"text-right",children:"FECHA"}),(0,at.jsx)("th",{children:"PEDIDO"}),(0,at.jsx)("th",{children:"TIPO PAGO"}),(0,at.jsx)("th",{className:"text-right ",children:"CRÉDITO"}),(0,at.jsx)("th",{className:"text-right ",children:"ABONO"})]})]}),(0,at.jsxs)("tbody",{children:[d?null:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{colSpan:"2"}),(0,at.jsx)("td",{children:(0,at.jsx)("form",{onSubmit:c,className:"w-50",children:(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Tipo de pago"}),(0,at.jsxs)("select",{value:i,name:"tipo_pago_deudor",onChange:t,className:"form-control",children:[(0,at.jsx)("option",{value:"3",children:"Efectivo"}),(0,at.jsx)("option",{value:"2",children:"Débito"})]})]})})}),(0,at.jsx)("td",{colSpan:"2",children:(0,at.jsx)("form",{onSubmit:c,className:"",children:(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Monto Pago"}),(0,at.jsx)("input",{name:"monto_pago_deudor",value:s,onChange:t,className:"form-control"})]})})})]}),u&&u.pedido?u.pedido.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"d-flex justify-content-between"}),(0,at.jsx)("td",{children:(0,at.jsxs)("button",{className:"btn btn-secondary btn-lg w-50","data-id":e.id,onClick:l,children:[e.id," ",(0,at.jsx)("i",{className:"fa fa-eye"})]})}),(0,at.jsxs)("td",{children:[e.pagos.map((function(t){return(0,at.jsxs)("div",{children:[1==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Trans. ",t.monto]}):null,2==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-secondary btn",children:["Deb. ",t.monto]}):null,3==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-success btn",children:["Efec. ",t.monto]}):null,6==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-danger btn","data-id":e.id,onClick:l,children:["Vuel. ",t.monto]}):null,4==t.tipo&&0!=t.monto?(0,at.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:["Cred. ",t.monto]}):null]},t.id)})),e.entregado.map((function(e,t){return(0,at.jsx)("div",{children:(0,at.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:[e.descripcion," ",e.monto]})},e.id)}))]}),e.saldoDebe?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("th",{className:"text-danger h2 text-right",children:e.saldoDebe}),(0,at.jsx)("td",{})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{}),(0,at.jsx)("th",{className:"text-success h2 text-right",children:e.saldoAbono})]})]},e.id)})):null]})]})})]})]})},kt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Dt(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Mt={date:Dt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Dt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Dt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Rt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ft(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const Lt={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Ft({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ft({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ft({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ft({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ft({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Bt(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(s,(e=>e.test(i))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(s,(e=>e.test(i)));let l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;return{value:l,rest:t.slice(i.length)}}}function Ut(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;return{value:i,rest:t.slice(a.length)}}}const zt={ordinalNumber:Ut({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Bt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Bt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Bt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Vt={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=kt[e];return n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Mt,formatRelative:(e,t,r,n)=>Rt[e],localize:Lt,match:zt,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Gt={};function Ht(){return Gt}Math.pow(10,8);const qt=6048e5,Wt=Symbol.for("constructDateFrom");function Yt(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&Wt in e?e[Wt](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){return Yt(t||e,e)}function $t(e){const t=Xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qt(e,t){const r=Xt(e,t?.in);return r.setHours(0,0,0,0),r}function Zt(e,t,r){const[n,a]=function(e,...t){const r=Yt.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(r)}(r?.in,e,t),o=Qt(n),i=Qt(a),s=+o-$t(o),c=+i-$t(i);return Math.round((s-c)/864e5)}function Kt(e,t){const r=Xt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Jt(e,t){const r=Xt(e,t?.in);return Zt(r,Kt(r))+1}function er(e,t){const r=Ht(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Xt(e,t?.in),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function tr(e,t){return er(e,{...t,weekStartsOn:1})}function rr(e,t){const r=Xt(e,t?.in),n=r.getFullYear(),a=Yt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=tr(a),i=Yt(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=tr(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function nr(e,t){const r=rr(e,t),n=Yt(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),tr(n)}function ar(e,t){const r=Xt(e,t?.in),n=+tr(r)-+nr(r);return Math.round(n/qt)+1}function or(e,t){const r=Xt(e,t?.in),n=r.getFullYear(),a=Ht(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=Yt(t?.in||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const s=er(i,t),c=Yt(t?.in||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const l=er(c,t);return+r>=+s?n+1:+r>=+l?n:n-1}function ir(e,t){const r=Ht(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=or(e,t),o=Yt(t?.in||e,0);o.setFullYear(a,0,n),o.setHours(0,0,0,0);return er(o,t)}function sr(e,t){const r=Xt(e,t?.in),n=+er(r,t)-+ir(r,t);return Math.round(n/qt)+1}function cr(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const lr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return cr("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):cr(r+1,2)},d:(e,t)=>cr(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>cr(e.getHours()%12||12,t.length),H:(e,t)=>cr(e.getHours(),t.length),m:(e,t)=>cr(e.getMinutes(),t.length),s:(e,t)=>cr(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return cr(Math.trunc(n*Math.pow(10,r-3)),t.length)}},ur="midnight",dr="noon",fr="morning",hr="afternoon",pr="evening",mr="night",gr={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return lr.y(e,t)},Y:function(e,t,r,n){const a=or(e,n),o=a>0?a:1-a;if("YY"===t){return cr(o%100,2)}return"Yo"===t?r.ordinalNumber(o,{unit:"year"}):cr(o,t.length)},R:function(e,t){return cr(rr(e),t.length)},u:function(e,t){return cr(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return cr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return lr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=sr(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):cr(a,t.length)},I:function(e,t,r){const n=ar(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):cr(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):lr.d(e,t)},D:function(e,t,r){const n=Jt(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return cr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return cr(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return cr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?dr:0===n?ur:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?pr:n>=12?hr:n>=4?fr:mr,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return lr.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):lr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):cr(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):cr(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):lr.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):lr.s(e,t)},S:function(e,t){return lr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return xr(n);case"XXXX":case"XX":return br(n);default:return br(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xr(n);case"xxxx":case"xx":return br(n);default:return br(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vr(n,":");default:return"GMT"+br(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vr(n,":");default:return"GMT"+br(n,":")}},t:function(e,t,r){return cr(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return cr(+e,t.length)}};function vr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return 0===o?r+String(a):r+String(a)+t+cr(o,2)}function xr(e,t){if(e%60==0){return(e>0?"-":"+")+cr(Math.abs(e)/60,2)}return br(e,t)}function br(e,t=""){const r=e>0?"-":"+",n=Math.abs(e);return r+cr(Math.trunc(n/60),2)+t+cr(n%60,2)}const yr=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},jr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},wr={p:jr,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return yr(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",yr(n,t)).replace("{{time}}",jr(a,t))}},Nr=/^D+$/,_r=/^Y+$/,Cr=["D","DD","YY","YYYY"];function Er(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Sr(e){return!(!Er(e)&&"number"!=typeof e||isNaN(+Xt(e)))}const Ar=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ir=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Or=/^'([^]*?)'?$/,Tr=/''/g,Pr=/[a-zA-Z]/;function kr(e,t,r){const n=Ht(),a=r?.locale??n.locale??Vt,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Xt(e,r?.in);if(!Sr(s))throw new RangeError("Invalid time value");let c=t.match(Ir).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,wr[t])(e,a.formatLong)}return e})).join("").match(Ar).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Dr(e)};if(gr[t])return{isToken:!0,value:e};if(t.match(Pr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const l={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map((n=>{if(!n.isToken)return n.value;const o=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return _r.test(e)}(o)||!r?.useAdditionalDayOfYearTokens&&function(e){return Nr.test(e)}(o))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),Cr.includes(e))throw new RangeError(n)}(o,t,String(e));return(0,gr[o[0]])(s,o,a.localize,l)})).join("")}function Dr(e){const t=e.match(Or);return t?t[1].replace(Tr,"'"):e}const Mr={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Rr={date:Dt({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Dt({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Dt({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Fr={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Lr={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Br={ordinalNumber:(e,t)=>Number(e)+"º",era:Ft({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:Ft({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ft({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:Ft({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:Ft({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},Ur={ordinalNumber:Ut({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Bt({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:Bt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bt({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:Bt({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bt({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},zr={code:"es",formatDistance:(e,t,r)=>{let n;const a=Mr[e];return n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},formatLong:Rr,formatRelative:(e,t,r,n)=>1!==t.getHours()?Lr[e]:Fr[e],localize:Br,match:Ur,options:{weekStartsOn:1,firstWeekContainsDate:1}},Vr=zr;function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Hr(e){return function(e){if(Array.isArray(e))return Qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(){qr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Gr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Gr(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Wr(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Yr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Wr(o,n,a,i,s,"next",e)}function s(e){Wr(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||$r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){if(e){if("string"==typeof e)return Qr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qr(e,t):void 0}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){Jr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Gr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var en=200,tn={1:"PENDIENTE",2:"PROCESADO",3:"EN REVISION",4:"REVISADO"},rn={PENDIENTE:1,"EN REVISION":3,REVISADO:4,PROCESADO:2},nn=(Object.values(tn),[{id:1,nombre_sucursal:"Sucursal Principal (Automática)",direccion_sucursal:"Calle Falsa 123"},{id:2,nombre_sucursal:"Sucursal Norte",direccion_sucursal:"Av. Norte 456"},{id:3,nombre_sucursal:"Sucursal Centro",direccion_sucursal:"Plaza Central 789"},{id:4,nombre_sucursal:"Almacén General",direccion_sucursal:"Bodega 001"}]),an=[{id:101,sucursal_id:1,codigo_barras:"7501001",codigo_proveedor:"PROV001",descripcion:"Laptop Gamer Pro X",cantidad:15,precio:1200,precio_base:1e3},{id:102,sucursal_id:1,codigo_barras:"7501002",codigo_proveedor:"PROV002",descripcion:'Monitor Curvo 32"',cantidad:25,precio:450,precio_base:380},{id:103,sucursal_id:1,codigo_barras:"7501003",codigo_proveedor:"PROV001",descripcion:"Teclado Mecánico RGB",cantidad:50,precio:80,precio_base:60},{id:104,sucursal_id:1,codigo_barras:"7501004",codigo_proveedor:"PROV003",descripcion:"Mouse Inalámbrico Ergo",cantidad:30,precio:40,precio_base:30},{id:105,sucursal_id:1,codigo_barras:"7501005",codigo_proveedor:"PROV002",descripcion:"Webcam HD 1080p",cantidad:0,precio:60,precio_base:45},{id:106,sucursal_id:1,codigo_barras:"SCANTEST001",codigo_proveedor:"SCAN01",descripcion:"Producto Escáner Rápido",cantidad:100,precio:10,precio_base:5}],on=(new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,11,0).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),nn.find((function(e){return 1===e.id})),nn.find((function(e){return 2===e.id})),new Date(2024,4,15,14,0).toISOString(),new Date(2024,4,15,14,5).toISOString(),new Date(2024,4,15,14,0).toISOString(),new Date(2024,4,15,14,0).toISOString(),nn.find((function(e){return 1===e.id})),nn.find((function(e){return 3===e.id})),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),nn.find((function(e){return 1===e.id})),nn.find((function(e){return 4===e.id})),function(e){var t=e.estadoNum,r=tn[t]||"DESCONOCIDO";return(0,at.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full leading-tight ".concat({PENDIENTE:"bg-red-500 text-white","EN REVISION":"bg-yellow-400 text-black",REVISADO:"bg-sky-500 text-white",PROCESADO:"bg-green-500 text-white",DESCONOCIDO:"bg-gray-400 text-black"}[r]),children:r})}),sn=function(e){var t=e.onProductSelect,r=e.sucursalIdOrigen,n=e.placeholder,a=void 0===n?"Buscar producto...":n,i=Xr((0,o.useState)(""),2),s=i[0],c=i[1],l=Xr((0,o.useState)([]),2),u=l[0],d=l[1],f=Xr((0,o.useState)(!1),2),h=f[0],p=f[1],m=Xr((0,o.useState)(!1),2),g=m[0],v=m[1],x=Xr((0,o.useState)(null),2),b=x[0],y=x[1],j=Xr((0,o.useState)(!1),2),w=j[0],N=j[1],_=Xr((0,o.useState)(""),2),C=_[0],E=_[1],S=(0,o.useRef)(null),A=(0,o.useRef)(null),I=(0,o.useRef)(null),O=(0,o.useCallback)(function(){var e=Yr(qr().mark((function e(t){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!==t.trim()){e.next=4;break}return d([]),v(!1),e.abrupt("return");case 4:return p(!0),e.prev=5,e.next=8,et.getinventario({vendedor:null,num:25,itemCero:!1,qProductosMain:t,orderColumn:"descripcion",orderBy:"asc"});case 8:r=e.sent,console.log(r.data),d(r.data||[]),v(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error("Error buscando productos (mock):",e.t0),d([]);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[r]);(0,o.useEffect)((function(){return I.current&&clearTimeout(I.current),""!==s.trim()?I.current=setTimeout((function(){return O(s)}),300):(d([]),v(!1)),function(){return clearTimeout(I.current)}}),[s,O]);var T=function(){var e,r=""===C.trim()?"1.00":C,n=parseFloat(r),a=parseFloat(b.cantidad);n>a?alert("La cantidad seleccionada (".concat(r,") excede el stock disponible (").concat(a,").")):(t(Kr(Kr({},b),{},{cantidadInicial:r})),c(""),y(null),E(""),N(!1),null===(e=S.current)||void 0===e||e.focus())};return(0,o.useEffect)((function(){var e;null===(e=S.current)||void 0===e||e.focus(),w&&setTimeout((function(){var e;null===(e=A.current)||void 0===e||e.focus()}),100)}),[w]),(0,at.jsxs)("div",{className:"relative w-full",children:[(0,at.jsx)("input",{ref:S,type:"text",className:"form-input w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:a,value:s,onChange:function(e){return c(e.target.value)},onFocus:function(){return s&&u.length>0&&v(!0)},onBlur:function(){return setTimeout((function(){return v(!1)}),150)}}),h&&(0,at.jsx)("div",{className:"absolute mt-1 w-full p-2 text-sm text-gray-500 bg-white border rounded shadow-lg",children:"Buscando..."}),g&&(0,at.jsx)("ul",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-72 overflow-y-auto",children:u.length>0?u.map((function(e){return(0,at.jsx)("li",{className:"px-3 py-2 hover:bg-indigo-50 cursor-pointer",onMouseDown:function(){return function(e){y(e),E(""),N(!0),v(!1)}(e)},children:(0,at.jsx)("div",{className:"flex justify-between items-center",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"font-medium",children:e.descripcion}),(0,at.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,at.jsx)("b",{children:e.codigo_barras})," | ",e.codigo_proveedor]}),(0,at.jsxs)("div",{className:"text-sm text-gray-600",children:["Stock: ",e.cantidad]})]})})},e.id)})):!h&&s&&(0,at.jsx)("li",{className:"px-3 py-2 text-gray-500",children:"No se encontraron productos."})}),w&&b&&(0,at.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,at.jsx)("div",{className:"relative top-20 mx-auto p-2 border shadow-lg rounded-md bg-white",children:(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Seleccionar Cantidad"}),(0,at.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),(0,at.jsx)("p",{className:"font-medium",children:b.descripcion}),(0,at.jsxs)("p",{className:"text-sm text-gray-500",children:["Stock disponible: ",b.cantidad]})]}),(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsx)("label",{htmlFor:"cantidad",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),(0,at.jsx)("input",{ref:A,type:"number",id:"cantidad",step:"0.01",min:"0.01",max:b.cantidad,value:C,onChange:function(e){var t=e.target.value;(""===t||/^\d*\.?\d{0,2}$/.test(t))&&E(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),T())},className:"form-input w-full p-4 text-2xl text-center border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:""})]})]}),(0,at.jsxs)("div",{className:"flex justify-end space-x-3 px-4 py-3",children:[(0,at.jsx)("button",{onClick:function(){N(!1),y(null),E("")},className:"px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancelar"}),(0,at.jsx)("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Agregar"})]})]})})})]})},cn=function(e){var t=e.item,r=e.onRemove,n=e.onQuantityChange,a=e.isEditable,o=e.index,i=e.totalItems;return(0,at.jsxs)("li",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-3 border-b border-gray-200 space-y-2 sm:space-y-0 relative",children:[(0,at.jsxs)("div",{className:"absolute top-2 right-2 bg-gray-100 text-gray-600 text-xs font-medium px-2 py-1 rounded",children:[o+1,"/",i]}),(0,at.jsxs)("div",{className:"flex-grow",children:[(0,at.jsx)("p",{className:"font-semibold text-gray-800",children:t.descripcion_real}),(0,at.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,at.jsx)("b",{children:t.barras_real})," | ",t.alterno_real]})]}),(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,at.jsx)("input",{type:"text",inputMode:"decimal",value:t.cantidad,onChange:function(e){var r=e.target.value;""!==r?/^\d*\.?\d{0,2}$/.test(r)&&n(t.id_producto_insucursal,r):n(t.id_producto_insucursal,"")},onBlur:function(e){var r=e.target.value;""===r||isNaN(parseFloat(r))||parseFloat(r)<=0?n(t.id_producto_insucursal,"1.00"):n(t.id_producto_insucursal,parseFloat(r).toFixed(2))},readOnly:!a,className:"form-input w-24 p-2 border border-gray-300 rounded-md text-center ".concat(a?"focus:ring-indigo-500 focus:border-indigo-500":"bg-gray-100"),"aria-label":"Cantidad para ".concat(t.descripcion_real)}),a&&(0,at.jsx)("button",{onClick:function(){return r(t.id_producto_insucursal)},className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded-md text-sm transition",children:"Eliminar"})]})]})},ln=function(e){var t=e.onSave,r=e.onCancel,n=e.sucursalActualId,a=e.transferenciaToEdit,i=void 0===a?null:a,s=e.sucursales,c=e.cargarTransferencias,l=!!i,u=n||1,d=Xr((0,o.useState)((null==i?void 0:i.id_destino)||""),2),f=d[0],h=d[1],p=Xr((0,o.useState)([]),2),m=p[0],g=p[1],v=Xr((0,o.useState)(""),2),x=v[0],b=v[1],y=Xr((0,o.useState)(!1),2),j=y[0],w=y[1],N=Xr((0,o.useState)(""),2),_=N[0],C=N[1],E=Xr((0,o.useState)((null==i?void 0:i.observaciones)||""),2),S=E[0],A=E[1],I=Xr((0,o.useState)(!1),2),O=I[0],T=I[1];(0,o.useEffect)((function(){if(i&&i.items){var e=i.items.map((function(e){an.find((function(t){return t.id===e.id_producto_insucursal}));return{id:e.id,id_producto:e.producto.id,id_pedido:i.id,id_producto_insucursal:e.producto.id,cantidad:String(e.cantidad),base:String(e.producto.precio_base),venta:String(e.producto.precio),descuento:String(e.descuento||"0.00"),monto:String((parseFloat(e.cantidad)*parseFloat(e.producto.precio)).toFixed(2)),ct_real:parseFloat(e.cantidad),barras_real:e.producto.codigo_barras,alterno_real:e.producto.codigo_proveedor,descripcion_real:e.producto.descripcion,vinculo_real:e.id_producto_insucursal,created_at:e.created_at,updated_at:e.updated_at,cantidad_original_stock_inventario:(null==e?void 0:e.cantidad)||0,modificable:!0}}));console.log("Items mapeados para edición:",e),g(e),A(i.observaciones||"")}}),[i]);var P=function(e){g((function(t){return t.filter((function(t){return t.id_producto_insucursal!==e}))}))},k=function(e,t){g((function(r){return r.map((function(r){if(r.id_producto_insucursal===e){if(""===t)return r;var n=parseFloat(t);parseFloat(r.cantidad_original_stock_inventario);if(isNaN(n)||n<=0)return r;var a=(n*parseFloat(r.venta)).toFixed(2);return Kr(Kr({},r),{},{cantidad:t,monto:String(a),ct_real:n})}return r}))}))},D=function(){var e=Yr(qr().mark((function e(r){var n,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),b(""),C(""),f){e.next=6;break}return b("Debe seleccionar una sucursal de destino."),e.abrupt("return");case 6:if(0!==m.length){e.next=9;break}return b("Debe agregar al menos un producto."),e.abrupt("return");case 9:if(n=!0,m.forEach((function(e){var t=parseFloat(e.cantidad);parseFloat(e.cantidad_original_stock_inventario);(isNaN(t)||t<=0)&&(b("Cantidad inválida para ".concat(e.descripcion_real,".")),n=!1)})),n){e.next=13;break}return e.abrupt("return");case 13:return a={id_origen:u,id_destino:parseInt(f),observaciones:S.trim(),items:m.map((function(e){return{id:l?e.id:void 0,id_producto_insucursal:e.id_producto_insucursal,cantidad:e.cantidad,base:e.base,venta:e.venta,descripcion_real:e.descripcion_real,barras_real:e.barras_real}}))},l?(a.id=i.id,a.actualizando=!0):a.actualizando=!1,w(!0),e.prev=16,e.next=19,et.settransferenciaDici(a);case 19:if(!(o=e.sent).data.estado){e.next=29;break}return C("Transferencia ".concat(l?"actualizada":"creada"," exitosamente.")),e.next=24,c();case 24:l||(h(""),g([]),A("")),t(o.data),setTimeout((function(){return C("")}),5e3),e.next=30;break;case 29:throw new Error(o.data.mensaje||"Error al procesar la transferencia");case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(16),b(e.t0.message||"Error al ".concat(l?"actualizar":"crear"," transferencia."));case 35:return e.prev=35,w(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[16,32,35,38]])})));return function(t){return e.apply(this,arguments)}}();return(0,at.jsxs)("form",{onSubmit:D,className:"space-y-6 p-1 md:p-6 rounded-lg",children:[(0,at.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:l?"Editando Transferencia (Mock) #".concat(i.id):"Crear Nueva Transferencia (Mock)"}),x&&(0,at.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,at.jsx)("p",{children:x})}),_&&(0,at.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",children:(0,at.jsx)("p",{children:_})}),(0,at.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{htmlFor:"id_destino",className:"block text-sm font-medium text-gray-700",children:"Sucursal Destino:"}),(0,at.jsxs)("select",{id:"id_destino",value:f,onChange:function(e){return h(e.target.value)},required:!0,className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[(0,at.jsx)("option",{value:"",children:"-- Seleccione Destino --"}),s.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.codigo},e.id)}))]})]})}),(0,at.jsxs)("div",{className:"relative",children:[(0,at.jsxs)("div",{className:"sticky top-0 z-10 bg-white pb-4 border-b border-gray-200",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar y Agregar Productos:"}),(0,at.jsx)(sn,{onProductSelect:function(e){if(m.find((function(t){return t.id_producto_insucursal===e.id})))alert("Este producto ya ha sido agregado.");else{var t={id:en++,id_producto:e.id,id_pedido:(null==i?void 0:i.id)||null,cantidad:e.cantidadInicial||"1.00",base:String(e.precio_base),venta:String(e.precio),descuento:"0.00",monto:String((parseFloat(e.cantidadInicial||"1.00")*parseFloat(e.precio)).toFixed(2)),ct_real:parseFloat(e.cantidadInicial||"1.00"),barras_real:e.codigo_barras,alterno_real:e.codigo_proveedor,descripcion_real:e.descripcion,vinculo_real:e.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),id_producto_insucursal:e.id,cantidad_original_stock_inventario:e.cantidad,modificable:!0};g((function(e){return[].concat(Hr(e),[t])}))}},sucursalIdOrigen:u})]}),m.length>0&&(0,at.jsxs)("div",{className:"mt-6",children:[(0,at.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:["Productos en Transferencia (",m.length," items):"]}),(0,at.jsx)("ul",{className:"border rounded-md divide-y max-h-[calc(100vh-400px)] overflow-y-auto",children:m.map((function(e,t){return(0,at.jsx)(cn,{item:e,onRemove:P,onQuantityChange:k,isEditable:!0,index:t,totalItems:m.length},e.id_producto_insucursal)}))})]})]}),(0,at.jsx)("div",{children:(0,at.jsxs)("button",{type:"button",onClick:function(){return T(!O)},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,at.jsx)("i",{className:"fas fa-comment-alt mr-2 ".concat(O?"text-indigo-600":"text-gray-400")}),O?"Ocultar Observaciones":"Agregar Observaciones"]})}),O&&(0,at.jsxs)("div",{className:"mt-4 transition-all duration-200 ease-in-out",children:[(0,at.jsx)("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones"}),(0,at.jsx)("textarea",{id:"observaciones",value:S,onChange:function(e){return A(e.target.value)},rows:"3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ingrese observaciones adicionales sobre la transferencia..."})]}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,at.jsx)("button",{type:"button",onClick:r,disabled:j,className:"w-full sm:w-auto px-6 py-2.5 border rounded-md shadow-sm text-sm bg-white hover:bg-gray-50 transition",children:"Cancelar"}),(0,at.jsx)("button",{type:"submit",disabled:j||0===m.length,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-2.5 border-transparent rounded-md shadow-sm text-sm text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 transition",children:j?"Guardando...":l?"Actualizar Transferencia":"Crear Transferencia"})]})]})},un=function(e){var t=e.transferencia,r=e.onBack;e.sucursales;if(!t)return(0,at.jsx)("p",{children:"Cargando detalles..."});var n=t.origen||nn.find((function(e){return e.id===t.id_origen})),a=t.destino||nn.find((function(e){return e.id===t.id_destino}));return(0,at.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-xl",children:[(0,at.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,at.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800",children:["Detalle de Transferencia #",t.id]}),(0,at.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-md transition",children:"← Volver al Listado"})]}),(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 p-4 border rounded-md bg-gray-50",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"ID Transferencia:"})," ",(0,at.jsx)("p",{className:"font-medium",children:t.idinsucursal||t.id})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Estado:"})," ",(0,at.jsx)(on,{estadoNum:t.estado})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Fecha Creación:"})," ",(0,at.jsx)("p",{className:"font-medium",children:kr(new Date(t.created_at),"dd/MM/yyyy HH:mm",{locale:Vr})})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Última Actualización:"})," ",(0,at.jsx)("p",{className:"font-medium",children:kr(new Date(t.updated_at),"dd/MM/yyyy HH:mm",{locale:Vr})})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Sucursal Origen:"})," ",(0,at.jsx)("p",{className:"font-medium",children:(null==n?void 0:n.nombre_sucursal)||"ID: ".concat(t.id_origen)})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Sucursal Destino:"})," ",(0,at.jsx)("p",{className:"font-medium",children:(null==a?void 0:a.nombre_sucursal)||"ID: ".concat(t.id_destino)})]}),t.observaciones&&(0,at.jsxs)("div",{className:"md:col-span-2",children:[(0,at.jsx)("p",{className:"text-sm text-gray-500",children:"Observaciones:"}),(0,at.jsx)("p",{className:"font-medium whitespace-pre-wrap",children:t.observaciones})]})]}),(0,at.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Items Transferidos:"}),t.items&&t.items.length>0?(0,at.jsx)("ul",{className:"border rounded-md divide-y max-h-[50vh] overflow-y-auto",children:t.items.map((function(e,t){return(0,at.jsx)(cn,{item:e,onRemove:function(){},onQuantityChange:function(){},isEditable:!1},e.id||t)}))}):(0,at.jsx)("p",{className:"text-gray-500",children:"No hay items en esta transferencia."}),(0,at.jsxs)("div",{className:"mt-6 pt-4 border-t text-right",children:[(0,at.jsxs)("p",{className:"text-sm text-gray-500",children:["Total Base: ",(0,at.jsxs)("span",{className:"font-medium",children:["$",parseFloat(t.base||0).toFixed(2)]})]}),(0,at.jsxs)("p",{className:"text-sm text-gray-500",children:["Total Venta: ",(0,at.jsxs)("span",{className:"font-medium",children:["$",parseFloat(t.venta||0).toFixed(2)]})]})]})]})},dn=function(e){e.sucursalActualId,e.onRequireRefresh;var t=e.onEdit,r=e.onViewDetails,n=e.sucursales,a=e.cargarTransferencias,o=e.transferencias,i=(e.setTransferencias,e.estaCargando),s=(e.setEstaCargando,e.error),c=(e.setError,e.filtros),l=e.setFiltros,u=(e.filtrosActivos,e.setFiltrosActivos),d=e.paginacion,f=(e.setPaginacion,e.mostrarFiltros),h=e.setMostrarFiltros,p=function(e){l((function(t){return Kr(Kr({},t),{},Jr({},e.target.name,e.target.value))}))};return i&&0===o.length?(0,at.jsx)("div",{className:"text-center p-10",children:"Cargando..."}):s?(0,at.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 my-4",children:(0,at.jsx)("p",{children:s})}):(0,at.jsxs)("div",{className:"rounded-lg",children:[(0,at.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 sm:px-6",children:(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Transferencias"}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsxs)("button",{onClick:function(){return h(!f)},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,at.jsx)("i",{className:"fas fa-filter mr-2 ".concat(f?"text-indigo-600":"text-gray-400")}),"Filtros"]}),(0,at.jsx)("button",{onClick:function(){u(Kr({},c)),a()},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,at.jsx)("i",{className:"fas fa-search mr-2"})})]})]})}),(0,at.jsx)("div",{className:"border-b border-gray-200 transition-all duration-200 ".concat(f?"block":"hidden"),children:(0,at.jsx)("div",{className:"px-4 py-3 sm:px-6",children:(0,at.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{htmlFor:"estatus_string_filter",className:"block text-xs font-medium text-gray-700",children:"ID"}),(0,at.jsx)("input",{name:"q",id:"q_filter",placeholder:"Buscar por ID",value:c.q,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{htmlFor:"estatus_string_filter",className:"block text-xs font-medium text-gray-700",children:"Estado"}),(0,at.jsxs)("select",{name:"estatus_string",id:"estatus_string_filter",value:c.estatus_string,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,at.jsx)("option",{value:"",children:"Todos"}),(0,at.jsx)("option",{value:"0",children:"Pendiente"}),(0,at.jsx)("option",{value:"1",children:"Procesado"}),(0,at.jsx)("option",{value:"2",children:"Extraído"}),(0,at.jsx)("option",{value:"3",children:"En Revision"}),(0,at.jsx)("option",{value:"4",children:"Revisado"})]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{htmlFor:"id_destino_filter",className:"block text-xs font-medium text-gray-700",children:"Destino"}),(0,at.jsxs)("select",{name:"id_destino",id:"id_destino_filter",value:c.id_destino,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,at.jsx)("option",{value:"",children:"Todas"}),n.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.codigo},e.id)}))]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{htmlFor:"limit_filter",className:"block text-xs font-medium text-gray-700",children:"Resultados"}),(0,at.jsxs)("select",{name:"limit",id:"limit_filter",value:c.limit,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,at.jsx)("option",{value:"10",children:"10"}),(0,at.jsx)("option",{value:"25",children:"25"}),(0,at.jsx)("option",{value:"50",children:"50"}),(0,at.jsx)("option",{value:"100",children:"100"})]})]})]})})}),(0,at.jsx)("div",{className:"p-0",children:i&&0===o.length?(0,at.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,at.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,at.jsx)("span",{className:"ml-3 text-gray-600",children:"Cargando transferencias..."})]}):s?(0,at.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-4",children:(0,at.jsxs)("div",{className:"flex",children:[(0,at.jsx)("div",{className:"flex-shrink-0",children:(0,at.jsx)("i",{className:"fas fa-exclamation-circle text-red-500"})}),(0,at.jsx)("div",{className:"ml-3",children:(0,at.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}):0===o.length?(0,at.jsxs)("div",{className:"text-center py-12",children:[(0,at.jsx)("i",{className:"fas fa-box-open text-gray-400 text-4xl mb-3"}),(0,at.jsx)("p",{className:"text-gray-500",children:"No se encontraron transferencias"})]}):(0,at.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((function(e){var n,a,o;return(0,at.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,at.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:(0,at.jsxs)("div",{className:"flex justify-between items-center",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,at.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",e.id]}),(0,at.jsx)(on,{estadoNum:e.estado})]}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsx)("button",{onClick:function(){return r(e)},className:"text-indigo-600 hover:text-indigo-900 p-1 rounded-full hover:bg-indigo-50",title:"Ver detalles",children:(0,at.jsx)("i",{className:"fas fa-eye"})}),e.estado===rn.PENDIENTE&&(0,at.jsx)("button",{onClick:function(){return t(e)},className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50",title:"Editar",children:(0,at.jsx)("i",{className:"fas fa-edit"})})]})]})}),(0,at.jsx)("div",{className:"p-4",children:(0,at.jsxs)("div",{className:"space-y-3",children:[(0,at.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,at.jsx)("i",{className:"far fa-clock w-5"}),(0,at.jsx)("span",{className:"ml-2",children:kr(new Date(e.created_at),"dd/MM/yy HH:mm",{locale:Vr})})]}),(0,at.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,at.jsx)("i",{className:"fas fa-warehouse w-5"}),(0,at.jsx)("span",{className:"ml-2",children:(null===(n=e.origen)||void 0===n?void 0:n.nombre_sucursal)||"ID: ".concat(e.id_origen)})]}),(0,at.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,at.jsx)("i",{className:"fas fa-truck w-5"}),(0,at.jsx)("span",{className:"ml-2",children:(null===(a=e.destino)||void 0===a?void 0:a.nombre_sucursal)||"ID: ".concat(e.id_destino)})]}),(0,at.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,at.jsx)("i",{className:"fas fa-boxes w-5"}),(0,at.jsxs)("span",{className:"ml-2",children:[(null===(o=e.items)||void 0===o?void 0:o.length)||0," productos"]})]}),(0,at.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,at.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Total Base:"}),(0,at.jsxs)("span",{className:"font-medium text-gray-900",children:["$",parseFloat(e.base||0).toFixed(2)]})]}),(0,at.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Total Venta:"}),(0,at.jsxs)("span",{className:"font-medium text-gray-900",children:["$",parseFloat(e.venta||0).toFixed(2)]})]})]})]})})]},e.id)}))})}),d.last_page>1&&(0,at.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[(0,at.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(0,at.jsx)("span",{className:"font-medium",children:d.from||0})," a ",(0,at.jsx)("span",{className:"font-medium",children:d.to||0})," de ",(0,at.jsx)("span",{className:"font-medium",children:d.total||0})," resultados"]}),(0,at.jsxs)("div",{className:"flex space-x-1",children:[(0,at.jsx)("button",{onClick:function(){return handlePageChange(1)},disabled:1===d.current_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,at.jsx)("i",{className:"fas fa-angle-double-left"})}),(0,at.jsx)("button",{onClick:function(){return handlePageChange(d.current_page-1)},disabled:1===d.current_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,at.jsx)("i",{className:"fas fa-angle-left"})}),(0,at.jsxs)("span",{className:"relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white",children:["Página ",d.current_page," de ",d.last_page]}),(0,at.jsx)("button",{onClick:function(){return handlePageChange(d.current_page+1)},disabled:d.current_page===d.last_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,at.jsx)("i",{className:"fas fa-angle-right"})}),(0,at.jsx)("button",{onClick:function(){return handlePageChange(d.last_page)},disabled:d.current_page===d.last_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,at.jsx)("i",{className:"fas fa-angle-double-right"})})]})]})})]})};const fn=function(e){var t=e.sucursalActualId,r=Xr((0,o.useState)("list"),2),n=r[0],a=r[1],i=Xr((0,o.useState)(null),2),s=i[0],c=i[1],l=Xr((0,o.useState)(0),2),u=l[0],d=l[1],f=Xr((0,o.useState)([]),2),h=f[0],p=f[1],m=Xr((0,o.useState)([]),2),g=m[0],v=m[1],x=Xr((0,o.useState)(!0),2),b=x[0],y=x[1],j=Xr((0,o.useState)(""),2),w=j[0],N=j[1],_=Xr((0,o.useState)({q:"",estatus_string:"",id_destino:"",limit:10}),2),C=_[0],E=_[1],S=Xr((0,o.useState)({q:"",estatus_string:"",id_destino:"",limit:10}),2),A=S[0],I=S[1],O=Xr((0,o.useState)({}),2),T=O[0],P=O[1],k=Xr((0,o.useState)(!1),2),D=k[0],M=k[1],R=(0,o.useCallback)(function(){var e=Yr(qr().mark((function e(t){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.reqMipedidos(t);case 3:return r=e.sent,e.abrupt("return",{transferencias:r.data.data||[],paginacion:r.data});case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error al cargar transferencias");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);(0,o.useEffect)((function(){var e=function(){var e=Yr(qr().mark((function e(){var t,r,n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),N(""),e.prev=2,e.next=5,R(A);case 5:t=e.sent,r=t.transferencias,n=t.paginacion,v(r),P(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),N("No se pudieron cargar las transferencias."),v([]);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,12,16,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[R,A,u]),(0,o.useEffect)((function(){var e=function(){var e=Yr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.getSucursales();case 3:(t=e.sent).data.msj&&p(t.data.msj),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error cargando sucursales:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var F=function(){a("list"),c(null)},L=t||1;return(0,at.jsxs)("div",{className:"mx-auto px-2 py-4 sm:px-4 md:px-6",children:[(0,at.jsx)("header",{className:"mb-6 pb-4 border-b border-gray-200",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[(0,at.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Gestión de Transferencias"}),"list"===n&&(0,at.jsx)("button",{onClick:function(){c(null),a("form")},className:"mt-3 sm:mt-0 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition",children:"+ Nueva Transferencia"}),("form"===n||"detail"===n)&&(0,at.jsx)("button",{onClick:F,className:"mt-3 sm:mt-0 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition",children:"← Volver al Listado"})]})}),(0,at.jsxs)("main",{children:["list"===n&&(0,at.jsx)(dn,{sucursalActualId:L,onRequireRefresh:u,onEdit:function(e){c(e),a("form")},onViewDetails:function(e){c(e),a("detail")},sucursales:h,cargarTransferencias:R,transferencias:g,setTransferencias:v,estaCargando:b,setEstaCargando:y,error:w,setError:N,filtros:C,setFiltros:E,filtrosActivos:A,setFiltrosActivos:I,paginacion:T,setPaginacion:P,mostrarFiltros:D,setMostrarFiltros:M}),"form"===n&&(0,at.jsx)(ln,{onSave:function(e){console.log("Transferencia guardada:",e),a("list"),c(null),d((function(e){return e+1}))},onCancel:F,sucursalActualId:L,transferenciaToEdit:s,sucursales:h,cargarTransferencias:R}),"detail"===n&&(0,at.jsx)(un,{transferencia:s,onBack:F,sucursales:h})]})]})};function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mn(e){e.socketUrl,e.setSocketUrl,e.setInventarioFromSucursal,e.getInventarioFromSucursal;var t=e.getPedidosCentral,r=e.selectPedidosCentral,n=e.checkPedidosCentral,a=e.pedidosCentral,i=e.setIndexPedidoCentral,s=e.indexPedidoCentral,c=e.moneda,l=e.showaddpedidocentral,u=(e.setshowaddpedidocentral,e.valheaderpedidocentral),d=e.setvalheaderpedidocentral,f=e.valbodypedidocentral,h=e.setvalbodypedidocentral,p=e.procesarImportPedidoCentral,m=(e.pathcentral,e.setpathcentral,e.mastermachines,e.getmastermachine,e.setinventarioModifiedCentralImport,e.inventarioModifiedCentralImport,e.saveChangeInvInSucurFromCentral,e.getTareasCentral),g=(e.settareasCentral,e.tareasCentral),v=e.runTareaCentral,x=e.modalmovilRef,b=e.modalmovilx,y=e.modalmovily,j=e.setmodalmovilshow,w=e.modalmovilshow,N=e.getProductos,_=e.productos,C=e.linkproductocentralsucursal,E=e.inputbuscarcentralforvincular,S=(e.openVincularSucursalwithCentral,e.idselectproductoinsucursalforvicular,e.removeVinculoCentral,e.sucursalesCentral),A=e.qpedidoscentralq,I=e.setqpedidoscentralq,O=e.qpedidocentrallimit,T=e.setqpedidocentrallimit,P=e.qpedidocentralestado,k=e.setqpedidocentralestado,D=e.qpedidocentralemisor,M=e.setqpedidocentralemisor,R=e.getSucursales,F=e.openBarcodeScan,L=e.buscarDatosFact,B=e.setbuscarDatosFact,U=hn((0,o.useState)("pedidos"),2),z=U[0],V=U[1],G=hn((0,o.useState)(!1),2),H=G[0],q=G[1],W=hn((0,o.useState)(null),2),Y=W[0],X=W[1],$=hn((0,o.useState)(window.innerWidth<=768),2),Q=$[0],Z=$[1];(0,o.useEffect)((function(){var e=function(){Z(window.innerWidth<=768)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);try{return(0,at.jsxs)(at.Fragment,{children:[w?(0,at.jsx)(bt,{margin:100,modalmovilRef:x,x:b,y,setmodalmovilshow:j,modalmovilshow:w,getProductos:N,productos:_,linkproductocentralsucursal:C,inputbuscarcentralforvincular:E}):null,(0,at.jsxs)("div",{className:"btn-group mb-2",children:[(0,at.jsx)("button",{className:"pedidos"==z?"btn btn-outline-sinapsis":"btn btn-outline-secondary",onClick:function(){t(),V("pedidos")},children:"Recibir Pedidos"}),(0,at.jsx)("button",{className:"pedidos_send"==z?"btn btn-outline-sinapsis":"btn btn-outline-secondary",onClick:function(){V("pedidos_send")},children:"Enviar Pedidos"}),(0,at.jsx)("button",{className:"tareas"==z?"btn btn-outline-sinapsis":"btn btn-outline-secondary",onClick:function(){V("tareas")},children:"Tareas"})]}),"tareas"==z?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("h1",{children:["Tareas ",(0,at.jsxs)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return m([0])},children:[" ",(0,at.jsx)("i",{className:"fa fa-search"})," "]})]}),(0,at.jsx)("button",{className:"btn btn-sinapsis",onClick:function(){return v()},children:"RESOLVER TODO"}),(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("div",{children:g.length?g.map((function(e,t){return e?(0,at.jsx)("div",{className:"bg-light text-secondary card mt-2 pointer",children:(0,at.jsx)("div",{className:"card-body flex-row justify-content-between",children:(0,at.jsxs)("div",{children:[(0,at.jsxs)("h4",{children:["Destino ",(0,at.jsx)("button",{className:"btn btn-secondary",children:e.sucursal.nombre})," "]}),(0,at.jsx)("small",{className:"text-muted fst-italic",children:"Acción"})," ",(0,at.jsx)("br",{}),(0,at.jsx)("small",{className:"text-muted fst-italic",children:(0,at.jsxs)("b",{children:[1==e.tipo?"MODIFICAR":null,2==e.tipo?"ELIMINAR DUPLICADOS":null]})}),(0,at.jsx)("br",{}),(0,at.jsx)("small",{className:"text-muted fst-italic",children:"FECHA"})," ",(0,at.jsx)("br",{}),(0,at.jsxs)("small",{className:"text-muted fst-italic",children:[(0,at.jsx)("b",{children:e.created_at})," "]}),(0,at.jsx)("br",{}),e.prodantesproducto?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("small",{className:"text-success fst-italic",children:"Hay respuesta por resolver"}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:"id"}),(0,at.jsx)("td",{children:"codigo_proveedor"}),(0,at.jsx)("td",{children:"codigo_barras"}),(0,at.jsx)("td",{children:"descripcion"}),(0,at.jsx)("td",{children:"cantidad"}),(0,at.jsx)("td",{children:"stockmax"}),(0,at.jsx)("td",{children:"stockmin"}),(0,at.jsx)("td",{children:"unidad"}),(0,at.jsx)("td",{children:"id_categoria"}),(0,at.jsx)("td",{children:"id_proveedor"}),(0,at.jsx)("td",{children:"precio"}),(0,at.jsx)("td",{children:"precio_base"}),(0,at.jsx)("td",{children:"iva"}),(0,at.jsx)("td",{children:"INV"})]})}),(0,at.jsxs)("tbody",{children:[e.prodantesproducto?(0,at.jsxs)("tr",{className:"bg-danger-light",children:[(0,at.jsx)("td",{children:e.prodantesproducto.id}),(0,at.jsx)("td",{children:e.prodantesproducto.codigo_proveedor}),(0,at.jsx)("td",{children:e.prodantesproducto.codigo_barras}),(0,at.jsx)("td",{children:e.prodantesproducto.descripcion}),(0,at.jsx)("td",{children:e.prodantesproducto.cantidad}),(0,at.jsx)("td",{children:e.prodantesproducto.stockmax}),(0,at.jsx)("td",{children:e.prodantesproducto.stockmin}),(0,at.jsx)("td",{children:e.prodantesproducto.unidad}),(0,at.jsx)("td",{children:e.prodantesproducto.id_categoria}),(0,at.jsx)("td",{children:e.prodantesproducto.id_proveedor}),(0,at.jsx)("td",{children:e.prodantesproducto.precio}),(0,at.jsx)("td",{children:e.prodantesproducto.precio_base}),(0,at.jsx)("td",{children:e.prodantesproducto.iva}),(0,at.jsx)("td",{children:e.prodantesproducto.push})]}):null,e.prodcambiarproducto?(0,at.jsxs)("tr",{className:"bg-success-light",children:[(0,at.jsx)("td",{children:e.prodcambiarproducto.id}),(0,at.jsx)("td",{children:e.prodcambiarproducto.codigo_proveedor}),(0,at.jsx)("td",{children:e.prodcambiarproducto.codigo_barras}),(0,at.jsx)("td",{children:e.prodcambiarproducto.descripcion}),(0,at.jsx)("td",{children:e.prodcambiarproducto.cantidad}),(0,at.jsx)("td",{children:e.prodcambiarproducto.stockmax}),(0,at.jsx)("td",{children:e.prodcambiarproducto.stockmin}),(0,at.jsx)("td",{children:e.prodcambiarproducto.unidad}),(0,at.jsx)("td",{children:e.prodcambiarproducto.id_categoria}),(0,at.jsx)("td",{children:e.prodcambiarproducto.id_proveedor}),(0,at.jsx)("td",{children:e.prodcambiarproducto.precio}),(0,at.jsx)("td",{children:e.prodcambiarproducto.precio_base}),(0,at.jsx)("td",{children:e.prodcambiarproducto.iva}),(0,at.jsx)("td",{children:e.prodcambiarproducto.push})]}):null]},e.id)]})]}):null]})})},e.id):null})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})})})})]}):null,"pedidos"==z?(0,at.jsxs)("div",{className:"container-fluid mt-3",children:[" ",(0,at.jsx)("h1",{className:"mb-4 text-center text-md-start",children:"TRANSFERENCIAS"})," ",(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-lg-3 col-md-4 col-12 mb-3 mb-md-0",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},className:"mb-3",children:[(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsx)("div",{className:"col-8",children:(0,at.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Número de Transferencia...",value:A,onChange:function(e){return I(e.target.value)}})}),(0,at.jsx)("div",{className:"col-4",children:(0,at.jsxs)("select",{className:"form-select form-select-sm",value:O,onChange:function(e){return T(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"-RESULTADOS-"}),(0,at.jsx)("option",{value:"5",children:"5 (SúperRápida)"}),(0,at.jsx)("option",{value:"10",children:"10 (Rápida)"}),(0,at.jsx)("option",{value:"20",children:"20 (Media)"}),(0,at.jsx)("option",{value:"50",children:"50 (Lenta)"}),(0,at.jsx)("option",{value:"100",children:"100 (SúperLenta)"})]})})]}),(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsx)("div",{className:"col-5",children:(0,at.jsxs)("select",{className:"form-select form-select-sm",value:P,onChange:function(e){return k(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"-ESTADO-"}),(0,at.jsx)("option",{value:"1",children:"PENDIENTE"}),(0,at.jsx)("option",{value:"3",children:"EN REVISIÓN"}),(0,at.jsx)("option",{value:"4",children:"REVISADO"})]})}),(0,at.jsx)("div",{className:"col-5",children:(0,at.jsxs)("select",{className:"form-select form-select-sm",value:D,onChange:function(e){return M(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"-EMISOR-"}),S.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})}),(0,at.jsx)("div",{className:"col-2",children:(0,at.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100",onClick:R,children:(0,at.jsx)("i",{className:"fa fa-sync-alt"})})})]}),(0,at.jsx)("div",{className:"d-grid",children:(0,at.jsxs)("button",{type:"submit",className:"btn btn-outline-success btn-sm",children:[(0,at.jsx)("i",{className:"fa fa-search"})," BUSCAR TRANSFERENCIAS"]})})]}),(0,at.jsx)("hr",{}),(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,at.jsx)("h6",{className:"mb-0",children:"Lista de Transferencias"}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return q(!H)},children:(0,at.jsx)("i",{className:"fas ".concat(H?"fa-chevron-up":"fa-chevron-down")})})]}),(0,at.jsx)("div",{className:"transition-all duration-300 ".concat(H?"max-h-[60vh]":"max-h-0"," overflow-hidden"),children:(0,at.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"60vh"},children:a.length?a.map((function(e,t){return e?(0,at.jsx)("div",{onClick:function(){return i(t)},"data-index":t,className:"card mb-2 pointer hover-shadow ".concat(s===t?"border-primary":""),children:(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("div",{className:"row g-0 align-items-center",children:[(0,at.jsx)("div",{className:(1==e.estado?"bg-danger text-light":3==e.estado?"bg-warning text-dark":4==e.estado?"bg-info text-light":"")+" col-auto d-flex align-items-center justify-content-center p-3 rounded-start",style:{minHeight:"100%",fontSize:"1.2rem"},children:1==e.estado?(0,at.jsx)("i",{className:"fas fa-exclamation-circle"}):3==e.estado?(0,at.jsx)("i",{className:"fas fa-search"}):4==e.estado?(0,at.jsx)("i",{className:"fas fa-check-circle"}):(0,at.jsx)("i",{className:"fas fa-question-circle"})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"ps-2",children:[(0,at.jsxs)("div",{className:(s===t?"fw-bold":"text-secondary")+" d-flex flex-column flex-sm-row justify-content-between align-items-start w-100 mb-1",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("span",{className:"badge bg-secondary me-2",children:["#",e.id]}),(0,at.jsx)("span",{className:"badge",style:{backgroundColor:e.origen.background,color:e.origen.color||"#fff"},children:e.origen.codigo})]}),(0,at.jsxs)("span",{className:"text-muted fst-italic small mt-1 mt-sm-0",children:["ITEMS: ",(0,at.jsx)("b",{children:e.items.length})]})]}),e.cxp&&(0,at.jsxs)("div",{className:"small fw-bold mb-1",children:[(0,at.jsx)("span",{className:"text-sinapsis me-2",children:e.cxp?"FACT "+e.cxp.numfact:null}),(0,at.jsxs)("span",{children:[e.cxp?e.cxp.proveedor.descripcion.substr(0,20):null,e.cxp&&e.cxp.proveedor.descripcion.length>20?"...":""]})]}),(0,at.jsx)("div",{className:"text-center text-sm-start w-100",children:(0,at.jsx)("small",{className:"text-muted fst-italic",children:e.created_at})})]})})]})})},e.id):null})):(0,at.jsx)("div",{className:"h5 text-center text-muted mt-4 p-3 border rounded",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})})})]})})}),(0,at.jsx)("div",{className:"col-lg-9 col-md-8 col-12",children:l?(0,at.jsxs)("div",{className:"card shadow-sm",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsx)("h3",{children:"Importar Pedido"})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"form-group mb-3",children:[(0,at.jsx)("label",{htmlFor:"headerPedido",className:"form-label",children:"Cabecera del pedido"}),(0,at.jsx)("input",{id:"headerPedido",type:"text",className:"form-control",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Cabecera del pedido"})]}),(0,at.jsxs)("div",{className:"form-group mb-3",children:[(0,at.jsx)("label",{htmlFor:"bodyPedido",className:"form-label",children:"Cuerpo del pedido"}),(0,at.jsx)("textarea",{id:"bodyPedido",className:"form-control",value:f,onChange:function(e){return h(e.target.value)},placeholder:"Cuerpo del pedido",rows:"10"})]}),(0,at.jsx)("div",{className:"d-grid",children:(0,at.jsxs)("button",{className:"btn btn-primary btn-lg",onClick:p,children:[(0,at.jsx)("i",{className:"fa fa-upload me-2"}),"Importar"]})})]})]}):(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsx)("div",{className:"card-body",children:null!==s&&a&&a[s]?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between align-items-start p-2 border rounded mb-3 bg-light",children:[(0,at.jsxs)("div",{className:"mb-2 mb-sm-0",children:[(0,at.jsx)("small",{className:"text-muted fst-italic d-block",children:a[s].created_at}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("span",{className:"fs-4 fw-bold me-2",children:"ID:"}),(0,at.jsxs)("span",{className:"btn btn-secondary btn-sm",onClick:function(){return q(!H)},children:[a[s].id," ",(0,at.jsx)("i",{className:"fas ".concat(H?"fa-chevron-up":"fa-chevron-down"," ms-1")})]})]})]}),(0,at.jsxs)("div",{className:"text-sm-end",children:[(0,at.jsxs)("div",{className:"mb-1",children:[(0,at.jsx)("span",{className:"h6 text-muted font-italic",children:"Base: "}),(0,at.jsx)("span",{className:"h6 text-sinapsis",children:c(a[s].base)})]}),(0,at.jsxs)("div",{className:"mb-1",children:[(0,at.jsx)("span",{className:"h6 text-muted font-italic",children:"Venta: "}),(0,at.jsx)("span",{className:"h5 text-success fw-bold",children:c(a[s].venta)})]}),(0,at.jsxs)("span",{className:"h6 text-muted",children:["Items: ",(0,at.jsx)("b",{children:a[s].items.length})]})]})]}),(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-search"})}),(0,at.jsx)("input",{type:"text",className:"form-control fs-5",placeholder:"Buscar producto en transferencia...",value:L,onChange:function(e){return B(e.target.value)}}),(0,at.jsx)("span",{className:"input-group-text pointer",onClick:function(){return F("setbuscarDatosFact")},children:(0,at.jsx)("i",{className:"fas fa-barcode"})})]}),Q&&a[s]&&(0,at.jsx)("div",{children:a[s].items.filter((function(e){if(!L)return!0;var t=L.toLowerCase();return e.producto.codigo_barras&&e.producto.codigo_barras.toLowerCase().includes(t)||e.producto.codigo_proveedor&&e.producto.codigo_proveedor.toLowerCase().includes(t)||e.producto.descripcion&&e.producto.descripcion.toLowerCase().includes(t)})).map((function(e,t){return(0,at.jsxs)("div",{className:"mb-3 border rounded p-3 ".concat(e.aprobado?"bg-success-light":"bg-light"),children:[1!==e.super&&e.vinculo_sugerido&&(0,at.jsxs)("div",{className:"mb-2 p-2 border rounded bg-light-warning",children:[(0,at.jsx)("small",{className:"text-muted d-block mb-1",children:"Sugerido por Suc. Destino:"}),e.vinculo_real&&(0,at.jsxs)("button",{className:"btn btn-warning btn-sm fs-10px mb-1",children:[e.vinculo_real," ",(0,at.jsx)("i",{className:"fa fa-link"})]}),(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:[(0,at.jsx)("strong",{children:"Desc:"})," ",e.vinculo_sugerido.descripcion]})}),(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:[(0,at.jsx)("strong",{children:"Barras:"})," ",e.vinculo_sugerido.codigo_barras]})}),(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:[(0,at.jsx)("strong",{children:"Proveedor:"})," ",e.vinculo_sugerido.codigo_proveedor]})})]}),(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,at.jsx)("div",{children:void 0===e.aprobado?(0,at.jsxs)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-outline-danger btn-sm me-2",children:[(0,at.jsx)("i",{className:"fa fa-times"})," ",t+1]}):e.aprobado?(0,at.jsxs)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-success btn-sm me-2",children:[" ",(0,at.jsx)("i",{className:"fa fa-check"})," ",t+1]}):(0,at.jsxs)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-outline-secondary btn-sm me-2",children:[(0,at.jsx)("i",{className:"fa fa-ban"})," ",t+1," "]})}),(0,at.jsx)("i",{className:"fa fa-question-circle text-warning fa-lg pointer",onClick:function(){return X(Y!==t?t:null)}})]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("strong",{children:"Barras:"})," ",e.producto.codigo_barras||(0,at.jsx)("small",{className:"text-muted",children:"N/A"})]}),Y===t&&(0,at.jsx)("input",{className:"form-control form-control-sm mb-2",type:"text",value:e.barras_real||"","data-index":t,"data-tipo":"changebarras_real",onChange:r,placeholder:"Corregir Barras..."}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("strong",{children:"Proveedor:"})," ",e.producto.codigo_proveedor||(0,at.jsx)("small",{className:"text-muted",children:"N/A"})]}),Y===t&&(0,at.jsx)("input",{className:"form-control form-control-sm mb-2",type:"text",value:e.alterno_real||"","data-index":t,"data-tipo":"changealterno_real",onChange:r,placeholder:"Corregir Alterno..."}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("strong",{children:"Descripción:"})," ",e.producto.descripcion," ",(0,at.jsxs)("small",{className:"text-muted ms-1",children:["(",a[s].origen.codigo,")"]})]}),Y===t&&(0,at.jsx)("input",{className:"form-control form-control-sm mb-2",type:"text",value:e.descripcion_real||"","data-index":t,"data-tipo":"changedescripcion_real",onChange:r,placeholder:"Corregir Descripción..."}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-6 mb-2",children:[(0,at.jsx)("strong",{children:"Cantidad:"})," ",e.cantidad]}),Y===t&&(0,at.jsx)("div",{className:"col-6 mb-2",children:(0,at.jsx)("input",{className:"form-control form-control-sm",type:"text",value:e.ct_real||"","data-index":t,"data-tipo":"changect_real",onChange:r,placeholder:"Corregir Ct..."})})]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-6 mb-2 text-sinapsis",children:[(0,at.jsx)("strong",{children:"Base:"})," ",c(e.base)]}),(0,at.jsxs)("div",{className:"col-6 mb-2 text-success",children:[(0,at.jsx)("strong",{children:"Venta:"})," ",c(e.venta)]})]}),(0,at.jsxs)("div",{className:"mb-2 text-end fw-bold",children:[(0,at.jsx)("strong",{children:"Monto:"})," ",c(e.monto)]}),1===e.super&&(0,at.jsxs)("div",{className:"text-center p-2 mt-2 rounded",style:{background:"linear-gradient(45deg, rgb(255, 215, 0), rgb(255, 165, 0))",color:"#000",fontStyle:"italic"},children:[(0,at.jsx)("i",{className:"fa fa-globe"})," SUPER GLOBAL"]})]},e.id)}))}),!Q&&a[s]&&(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm table-bordered table-hover",children:[(0,at.jsx)("thead",{className:"table-light",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:(0,at.jsx)("small",{children:"Verificar"})}),(0,at.jsx)("th",{children:"ID"}),(0,at.jsxs)("th",{children:["Barras ",null!==Y?"/ Corregir":""]}),(0,at.jsxs)("th",{children:["Alterno ",null!==Y?"/ Corregir":""]}),(0,at.jsxs)("th",{children:["Descripción ",null!==Y?"/ Corregir":""]}),(0,at.jsxs)("th",{className:"text-center",children:["Cant. ",null!==Y?"/ Corregir":""]}),(0,at.jsx)("th",{className:"text-end",children:"Base"}),(0,at.jsx)("th",{className:"text-end",children:"Venta"}),(0,at.jsx)("th",{className:"text-end",children:"Subtotal"})]})}),(0,at.jsx)("tbody",{children:a[s].items.filter((function(e){if(!L)return!0;var t=L.toLowerCase();return e.producto.codigo_barras&&e.producto.codigo_barras.toLowerCase().includes(t)||e.producto.codigo_proveedor&&e.producto.codigo_proveedor.toLowerCase().includes(t)||e.producto.descripcion&&e.producto.descripcion.toLowerCase().includes(t)})).map((function(e,t){return(0,at.jsx)(o.Fragment,{children:(0,at.jsxs)("tr",{style:1===e.super?{background:"linear-gradient(45deg, #FFD700, #FFA500)",color:"#000",fontWeight:"bold",boxShadow:"0 0 10px rgba(255, 215, 0, 0.5)"}:{},className:e.aprobado?"bg-success-light":"",children:[(0,at.jsx)("td",{className:"align-middle",children:(0,at.jsx)("div",{className:"btn-group",children:void 0===e.aprobado?(0,at.jsx)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-outline-danger btn-sm",children:(0,at.jsx)("i",{className:"fa fa-times"})}):e.aprobado?(0,at.jsx)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-success btn-sm",children:(0,at.jsx)("i",{className:"fa fa-check"})}):(0,at.jsx)("button",{onClick:r,"data-index":t,"data-tipo":"select",className:"btn btn-outline-secondary btn-sm",children:(0,at.jsx)("i",{className:"fa fa-ban"})})})}),(0,at.jsx)("td",{className:"align-middle",children:e.id}),(0,at.jsx)("td",{className:"align-middle",children:e.producto.codigo_barras||(0,at.jsx)("small",{className:"text-muted",children:"N/A"})}),(0,at.jsx)("td",{className:"align-middle",children:e.producto.codigo_proveedor||(0,at.jsx)("small",{className:"text-muted",children:"N/A"})}),(0,at.jsxs)("td",{className:"align-middle",children:[e.producto.descripcion," ",(0,at.jsxs)("small",{className:"text-muted",children:["(",a[s].origen.codigo,")"]})]}),(0,at.jsx)("td",{className:"align-middle text-center",children:e.cantidad.toString().replace(/\.00/,"")}),(0,at.jsx)("td",{className:"align-middle text-end text-sinapsis",children:c(e.base)}),(0,at.jsx)("td",{className:"align-middle text-end text-success",children:c(e.venta)}),(0,at.jsx)("td",{className:"align-middle text-end fw-bold",children:c(e.monto)})]})},e.id)}))})]})}),a[s]&&!a[s].items.filter((function(e){return void 0===e.aprobado})).length&&(0,at.jsx)("div",{className:"d-grid mt-3",children:(0,at.jsxs)("button",{className:"btn btn-success btn-lg",onClick:n,children:[(0,at.jsx)("i",{className:"fa fa-save me-2"}),"Guardar Pedido Verificado"]})})]}):(0,at.jsxs)("div",{className:"text-center p-5 border rounded bg-light",children:[(0,at.jsx)("i",{className:"fas fa-hand-pointer fa-3x text-muted mb-3"}),(0,at.jsx)("h5",{children:"Seleccione una transferencia"}),(0,at.jsx)("p",{className:"text-muted",children:"Haz clic en una transferencia de la lista de la izquierda para ver sus detalles aquí."})]})})})})]})]}):null,"pedidos_send"==z?(0,at.jsx)(fn,{}):null]})}catch(e){return alert("Error en PedidosCentral.js"+e),""}}function gn(e){var t=e.cierres,r=e.fechaGetCierre,n=e.setfechaGetCierre,a=e.getCierres,o=e.verCierreReq,i=e.fechaGetCierre2,s=e.setfechaGetCierre2,c=e.tipoUsuarioCierre,l=e.settipoUsuarioCierre;return(0,at.jsxs)("div",{className:"container-fluid p-0",children:[(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"date",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:i,onChange:function(e){return s(e.target.value)}}),(0,at.jsxs)("select",{className:"form-control",value:c,onChange:function(e){return l(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Todos"}),(0,at.jsx)("option",{value:"1",children:"Administrador"}),(0,at.jsx)("option",{value:"0",children:"Cajero"})]}),(0,at.jsx)("div",{className:"inputr-group-append",children:(0,at.jsx)("button",{className:"btn",onClick:a,children:(0,at.jsx)("i",{className:"fa fa-search"})})})]}),(0,at.jsx)("table",{className:"table table-sm",children:(0,at.jsxs)("thead",{children:[(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Cajero"}),(0,at.jsx)("th",{children:"Num. Ventas"}),(0,at.jsx)("th",{children:"Débito"}),(0,at.jsx)("th",{children:"Efectivo"}),(0,at.jsx)("th",{children:"Transferencia"}),(0,at.jsx)("th",{children:"Dejar $"}),(0,at.jsx)("th",{children:"Dejar COP"}),(0,at.jsx)("th",{children:"Dejar BS."}),(0,at.jsx)("th",{children:"Guardado $"}),(0,at.jsx)("th",{children:"Guardado COP"}),(0,at.jsx)("th",{children:"Guardado BS"}),(0,at.jsx)("th",{children:"Actual $"}),(0,at.jsx)("th",{children:"Actual COP"}),(0,at.jsx)("th",{children:"Actual BS"}),(0,at.jsx)("th",{children:"Actual Biopago BS"}),(0,at.jsx)("th",{children:"Actual Punto BS"}),(0,at.jsx)("th",{children:"Tasa"}),(0,at.jsx)("th",{children:"Fecha"})]}),t&&t.cierres&&t.cierres.length?t.cierres.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.usuario.usuario}),(0,at.jsx)("td",{children:e.numventas}),(0,at.jsx)("td",{children:e.debito}),(0,at.jsx)("td",{children:e.efectivo}),(0,at.jsx)("td",{children:e.transferencia}),(0,at.jsx)("td",{children:e.dejar_dolar}),(0,at.jsx)("td",{children:e.dejar_peso}),(0,at.jsx)("td",{children:e.dejar_bss}),(0,at.jsx)("td",{children:e.efectivo_guardado}),(0,at.jsx)("td",{children:e.efectivo_guardado_cop}),(0,at.jsx)("td",{children:e.efectivo_guardado_bs}),(0,at.jsx)("td",{children:e.efectivo_actual}),(0,at.jsx)("td",{children:e.efectivo_actual_cop}),(0,at.jsx)("td",{children:e.efectivo_actual_bs}),(0,at.jsx)("td",{children:e.caja_biopago}),(0,at.jsx)("td",{children:e.puntodeventa_actual_bs}),(0,at.jsx)("td",{children:e.tasa}),(0,at.jsx)("th",{children:e.fecha}),(0,at.jsxs)("td",{children:[(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e.fecha,"ver",e.id_usuario)},type:"button",children:"Ver"}),(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e.fecha,"enviar",e.id_usuario)},type:"button",children:(0,at.jsx)("i",{className:"fa fa-send"})})]})]},e.id)})):null,(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{}),(0,at.jsx)("th",{children:t.numventas}),(0,at.jsx)("th",{children:t.debito}),(0,at.jsx)("th",{children:t.efectivo}),(0,at.jsx)("th",{children:t.transferencia}),(0,at.jsx)("th",{children:t.dejar_dolar}),(0,at.jsx)("th",{children:t.dejar_peso}),(0,at.jsx)("th",{children:t.dejar_bss}),(0,at.jsx)("th",{children:t.efectivo_guardado}),(0,at.jsx)("th",{children:t.efectivo_guardado_cop}),(0,at.jsx)("th",{children:t.efectivo_guardado_bs}),(0,at.jsx)("th",{children:t.efectivo_actual}),(0,at.jsx)("th",{children:t.efectivo_actual_cop}),(0,at.jsx)("th",{children:t.efectivo_actual_bs}),(0,at.jsx)("th",{children:t.caja_biopago}),(0,at.jsx)("th",{children:t.puntodeventa_actual_bs})]})]})}),(0,at.jsxs)("h1",{children:["Total ",(0,at.jsx)("b",{children:r})," - ",(0,at.jsx)("b",{children:i})]}),t&&t.numventas?(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"bg-success text-right",children:"Inversión"}),(0,at.jsx)("th",{className:"bg-success text-right",children:"Venta"}),(0,at.jsx)("th",{className:"bg-success text-right",children:"Ganancia Estimada"}),(0,at.jsx)("th",{className:"bg-success text-right",children:"Porcentaje promedio"})]})}),(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"fw-bold text-right",children:t.precio_base}),(0,at.jsx)("td",{className:"fw-bold text-right",children:t.precio}),(0,at.jsx)("td",{className:"fw-bold  text-success text-right",children:t.ganancia}),(0,at.jsxs)("td",{className:"fw-bold text-right",children:[t.porcentaje,"%"]})]})})]}):null]})}const vn=function(e){var t=e.dataPuntosAdicionales,r=e.setdataPuntosAdicionales,n=e.addTuplasPuntosAdicionales,a=e.tipoUsuarioCierre,i=e.settipoUsuarioCierre,s=(e.moneda,e.caja_usd),c=e.caja_cop,l=e.caja_bs,u=e.caja_punto,d=(e.setcaja_biopago,e.caja_biopago),f=e.notaCierre,h=e.dejar_usd,p=e.dejar_cop,m=e.dejar_bs,g=(e.setDejar_usd,e.setDejar_cop,e.setDejar_bs,e.onchangecaja),v=e.cierre,x=e.cerrar_dia,b=e.total_caja_neto,y=e.total_punto,j=e.total_biopago,w=e.fechaCierre,N=(e.setFechaCierre,e.viewCierre),_=e.setViewCierre,C=e.toggleDetallesCierre,E=e.setToggleDetallesCierre,S=e.guardar_cierre,A=(e.sendCuentasporCobrar,e.total_dejar_caja_neto),I=e.guardar_usd,O=e.setguardar_usd,T=e.guardar_cop,P=e.setguardar_cop,k=e.guardar_bs,D=e.setguardar_bs,M=e.number,R=e.billete1,F=e.billete5,L=e.billete10,B=e.billete20,U=e.billete50,z=e.billete100,V=e.setbillete1,G=e.setbillete5,H=e.setbillete10,q=e.setbillete20,W=e.setbillete50,Y=e.setbillete100,X=(e.setCaja_usd,e.setCaja_cop,e.setCaja_bs,e.setCaja_punto),$=e.veryenviarcierrefun,Q=e.dolar,Z=e.peso,K=e.cierres,J=e.fechaGetCierre,ee=e.setfechaGetCierre,te=e.fechaGetCierre2,re=e.setfechaGetCierre2,ne=e.getCierres,ae=e.verCierreReq,oe=e.auth,ie=e.totalizarcierre,se=(e.setTotalizarcierre,e.tipo_accionCierre),ce=(e.settipo_accionCierre,e.getTotalizarCierre),le=e.cierrenumreportez,ue=e.setcierrenumreportez,de=e.cierreventaexcento,fe=e.setcierreventaexcento,he=e.cierreventagravadas,pe=e.setcierreventagravadas,me=e.cierreivaventa,ge=e.setcierreivaventa,ve=e.cierretotalventa,xe=e.setcierretotalventa,be=e.cierreultimafactura,ye=e.setcierreultimafactura,je=(e.cierreefecadiccajafbs,e.setcierreefecadiccajafbs,e.cierreefecadiccajafcop,e.setcierreefecadiccajafcop,e.cierreefecadiccajafdolar,e.setcierreefecadiccajafdolar,e.cierreefecadiccajafeuro,e.setcierreefecadiccajafeuro,e.fun_setguardar),we=(e.setCajaFuerteEntradaCierreDolar,e.CajaFuerteEntradaCierreDolar),Ne=(e.setCajaFuerteEntradaCierreCop,e.CajaFuerteEntradaCierreCop),_e=(e.setCajaFuerteEntradaCierreBs,e.CajaFuerteEntradaCierreBs),Ce=(e.setCajaChicaEntradaCierreDolar,e.CajaChicaEntradaCierreDolar,e.setCajaChicaEntradaCierreCop,e.CajaChicaEntradaCierreCop,e.setCajaChicaEntradaCierreBs,e.CajaChicaEntradaCierreBs,e.setcajaFuerteFun),Ee=(e.lote1punto,e.setlote1punto,e.montolote1punto),Se=(e.setmontolote1punto,e.lote2punto,e.setlote2punto,e.montolote2punto),Ae=(e.setmontolote2punto,e.serialbiopago),Ie=e.setserialbiopago,Oe=(e.lotespuntototalizar,e.biopagostotalizar),Te=(e.puntolote1banco,e.puntolote2banco,e.setpuntolote1banco,e.setpuntolote2banco,e.reversarCierre),Pe=e.bancos;(0,o.useEffect)((function(){var e=parseFloat(Ee),t=parseFloat(Se);t="NaN"!=t&&t?t:"",(e="NaN"!=e&&e?e:"")&&X(e+t)}),[Ee,Se]),(0,o.useEffect)((function(){P(c-p),D(l-m)}),[I,m,p]);var ke=(parseFloat(we)+parseFloat(Ne/Z)+parseFloat(_e/Q)).toFixed(2),De=0,Me=function(e,n,a){var o=(0,Ke.cloneDeep)(t);o=o.map((function(t,r){return r==n&&(t[e]=a,"monto"==e&&(De+="NaN"!=a&&a?parseFloat(a):"")),r!=n&&"monto"==e&&(De+=parseFloat(t.monto)),t})),"monto"==e&&X(De),r(o)};return(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"container-fluid",children:[(0,at.jsx)("div",{className:"row",children:(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("div",{className:"btn-group mb-1",children:[(0,at.jsx)("button",{className:("cuadre"==N?"btn-":"btn-outline-")+"sinapsis btn",onClick:function(){return _("cuadre")},children:"Cuadre"}),oe(1)?(0,at.jsx)("button",{className:("historico"==N?"btn-":"btn-outline-")+"sinapsis btn",onClick:function(){return _("historico")},children:"Histórico"}):null]}),(0,at.jsx)("br",{})]})}),(0,at.jsx)("br",{}),"cuadre"==N?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis",onClick:x,children:(0,at.jsx)("i",{className:"fa fa-cogs"})}),(0,at.jsx)("input",{type:"date",disabled:!0,value:w,className:"form-control",onChange:null})]}),v.fecha?(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsxs)("div",{className:"btn-group mt-2 mb-2 w-30",children:["guardar"==se?(0,at.jsx)("button",{className:"btn-sm btn btn-outline-success",onClick:S,type:"button",children:"Guardar"}):(0,at.jsx)("button",{className:"btn-sm btn btn-warning",onClick:S,type:"button",children:"Editar"}),(0,at.jsx)("button",{className:"btn-sm btn btn-sinapsis",onClick:$,type:"button","data-type":"ver",children:"Ver"}),(0,at.jsx)("button",{className:"btn btn-sm",onClick:function(){return E(!C)},children:"Ver detalles"})]}),(0,at.jsxs)("div",{className:"d-flex flex-column",children:[(0,at.jsxs)("div",{className:"btn-group mt-2 mb-2",children:[oe(1)?(0,at.jsx)("button",{className:"btn "+(ie?"btn-success":"")+" btn-lg",onClick:function(){return ce()},children:"Totalizar"}):null,ie?(0,at.jsx)("button",{className:"btn btn-warning",onClick:$,type:"button","data-type":"enviar",children:"Enviar Cierre"}):null]}),(0,at.jsxs)("span",{children:[ie?"Totalizando ":"Cajero "," ",v.fecha?v.usuariosget.map((function(e){return(0,at.jsxs)("span",{children:[" ",e.usuario," "]},e.id)})):null]})]})]}):null,v.fecha?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("form",{onSubmit:x,children:[(0,at.jsx)("button",{hidden:!0}),(0,at.jsxs)("div",{className:"container-fluid p-0",children:[C?(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{children:[(0,at.jsxs)("td",{children:[(0,at.jsx)("span",{className:"fw-bold",children:"Entregado:"})," ",v.entregado]}),(0,at.jsxs)("td",{children:[(0,at.jsx)("span",{className:"fw-bold",children:"Pendiente:"})," ",v.pendiente]}),(0,at.jsxs)("td",{children:[(0,at.jsx)("span",{className:"fw-bold",children:"Caja inicial:"})," ",v.caja_inicial]})]})})}):null,(0,at.jsxs)("div",{className:"p-3 card shadow-card mb-2 mt-2",children:[(0,at.jsx)("div",{className:"row mb-2 border-bottom",children:(0,at.jsx)("div",{className:"col h3 text-center",children:"¿Cuánto hay en caja?"})}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"Billetes $"}),(0,at.jsx)("div",{className:"col font-weight-bold align-middle",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"h5",children:"1"}),(0,at.jsx)("input",{type:"text",value:R,name:"billete1",onChange:function(e){return V(M(e.target.value))},className:"input-50",placeholder:"1 $"}),(0,at.jsx)("span",{className:"h5",children:"5"}),(0,at.jsx)("input",{type:"text",value:F,name:"billete5",onChange:function(e){return G(M(e.target.value))},className:"input-50",placeholder:"5 $"}),(0,at.jsx)("span",{className:"h5",children:"10"}),(0,at.jsx)("input",{type:"text",value:L,name:"billete10",onChange:function(e){return H(M(e.target.value))},className:"input-50",placeholder:"10 $"}),(0,at.jsx)("span",{className:"h5",children:"20"}),(0,at.jsx)("input",{type:"text",value:B,name:"billete20",onChange:function(e){return q(M(e.target.value))},className:"input-50",placeholder:"20 $"}),(0,at.jsx)("span",{className:"h5",children:"50"}),(0,at.jsx)("input",{type:"text",value:U,name:"billete50",onChange:function(e){return W(M(e.target.value))},className:"input-50",placeholder:"50 $"}),(0,at.jsx)("span",{className:"h5",children:"100"}),(0,at.jsx)("input",{type:"text",value:z,name:"billete100",onChange:function(e){return Y(M(e.target.value))},className:"input-50",placeholder:"100 $"})]})})]}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2"}),(0,at.jsxs)("div",{className:"col",children:["$ ",(0,at.jsx)("input",{type:"text",placeholder:"$",name:"caja_usd",value:s,onChange:g})]}),(0,at.jsxs)("div",{className:"col",children:["P ",(0,at.jsx)("input",{type:"text",placeholder:"COP",name:"caja_cop",value:c,onChange:g})]}),(0,at.jsxs)("div",{className:"col",children:["Bs. ",(0,at.jsx)("input",{type:"text",placeholder:"Bs.",name:"caja_bs",value:l,onChange:g})]})]}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"Total Caja Actual en $"}),(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("input",{type:"text",value:b,className:"form-control",disabled:!0})})]}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"LOTES"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"CATEGORÍA"}),(0,at.jsx)("th",{children:"MONTO"}),(0,at.jsx)("th",{children:"LOTE"}),(0,at.jsx)("th",{children:"BANCO"}),(0,at.jsx)("th",{children:(0,at.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){return n("add",null)},children:(0,at.jsx)("i",{className:"fa fa-plus"})})})]})}),(0,at.jsx)("tbody",{children:t.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsxs)("select",{className:"form-control",disabled:ie,value:e.categoria,onChange:function(e){return Me("categoria",t,e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"-"}),(0,at.jsx)("option",{value:"DEBITO",children:"DEBITO"}),(0,at.jsx)("option",{value:"CREDITO",children:"CREDITO"})]})}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",disabled:ie,value:e.monto,placeholder:"monto",onChange:function(e){return Me("monto",t,M(e.target.value))}})}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",disabled:ie,value:e.descripcion,placeholder:"numlote",onChange:function(e){return Me("descripcion",t,e.target.value)}})}),(0,at.jsx)("td",{children:(0,at.jsx)("select",{className:"form-control",disabled:ie,value:e.banco,onChange:function(e){return Me("banco",t,e.target.value)},children:Pe.filter((function(e){return"0134"!=e.value})).map((function(e,t){return(0,at.jsx)("option",{value:e.value,children:e.text},t)}))})}),(0,at.jsxs)("td",{children:[" ",(0,at.jsx)("i",{className:"fa fa-times text-danger",onClick:function(){return n("delete",t)}})," "]})]},t)}))})]})})]}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"Total Punto de Venta en Bs"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Punto de venta Bs.",name:"caja_punto",value:u,onChange:g,disabled:!0})})]}),ie?(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"BIOPAGOS"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:Oe.map((function(e,t){return(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"MONTO BIOPAGO 1",name:"",defaultValue:e.monto,disabled:!0})}),(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"BIOPAGO SERIAL",name:"",defaultValue:e.serial,disabled:!0})]},t)}))})]}):(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"SERIAL Biopago"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"SERIAL Biopago",name:"serialbiopago",value:Ae,onChange:function(e){return Ie(e.target.value)}})})]}),(0,at.jsxs)("div",{className:"row mb-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"Total Biopago en Bs"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Biopago Bs.",name:"caja_biopago",value:d,onChange:g})})]})]}),(0,at.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,at.jsx)("div",{className:"row p-2 border-bottom",children:(0,at.jsx)("div",{className:"col h3 text-center",children:"¿Cuánto dejarás en caja?"})}),(0,at.jsxs)("div",{className:"row p-2",children:[(0,at.jsx)("div",{className:"col-2"}),(0,at.jsxs)("div",{className:"col",children:["$ ",(0,at.jsx)("input",{type:"text",placeholder:"$",name:"dejar_usd",value:h,onChange:g})]}),(0,at.jsxs)("div",{className:"col",children:["P ",(0,at.jsx)("input",{type:"text",placeholder:"COP",name:"dejar_cop",value:p,onChange:g})]}),(0,at.jsxs)("div",{className:"col",children:["Bs. ",(0,at.jsx)("input",{type:"text",placeholder:"Bs.",name:"dejar_bs",value:m,onChange:g})]})]}),(0,at.jsxs)("div",{className:"row p-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right",children:"Total Dejar Caja"}),(0,at.jsx)("div",{className:"col align-middle text-center",children:(0,at.jsx)("input",{type:"text",value:A,className:"form-control",disabled:!0})})]})]}),(0,at.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,at.jsx)("div",{className:"row p-2 border-bottom",children:(0,at.jsx)("div",{className:"col h3 text-center",children:"Cuadre Final"})}),(0,at.jsxs)("div",{className:"row p-2",children:[(0,at.jsx)("div",{className:"col-2 text-succes text-right font-weight-bold"}),(0,at.jsx)("div",{className:"col text-success",children:"Facturado Real"}),(0,at.jsx)("div",{className:"col text-success",children:"Facturado Digital"}),(0,at.jsx)("div",{className:"col"})]}),(0,at.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,at.jsx)("div",{className:(1==v.estado_efec?"text-success":"text-danger")+" col-2 text-right h5",children:"Efectivo"}),(0,at.jsx)("div",{className:"col",children:v.total_caja?v.total_caja:0}),(0,at.jsx)("div",{className:"col align-middle",children:v[3]?v[3].toFixed(2):null}),(0,at.jsx)("div",{className:"col text-right",children:(0,at.jsx)("div",{className:1==v.estado_efec?"text-success":"text-danger",children:(0,at.jsx)("span",{className:"fst-italic fs-2",children:v.msj_efec?v.msj_efec:null})})})]}),(0,at.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,at.jsx)("div",{className:(1==v.estado_punto?"text-success":"text-danger")+" col-2 text-right h5",children:"Débito"}),(0,at.jsx)("div",{className:"col",children:y}),(0,at.jsx)("div",{className:"col align-middle",children:v[2]?v[2].toFixed(2):null}),(0,at.jsx)("div",{className:"col text-right",children:(0,at.jsx)("div",{className:1==v.estado_punto?"text-success":"text-danger",children:(0,at.jsx)("span",{className:"fst-italic fs-2",children:v.msj_punto?v.msj_punto:null})})})]}),(0,at.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,at.jsx)("div",{className:(1==v.estado_biopago?"text-success":"text-danger")+" col-2 text-right h5",children:"Biopago"}),(0,at.jsx)("div",{className:"col",children:j}),(0,at.jsx)("div",{className:"col align-middle",children:v[5]?v[5].toFixed(2):null}),(0,at.jsx)("div",{className:"col text-right",children:(0,at.jsx)("div",{className:1==v.estado_biopago?"text-success":"text-danger",children:(0,at.jsx)("span",{className:"fst-italic fs-2",children:v.msj_biopago?v.msj_biopago:null})})})]}),(0,at.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right h5",children:"Transferencia"}),(0,at.jsx)("div",{className:"col",children:v[1]?v[1].toFixed(2):null}),(0,at.jsx)("div",{className:"col",children:v[1]?v[1].toFixed(2):null}),(0,at.jsx)("div",{className:"col"})]}),(0,at.jsxs)("div",{className:"row p-2",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right h5",children:"Nota"}),(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("textarea",{name:"notaCierre",placeholder:"Novedades...",value:f||"",onChange:g,cols:"40",rows:"2"})}),(0,at.jsx)("div",{className:"col"})]})]}),(0,at.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-2 text-success text-right font-weight-bold h5",children:"Control de Efectivo"}),(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("span",{className:"text-success fs-3 fw-bold",children:v.efectivo_guardado?v.efectivo_guardado:null})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"$",name:"guardar_usd",value:I,onChange:function(e){return O(M(e.target.value))},disabled:!0}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"USD($)"})})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"COP",name:"guardar_cop",value:T,disabled:!0,onChange:function(e){return je("setguardar_cop",M(e.target.value),v)}}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"COP."})})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Bs.",name:"guardar_bs",value:k,disabled:!0,onChange:function(e){return je("setguardar_bs",M(e.target.value),v)}}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"Bs."})})]})})]}),(0,at.jsx)("hr",{}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-2 text-primary text-right font-weight-bold h5 align-items-center d-flex justify-content-end",children:"Caja Fuerte"}),(0,at.jsx)("div",{className:"col",children:(0,at.jsx)("span",{className:"text-primary fs-3 fw-bold",children:ke})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"$",name:"CajaFuerteEntradaCierreDolar",value:we,onChange:function(e){return Ce("setCajaFuerteEntradaCierreDolar",M(e.target.value))},disabled:!0}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"USD($)"})})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"COP",name:"CajaFuerteEntradaCierreCop",value:Ne,onChange:function(e){return Ce("setCajaFuerteEntradaCierreCop",M(e.target.value))},disabled:!0}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"COP."})})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Bs.",name:"CajaFuerteEntradaCierreBs",value:_e,onChange:function(e){return Ce("setCajaFuerteEntradaCierreBs",M(e.target.value))},disabled:!0}),(0,at.jsx)("div",{className:"input-group-prepend w-50",children:(0,at.jsx)("span",{className:"input-group-text",children:"Bs."})})]})})]})]}),(0,at.jsx)("div",{className:"p-3 card shadow-card mb-2",children:(0,at.jsx)("table",{className:"table",children:(0,at.jsxs)("tbody",{children:[(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"# de Reporte Z"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:le,onChange:function(e){return ue(e.target.value)}})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Venta Exento"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:de,onChange:function(e){return fe(M(e.target.value))}})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Ventas Gravadas (16%)"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:he,onChange:function(e){return pe(M(e.target.value))}})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"IVA Ventas"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:me,onChange:function(e){return ge(M(e.target.value))}})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Total Ventas"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:ve,onChange:function(e){return xe(M(e.target.value))}})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Última Factura"}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control",value:be,onChange:function(e){return ye(e.target.value)}})})]}),(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:2})})]})})})]})]}),(0,at.jsx)("div",{className:"mt-2",children:oe(1)&&ie?(0,at.jsx)("button",{type:"button",className:"btn-danger btn-lg",onClick:function(){return Te()},children:"Reversar Cierre"}):null})]}):(0,at.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,at.jsx)("button",{className:"btn btn-xl btn-success",onClick:x,children:"¡Cerremos el día!"})})]}):null,"historico"==N?(0,at.jsx)(gn,{cierres:K,fechaGetCierre:J,setfechaGetCierre:ee,fechaGetCierre2:te,setfechaGetCierre2:re,getCierres:ne,verCierreReq:ae,tipoUsuarioCierre:a,settipoUsuarioCierre:i}):null]})})})})};const xn=function(e){var t=e.setProveedor,r=e.proveedordescripcion,n=e.setproveedordescripcion,a=e.proveedorrif,o=e.setproveedorrif,i=e.proveedordireccion,s=e.setproveedordireccion,c=e.proveedortelefono,l=e.setproveedortelefono,u=e.setIndexSelectProveedores,d=e.indexSelectProveedores,f=e.qBuscarProveedor,h=e.setQBuscarProveedor,p=e.proveedoresList,m=e.delProveedor,g=e.setView,v=function(e){var t=e.currentTarget.attributes["data-index"].value;u(t==d?null:t)};return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{className:"container",children:[(0,at.jsxs)("h1",{children:[" ",(0,at.jsxs)("span",{className:"pointer",onClick:function(){return g("SelectFacturasInventario")},children:[(0,at.jsx)("i",{className:"fa fa-arrow-left"})," Volver a Facturas"]})]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("h1",{children:["Proveedores ",(0,at.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){n(""),o(""),s(""),l(""),u(null)},children:"Nuevo"})]}),(0,at.jsx)("div",{className:"",children:(0,at.jsxs)("div",{className:"input-group ",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:f,onChange:function(e){return h(e.target.value)}}),(0,at.jsx)("div",{className:"input-group-prepend",children:(0,at.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,at.jsx)("i",{className:"fa fa-search"})})})]})}),p.length?p.map((function(e,t){return(0,at.jsxs)("div",{onClick:v,"data-index":t,className:(d==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,at.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:["ID.",e.id]})}),(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:e.rif})}),(0,at.jsx)("div",{children:(0,at.jsx)("span",{className:"",children:e.telefono})})]})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"",children:(0,at.jsx)("h5",{className:"card-title",children:(0,at.jsx)("b",{children:e.descripcion})})}),(0,at.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("form",{onSubmit:t,children:[(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Descripción"}),(0,at.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"RIF"}),(0,at.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Dirección"}),(0,at.jsx)("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Teléfono"}),(0,at.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control"})]}),(0,at.jsx)("div",{className:"form-group mt-1",children:null==d?(0,at.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,at.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:m,type:"button",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})]})})]})]})})};const bn=function(e){var t=e.moneda,r=(e.setshowModalFacturas,e.facturas),n=e.factqBuscar,a=e.setfactqBuscar,o=e.factqBuscarDate,i=e.setfactqBuscarDate,s=e.factsubView,c=e.setfactsubView,l=e.factSelectIndex,u=e.setfactSelectIndex,d=e.factOrderBy,f=e.setfactOrderBy,h=e.factOrderDescAsc,p=e.setfactOrderDescAsc,m=e.setfactInpdescripcion,g=(e.factInpdescripcion,e.factInpid_proveedor),v=e.setfactInpid_proveedor,x=e.factInpnumfact,b=e.setfactInpnumfact,y=e.factInpmonto,j=e.setfactInpmonto,w=e.factInpfechavencimiento,N=e.setfactInpfechavencimiento,_=e.factInpnumnota,C=e.setfactInpnumnota,E=e.factInpsubtotal,S=e.setfactInpsubtotal,A=e.factInpdescuento,I=e.setfactInpdescuento,O=e.factInpmonto_gravable,T=e.setfactInpmonto_gravable,P=e.factInpmonto_exento,k=e.setfactInpmonto_exento,D=e.factInpiva,M=e.setfactInpiva,R=e.factInpfechaemision,F=e.setfactInpfechaemision,L=e.factInpfecharecepcion,B=e.setfactInpfecharecepcion,U=e.factInpnota,z=e.setfactInpnota,V=e.setFactura,G=e.proveedoresList,H=e.number,q=(e.factInpestatus,e.setfactInpestatus),W=e.delFactura,Y=e.delItemFact,X=e.verDetallesFactura,$=(e.setsubViewInventario,e.saveFactura,e.setmodFact,e.modFact),Q=e.qBuscarProveedor,Z=e.setQBuscarProveedor,K=e.setIndexSelectProveedores,J=e.indexSelectProveedores,ee=(e.setPagoProveedor,e.tipopagoproveedor,e.settipopagoproveedor,e.montopagoproveedor,e.setmontopagoproveedor,e.getPagoProveedor,e.pagosproveedor,e.delPagoProveedor,e.subViewInventario),te=(e.setView,e.sendFacturaCentral,e.allProveedoresCentral),re=e.getAllProveedores,ne=(e.factInpImagen,e.setfactInpImagen),ae=e.verDetallesImagenFactura,oe=(e.productosInventario,e.guardarNuevoProductoLoteFact,e.inputBuscarInventario),ie=e.setQBuscarInventario,se=e.qBuscarInventario,ce=e.Invnum,le=e.setInvnum,ue=e.InvorderBy,de=e.setInvorderBy,fe=(e.buscarInventario,e.changeInventario,e.changeInventarioNewFact),he=function(e){e==d?p("desc"==h?"asc":"desc"):f(e)},pe=function(e){return!e||"delete"===e};return(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("section",{className:"",children:(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-3",children:["proveedor"==$?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar proveedor...",value:Q,onChange:function(e){return Z(e.target.value)}}),G.length?G.map((function(e,t){return(0,at.jsxs)("div",{onClick:function(){return K(t)},className:(J==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,at.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsxs)("small",{children:["ID.",e.id]})}),(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:e.rif})}),(0,at.jsx)("div",{children:(0,at.jsx)("span",{className:"",children:e.telefono})})]})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"",children:(0,at.jsx)("h5",{className:"card-title",children:(0,at.jsx)("b",{children:e.descripcion})})}),(0,at.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,at.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,at.jsx)("i",{children:"¡Sin resultados!"})})]}):null,"factura"==$?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar factura...",value:n,onChange:function(e){return a(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:o,onChange:function(e){return i(e.target.value)}}),"factura"==$?(0,at.jsxs)("button",{className:"btn-sm btn btn-success",onClick:function(){return u(null),c("agregar"),m(""),v(""),b(""),N(""),q("0"),C(""),S(""),I(""),T(""),k(""),M(""),F(""),B(""),void z("")},children:[" ",(0,at.jsx)("i",{className:"fa fa-plus"}),"    "]}):null]}),(0,at.jsxs)("div",{className:" mb-1 mt-1 btn-group w-100",children:[(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("id")},children:["ID","id"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("numfact")},children:["Num.Fact.","numfact"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("id_proveedor")},children:["Proveedor","id_proveedor"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("monto")},children:["Monto","monto"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("estatus")},children:["Estatus","estatus"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,at.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("created_at")},children:["Fecha","created_at"==d?(0,at.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]})]}),r&&r.length?r.map((function(e,n){return(0,at.jsxs)("div",{className:"text-secondary mb-3 pointer shadow p-2",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,at.jsx)("small",{className:"text-muted fst-italic",children:e.created_at}),(0,at.jsxs)("span",{className:(0==e.estatus?"btn-danger":1==e.estatus?"btn-warning":2==e.estatus?"btn-success":"")+" btn-sm btn pointer",children:[0==e.estatus?"CREADA":"",1==e.estatus?"ENVIADA":"",2==e.estatus?"PROCESADA":""]})]}),(0,at.jsx)("div",{children:(0,at.jsx)("div",{onClick:function(){return function(e){u(e),c("detalles")}(n)},className:"",children:(0,at.jsx)("span",{className:(n==l?"btn-success":"btn-sinapsis")+" w-100 btn fs-3 pointer",children:e.numfact})})}),(0,at.jsx)("p",{children:e.proveedor?e.proveedor.descripcion:null}),(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsx)("div",{className:"btn-group",children:(0,at.jsx)("button",{className:"btn btn fs-3 btn-sinapsis",onClick:function(){return function(e,t){if(u(e),c(t),r[e]){var n=r[e];v(n.id_proveedor),b(n.numfact),m(n.descripcion),j(n.monto),N(n.fechavencimiento),q(n.estatus)}}(n,"agregar")},children:(0,at.jsx)("i",{className:"fa fa-pencil"})})}),(0,at.jsxs)("div",{children:[" ",(0,at.jsxs)("span",{className:"text-muted fs-4",children:[t(e.basefact)," / "]}),"  ",(0,at.jsx)("span",{className:"text-success fs-3",children:t(e.monto)})]})]})]},e.id)})):null]}):null]}),"factura"==$?(0,at.jsxs)("div",{className:"col",children:[(0,at.jsx)("div",{className:"btn-group mb-4",children:(0,at.jsx)("button",{className:"btn "+("detalles"==s?"btn-success":"btn-outline-sinapsis"),onClick:function(){return c("detalles")},children:"Detalles"})}),"agregar"==s?(0,at.jsxs)("form",{onSubmit:V,children:[null==l?(0,at.jsx)("h3",{children:"Registrar Factura"}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("h3",{children:["Editar Factura ",(0,at.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return u(null)},children:"Cancelar"})]}),(0,at.jsx)("h1",{className:"text-right",children:r[l]?r[l].numfact:null}),(0,at.jsx)("h1",{className:"text-right",children:r[l]?r[l].proveedor.descripcion:null})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Adjunte FOTO NITIDA, COMPLETA Y CENTRADA DE LA FACTURA"}),(0,at.jsx)("input",{type:"file",required:!0,className:"form-control",id:"formFile",onChange:function(e){return ne(e.target.files[0])}})]}),(0,at.jsx)("div",{className:"form-group mt-1",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("div",{className:"input-group-text",children:"Proveedor"}),(0,at.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return v(e.target.value)},value:g,children:[(0,at.jsx)("option",{value:"",children:"-"}),te.length?te.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.descripcion},e.id)})):null]}),(0,at.jsx)("button",{type:"button",className:"btn "+("proveedores"==ee?"btn-success":"btn-outline-success"),onClick:function(){return re()},children:(0,at.jsx)("i",{className:"fa fa-search"})})]})}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Número de Factura (OBLIGATORIO)"}),(0,at.jsx)("input",{type:"text",value:x,onChange:function(e){return b(e.target.value)},required:!0,className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Número de Nota (SI APLICA)"}),(0,at.jsx)("input",{type:"text",value:_,onChange:function(e){return C(e.target.value)},className:"form-control"})]}),(0,at.jsxs)("div",{className:"mt-3 mb-3 d-flex flex-row",children:[(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"SUBTOTAL"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:E,onChange:function(e){return S(H(e.target.value))},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"DESCUENTO"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:A,onChange:function(e){return I(H(e.target.value))},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"MONTO GRAVABLE"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:O,onChange:function(e){return T(H(e.target.value))},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"MONTO EXENTO"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:P,onChange:function(e){return k(H(e.target.value))},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"IVA"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:D,onChange:function(e){return M(H(e.target.value))},className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group w-30",children:[(0,at.jsx)("label",{className:"fw-bold",htmlFor:"",children:"TOTAL"}),(0,at.jsx)("input",{type:"text",placeholder:"SOLO DÓLARES",value:y,onChange:function(e){return j(H(e.target.value))},required:!0,className:"form-control"})]})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Fecha de Emisión"}),(0,at.jsx)("input",{type:"date",value:R,onChange:function(e){return F(e.target.value)},required:!0,className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Fecha de Vencimiento"}),(0,at.jsx)("input",{type:"date",value:w,onChange:function(e){return N(e.target.value)},required:!0,className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"Fecha de Recepción"}),(0,at.jsx)("input",{type:"date",value:L,onChange:function(e){return B(e.target.value)},required:!0,className:"form-control"})]}),(0,at.jsxs)("div",{className:"form-group",children:[(0,at.jsx)("label",{htmlFor:"",children:"NOTA"}),(0,at.jsx)("textarea",{type:"text",value:U,onChange:function(e){return z(e.target.value)},className:"form-control"})]}),(0,at.jsx)("div",{className:"form-group mt-2",children:null==l?(0,at.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,at.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:W,type:"button",children:(0,at.jsx)("i",{className:"fa fa-times"})})]})})]}):null,"detalles"==s&&r[l]?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("small",{className:"text-muted fst-italic",children:["Items. ",r[l].items?r[l].items.length:null]}),(0,at.jsx)("br",{}),(0,at.jsx)("span",{className:"fw-bold",children:r[l].proveedor?r[l].proveedor.descripcion:null}),(0,at.jsx)("p",{children:r[l].descripcion})]}),(0,at.jsxs)("div",{className:"text-right",children:[(0,at.jsxs)("div",{className:"btn-group mb-2",children:[(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"SUBTOTAL:"})," ",t(r[l].subtotal)]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"DESCUENTO:"})," ",t(r[l].descuento)]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"GRAVABLE:"})," ",t(r[l].monto_gravable)]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"EXENTO:"})," ",t(r[l].monto_exento)]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"IVA:"})," ",t(r[l].iva)]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",children:[(0,at.jsx)("b",{children:"TOTAL:"})," ",t(r[l].monto)]})]}),(0,at.jsx)("br",{}),(0,at.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[(0,at.jsxs)("span",{className:"text-muted fst-italic",children:[(0,at.jsx)("b",{children:"EMITIDA:"})," ",r[l].fechaemision]}),(0,at.jsxs)("span",{className:"text-muted fst-italic",children:[(0,at.jsx)("b",{children:"RECIBIDA:"})," ",r[l].fecharecepcion]}),(0,at.jsxs)("span",{className:"text-muted fst-italic",children:[(0,at.jsx)("b",{children:"VENCE:"})," ",r[l].fechavencimiento]})]})]})]}),(0,at.jsxs)("div",{className:"d-flex flex-fill",children:[(0,at.jsx)("div",{className:"flex-fill",children:(0,at.jsx)("input",{type:"text",ref:oe,className:"form-control",placeholder:"Buscar...(esc)",onChange:function(e){return ie(e.target.value)},value:se})}),(0,at.jsx)("div",{className:"flex-fill",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsxs)("select",{value:ce,onChange:function(e){return le(e.target.value)},className:"form-control",children:[(0,at.jsx)("option",{value:"25",children:"Num.25"}),(0,at.jsx)("option",{value:"50",children:"Num.50"}),(0,at.jsx)("option",{value:"100",children:"Num.100"}),(0,at.jsx)("option",{value:"500",children:"Num.500"}),(0,at.jsx)("option",{value:"2000",children:"Num.2000"}),(0,at.jsx)("option",{value:"10000",children:"Num.100000"})]}),(0,at.jsxs)("select",{value:ue,onChange:function(e){return de(e.target.value)},className:"form-control",children:[(0,at.jsx)("option",{value:"asc",children:"Orden Asc"}),(0,at.jsx)("option",{value:"desc",children:"Orden Desc"})]})]})})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{}),(0,at.jsx)("th",{children:"ID"}),(0,at.jsx)("th",{children:"ALTERNO"}),(0,at.jsx)("th",{children:"BARRAS"}),(0,at.jsx)("th",{children:"UNIDAD"}),(0,at.jsx)("th",{children:"DESCRIPCIÓN"}),(0,at.jsx)("th",{className:"cell1 bg-ct",children:"CT"}),(0,at.jsx)("th",{className:"cell1 bg-basefact",children:"BASE FACT"}),(0,at.jsx)("th",{className:"cell1 bg-base",children:"BASE"}),(0,at.jsx)("th",{className:"cell1 bg-venta",children:"VENTA"})]})}),(0,at.jsxs)("tbody",{children:[r[l].items?r[l].items.map((function(e,r){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("i",{className:"fa fa-times text-danger",onClick:function(){return Y(e.producto.id)}})}),(0,at.jsx)("td",{className:"",children:r+1}),(0,at.jsx)("td",{className:"",children:e.producto.codigo_proveedor}),(0,at.jsx)("td",{className:"",children:e.producto.codigo_barras}),(0,at.jsx)("td",{className:"",children:e.producto.unidad}),(0,at.jsx)("td",{className:"",children:e.producto.descripcion}),pe(e.producto.type)?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("td",{className:"cell1 bg-ct",children:[e.cantidad,(0,at.jsx)("br",{}),(0,at.jsxs)("span",{className:"text-muted fst-italic",children:["(",e.producto.cantidad,")"]})]}),(0,at.jsx)("td",{className:"cell1 bg-basefact",children:t(e.producto.precio3)}),(0,at.jsx)("td",{className:"cell1 bg-base",children:t(e.producto.precio_base)}),(0,at.jsx)("td",{className:"cell1 bg-venta",children:t(e.producto.precio)})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{className:"cell1 bg-ct",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.cantidadfact?null:"invalid"),value:e.producto.cantidadfact?e.producto.cantidadfact:"",onChange:function(t){return fe(H(t.target.value),r,e.producto.id,"changeInput","cantidadfact")},placeholder:"cantidad..."})}),(0,at.jsx)("td",{className:"cell1 bg-basefact",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio3?null:"invalid"),value:e.producto.precio3?e.producto.precio3:"",onChange:function(t){return fe(H(t.target.value),r,e.producto.id,"changeInput","precio3")},placeholder:"Base FACTURA..."})}),(0,at.jsx)("td",{className:"cell1 bg-base",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio_base?null:"invalid"),value:e.producto.precio_base?e.producto.precio_base:"",onChange:function(t){return fe(H(t.target.value),r,e.producto.id,"changeInput","precio_base")},placeholder:"Base"})}),(0,at.jsx)("td",{className:"cell1 bg-venta",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio?null:"invalid"),value:e.producto.precio?e.producto.precio:"",onChange:function(t){return fe(H(t.target.value),r,e.producto.id,"changeInput","precio")},placeholder:"Venta"})})]}),(0,at.jsx)("td",{className:"cell1",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between",children:[e.producto.type?null:(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delMode")},children:(0,at.jsx)("i",{className:"fa fa-trash"})}),(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return fe(null,r,e.producto.id,"update")},children:(0,at.jsx)("i",{className:"fa fa-pencil"})})]}),"new"===e.producto.type?(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delNew")},children:(0,at.jsx)("i",{className:"fa fa-times"})}):null,"update"===e.producto.type?(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return fe(null,r,e.producto.id,"delModeUpdateDelete")},children:(0,at.jsx)("i",{className:"fa fa-times"})}):null,"delete"===e.producto.type?(0,at.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delModeUpdateDelete")},children:(0,at.jsx)("i",{className:"fa fa-arrow-left"})}):null]})})]},e.producto.id)})):null,(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{colSpan:6}),(0,at.jsx)("td",{}),(0,at.jsx)("td",{className:"text-basefact fs-4",children:t(r[l].basefact)}),(0,at.jsx)("td",{className:"text-base fs-4",children:t(r[l].summonto_base_clean)}),(0,at.jsx)("td",{className:"text-venta fs-4",children:t(r[l].summonto_clean)})]})]})]}),(0,at.jsxs)("div",{className:"m-5 d-flex justify-content-center align-items-center",children:[(0,at.jsxs)("button",{className:"btn btn lg btn-xl btn-outline-success",onClick:X,children:["Ver todo ",(0,at.jsx)("i",{className:"fa fa-send"})]}),(0,at.jsxs)("button",{className:"btn btn lg btn-xl btn-outline-sinapsis",onClick:ae,children:["Ver IMAGEN ",(0,at.jsx)("i",{className:"fa fa-eyes"})]})]})]}):null]}):null]})})})})};const yn=function(e){var t=e.saveFactura,r=e.setshowModalFacturas,n=(e.showModalFacturas,e.facturas),a=e.factqBuscar,o=e.setfactqBuscar,i=e.factqBuscarDate,s=e.setfactqBuscarDate,c=e.factsubView,l=e.setfactsubView,u=e.factSelectIndex,d=e.setfactSelectIndex,f=e.factOrderBy,h=e.setfactOrderBy,p=e.factOrderDescAsc,m=e.setfactOrderDescAsc,g=e.factInpid_proveedor,v=e.setfactInpid_proveedor,x=e.factInpnumfact,b=e.setfactInpnumfact,y=e.factInpdescripcion,j=e.setfactInpdescripcion,w=e.factInpmonto,N=e.setfactInpmonto,_=e.factInpfechavencimiento,C=e.setfactInpfechavencimiento,E=e.setFactura,S=e.proveedoresList,A=e.number,I=e.factInpestatus,O=e.setfactInpestatus,T=e.delFactura,P=e.delItemFact,k=e.verDetallesFactura,D=e.setsubViewInventario,M=e.moneda,R=e.setmodFact,F=e.modFact,L=e.qBuscarProveedor,B=e.setQBuscarProveedor,U=e.setIndexSelectProveedores,z=e.indexSelectProveedores,V=e.setPagoProveedor,G=e.tipopagoproveedor,H=e.settipopagoproveedor,q=e.montopagoproveedor,W=e.setmontopagoproveedor,Y=e.getPagoProveedor,X=e.pagosproveedor,$=e.delPagoProveedor,Q=e.factInpImagen,Z=e.setfactInpImagen;return(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsx)(bn,{factInpImagen:Q,setfactInpImagen:Z,delPagoProveedor:$,pagosproveedor:X,getPagoProveedor:Y,setPagoProveedor:V,tipopagoproveedor:G,settipopagoproveedor:H,montopagoproveedor:q,setmontopagoproveedor:W,setmodFact:R,modFact:F,qBuscarProveedor:L,setQBuscarProveedor:B,setIndexSelectProveedores:U,indexSelectProveedores:z,moneda:M,saveFactura:t,setsubViewInventario:D,setshowModalFacturas:r,facturas:n,verDetallesFactura:k,factqBuscar:a,setfactqBuscar:o,factqBuscarDate:i,setfactqBuscarDate:s,factsubView:c,setfactsubView:l,factSelectIndex:u,setfactSelectIndex:d,factOrderBy:f,setfactOrderBy:h,factOrderDescAsc:p,setfactOrderDescAsc:m,factInpid_proveedor:g,setfactInpid_proveedor:v,factInpnumfact:x,setfactInpnumfact:b,factInpdescripcion:y,setfactInpdescripcion:j,factInpmonto:w,setfactInpmonto:N,factInpfechavencimiento:_,setfactInpfechavencimiento:C,setFactura:E,proveedoresList:S,number:A,factInpestatus:I,setfactInpestatus:O,delFactura:T,delItemFact:P})})};const jn=function(e){e.qFallas,e.setqFallas;var t=e.orderCatFallas,r=e.setorderCatFallas,n=(e.orderSubCatFallas,e.setorderSubCatFallas,e.ascdescFallas,e.setascdescFallas,e.fallas),a=e.delFalla,o=e.openReporteFalla;return(0,at.jsx)("div",{className:"container",children:(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsx)("h1",{children:"Fallas"}),(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn "+("proveedor"==t?"btn-dark":"btn-outline-success"),onClick:function(){return r("proveedor")},children:"Por Proveedor"}),(0,at.jsx)("button",{className:"btn "+("categoria"==t?"btn-dark":"btn-outline-success"),onClick:function(){return r("categoria")},children:"Por Categoría"})]})]}),(0,at.jsx)("div",{className:"container mt-4",children:n&&Object.entries(n)?Object.entries(n).map((function(e,t){return(0,at.jsxs)("div",{className:"m-3",children:[(0,at.jsxs)("h3",{children:[e[0]?e[0]:null," ",(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e[1]&&e[1][0]?e[1][0].producto.id_proveedor:null)},children:(0,at.jsx)("i",{className:"fa fa-file"})})]}),(0,at.jsxs)("table",{className:"table m-3",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"cell1",children:"ID"}),(0,at.jsx)("th",{className:"cell4",children:"Descripción"}),(0,at.jsx)("th",{className:"cell2",children:"Proveedor"}),(0,at.jsx)("th",{className:"cell1",children:"Ct."}),(0,at.jsx)("th",{className:"cell2",children:"Fecha"})]})}),(0,at.jsx)("tbody",{children:e[1]?e[1].map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.id}),(0,at.jsx)("td",{children:e.producto.descripcion}),(0,at.jsx)("td",{children:e.producto.proveedor.descripcion}),(0,at.jsx)("td",{children:e.producto.cantidad}),(0,at.jsx)("td",{children:e.created_at}),(0,at.jsx)("td",{children:(0,at.jsx)("i",{className:"fa fa-times text-danger","data-id":e.id,onClick:a})})]},e.id)})):null})]})]},t)})):null})]})})};function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _n(e){var t=e.setporcenganancia,r=e.productosInventario,n=e.qBuscarInventario,a=e.setQBuscarInventario,o=e.type,i=e.changeInventario,s=e.printTickedPrecio,c=e.Invnum,l=e.setInvnum,u=e.InvorderColumn,d=e.setInvorderColumn,f=e.InvorderBy,h=e.setInvorderBy,p=e.inputBuscarInventario,m=e.guardarNuevoProductoLote,g=e.proveedoresList,v=e.number,x=e.refsInpInvList,b=(e.categorias,e.setSameGanancia),y=(e.setSameCat,e.setSamePro,e.sameCatValue,e.sameProValue,e.busquedaAvanazadaInv),j=(e.setbusquedaAvanazadaInv,e.busqAvanzInputsFun),w=e.busqAvanzInputs,N=e.buscarInvAvanz,_=(e.setCtxBulto,e.setStockMin,e.setPrecioAlterno,e.reporteInventario),C=(e.exportPendientes,e.openmodalhistoricoproducto),E=e.showmodalhistoricoproducto,S=e.setshowmodalhistoricoproducto,A=e.fecha1modalhistoricoproducto,I=e.setfecha1modalhistoricoproducto,O=e.fecha2modalhistoricoproducto,T=e.setfecha2modalhistoricoproducto,P=e.usuariomodalhistoricoproducto,k=e.setusuariomodalhistoricoproducto,M=e.usuariosData,R=e.datamodalhistoricoproducto,F=(e.setdatamodalhistoricoproducto,e.getmovientoinventariounitario),L=e.user,B=e.selectRepleceProducto,U=(e.replaceProducto,e.setreplaceProducto,e.saveReplaceProducto,e.getPorcentajeInventario),z=(e.cleanInventario,e.openBarcodeScan);D("esc",(function(){p.current.value="",p.current.focus()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]);var V,G,H,q,W=function(e,t){try{var r,n=(e=parseFloat(e))-(t=parseFloat(t));return(r=(100*n/t).toFixed(2))?(n<0?"":"+")+r+"%":""}catch(e){return""}};return(0,at.jsxs)("div",{className:"inventario-forzado",children:[E&&(0,at.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center overflow-x-hidden overflow-y-auto",style:{zIndex:1500},children:[(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:function(){return S(!1)},"aria-hidden":"true"}),(0,at.jsxs)("div",{className:"relative w-full max-w-8xl mx-4 my-6 bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col transform transition-all",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 rounded-t-lg",children:[(0,at.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Historial de Producto"}),(0,at.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-colors duration-200",onClick:function(){return S(!1)},"aria-label":"Cerrar modal",children:(0,at.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(H=R.length>0?R[0].id_producto:null,q=H?r.find((function(e){return e.id===H})):null,q?(0,at.jsx)("div",{className:"px-6 py-4 bg-blue-50 border-b border-gray-200",children:(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"ID Producto"}),(0,at.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:q.id})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Código de Barras"}),(0,at.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:q.codigo_barras||"N/A"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Código Proveedor"}),(0,at.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:q.codigo_proveedor||"N/A"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Descripción"}),(0,at.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",title:q.descripcion,children:q.descripcion||"N/A"})]})]})}):null),(0,at.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[(0,at.jsxs)("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Usuario"}),(0,at.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:P,onChange:function(e){return k(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Seleccione Usuario"}),(null==M?void 0:M.length)&&M.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.usuario},e.id)}))]})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Inicio"}),(0,at.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",value:A,onChange:function(e){return I(e.target.value)}})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Fin"}),(0,at.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",value:O,onChange:function(e){return T(e.target.value)}})]})]}),(0,at.jsx)("div",{className:"mt-4 flex justify-end",children:(0,at.jsxs)("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:function(){return F()},children:[(0,at.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Buscar"]})})]}),(0,at.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,at.jsx)("div",{className:"lg:col-span-3",children:(0,at.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200",children:(0,at.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origen"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ct. Después"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((function(e,t){var r;return(0,at.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50 hover:bg-gray-100",children:[(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.usuario)||void 0===r?void 0:r.usuario)||"-"}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.id_producto}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.origen}),(0,at.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat(e.cantidad<0?"text-red-600":"text-green-600"),children:[e.cantidad>0?"+":"",e.cantidad]}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.cantidadafter}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.created_at})]},e.id)}))})]})})}),(0,at.jsx)("div",{className:"lg:col-span-1",children:(0,at.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,at.jsxs)("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,at.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Resumen por Tipo"]}),(0,at.jsx)("div",{className:"space-y-3 overflow-y-auto",children:(V=function(e){var t={inItPd:"VENTA",delItemPedido:"ELI.VENTA",updItemPedido:"ACT.VENTA"};return t[e]?" (".concat(t[e],")"):""},G=R.reduce((function(e,t){var r,n=(r=t.origen)?r.replace(/#\d+/g,"").trim():"SIN_TIPO";return e[n]||(e[n]={total:0,positivos:0,negativos:0,count:0}),e[n].total+=parseFloat(t.cantidad||0),e[n].count+=1,t.cantidad>0?e[n].positivos+=parseFloat(t.cantidad):e[n].negativos+=parseFloat(t.cantidad),e}),{}),Object.entries(G).sort((function(e,t){var r=wn(e,2)[1],n=wn(t,2)[1];return Math.abs(n.total)-Math.abs(r.total)})).map((function(e){var t=wn(e,2),r=t[0],n=t[1];return(0,at.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-100",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,at.jsxs)("h5",{className:"text-sm font-medium text-gray-800 truncate",title:r,children:[r,V(r)]}),(0,at.jsx)("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:n.count})]}),(0,at.jsxs)("div",{className:"space-y-1",children:[(0,at.jsxs)("div",{className:"text-sm font-semibold ".concat(n.total>0?"text-green-600":n.total<0?"text-red-600":"text-gray-600"),children:["Total: ",n.total>0?"+":"",n.total]}),n.positivos>0&&(0,at.jsxs)("div",{className:"text-xs text-green-600",children:["↗ +",n.positivos]}),n.negativos<0&&(0,at.jsxs)("div",{className:"text-xs text-red-600",children:["↘ ",n.negativos]})]})]},r)})))}),0===R.length&&(0,at.jsxs)("div",{className:"text-center py-8",children:[(0,at.jsx)("svg",{className:"mx-auto h-8 w-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,at.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Sin datos para resumir"})]})]})})]}),0===R.length&&(0,at.jsxs)("div",{className:"text-center py-12",children:[(0,at.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,at.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay datos"}),(0,at.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron movimientos para los filtros seleccionados."})]})]})]})]}),(0,at.jsx)("div",{className:"toolbar mb-4 sticky-top bg-white py-3 shadow-sm",children:(0,at.jsxs)("div",{className:"row g-3",children:[(0,at.jsx)("div",{className:"col-12 col-md-6",children:(0,at.jsx)("div",{className:"search-box",children:y?(0,at.jsx)("div",{className:"advanced-search",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col-12 col-md-4",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-barcode"})}),(0,at.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return j(e,"codigo_barras")},value:w.codigo_barras,placeholder:"Código de barras"})]})}),(0,at.jsx)("div",{className:"col-12 col-md-4",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-hashtag"})}),(0,at.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return j(e,"codigo_proveedor")},value:w.codigo_proveedor,placeholder:"Código proveedor"})]})}),(0,at.jsx)("div",{className:"col-12 col-md-4",children:(0,at.jsxs)("select",{className:"form-select",onChange:function(e){return j(e,"id_proveedor")},value:w.id_proveedor,children:[(0,at.jsx)("option",{value:"",children:"Seleccione Proveedor"}),g.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]})})]})}):(0,at.jsxs)("div",{className:"input-group input-group-lg",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-search"})}),(0,at.jsx)("input",{type:"text",ref:p,className:"form-control",placeholder:"Buscar... (ESC para limpiar)",onChange:function(e){return a(e.target.value)},value:n}),(0,at.jsx)("span",{className:"input-group-text",onClick:function(){return z("qBuscarInventario")},children:(0,at.jsx)("i",{className:"fas fa-barcode"})})]})})}),(0,at.jsx)("div",{className:"col-12 col-md-6",children:(0,at.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-2 justify-content-end",children:[(0,at.jsxs)("div",{className:"btn-group w-100 w-md-auto mb-2 mb-md-0",children:[(0,at.jsxs)("select",{className:"form-select",value:c,onChange:function(e){return l(e.target.value)},children:[(0,at.jsx)("option",{value:"25",children:"25 registros"}),(0,at.jsx)("option",{value:"50",children:"50 registros"}),(0,at.jsx)("option",{value:"100",children:"100 registros"}),(0,at.jsx)("option",{value:"500",children:"500 registros"}),(0,at.jsx)("option",{value:"2000",children:"2000 registros"}),(0,at.jsx)("option",{value:"10000",children:"10000 registros"})]}),(0,at.jsxs)("select",{className:"form-select",value:f,onChange:function(e){return h(e.target.value)},children:[(0,at.jsx)("option",{value:"asc",children:"Ascendente"}),(0,at.jsx)("option",{value:"desc",children:"Descendente"})]})]}),(0,at.jsxs)("div",{className:"btn-group w-100 w-md-auto",children:[(0,at.jsxs)("button",{className:"btn btn-primary w-100 w-md-auto mb-2 mb-md-0",onClick:U,children:[(0,at.jsx)("i",{className:"fas fa-percentage me-2"}),"% Inventariado"]}),(0,at.jsxs)("button",{className:"btn btn-info w-100 w-md-auto mb-2 mb-md-0",onClick:_,children:[(0,at.jsx)("i",{className:"fas fa-file-alt me-2"}),"Reporte"]}),L.iscentral&&(0,at.jsxs)("button",{className:"btn btn-primary w-100 w-md-auto mb-2 mb-md-0",onClick:function(){return i(null,null,null,"add")},children:[(0,at.jsx)("i",{className:"fas fa-plus me-2"}),"Nuevo (F2)"]}),y&&(0,at.jsxs)("button",{className:"btn btn-primary w-100 w-md-auto mb-2 mb-md-0",onClick:N,children:[(0,at.jsx)("i",{className:"fas fa-search me-2"}),"Buscar"]}),L.iscentral&&(0,at.jsxs)("button",{className:"btn btn-success w-100 w-md-auto",onClick:m,children:[(0,at.jsx)("i",{className:"fas fa-save me-2"}),"Guardar (F1)"]})]})]})})]})}),(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("span",{className:"badge bg-sinapsis me-2",children:(0,at.jsx)("i",{className:"fas fa-shield-alt"})}),(0,at.jsx)("small",{children:"Garantía"})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("span",{className:"badge bg-info me-2",children:(0,at.jsx)("i",{className:"fas fa-clock"})}),(0,at.jsx)("small",{children:"Pendiente por Retirar"})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("span",{className:"badge bg-secondary me-2",children:(0,at.jsx)("i",{className:"fas fa-paper-plane"})}),(0,at.jsx)("small",{children:"Pendiente por Enviar"})]})]})}),(0,at.jsx)("div",{className:"d-md-none mb-3",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("select",{className:"form-select",value:u,onChange:function(e){return d(e.target.value)},children:[(0,at.jsx)("option",{value:"id",children:"ID"}),(0,at.jsx)("option",{value:"codigo_proveedor",children:"Código Alterno"}),(0,at.jsx)("option",{value:"codigo_barras",children:"Código Barras"}),(0,at.jsx)("option",{value:"unidad",children:"Unidad"}),(0,at.jsx)("option",{value:"descripcion",children:"Descripción"}),(0,at.jsx)("option",{value:"cantidad",children:"Cantidad"}),(0,at.jsx)("option",{value:"precio_base",children:"Precio Base"}),(0,at.jsx)("option",{value:"precio",children:"Precio Venta"})]})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsxs)("select",{className:"form-select",value:f,onChange:function(e){return h(e.target.value)},children:[(0,at.jsx)("option",{value:"asc",children:"Ascendente"}),(0,at.jsx)("option",{value:"desc",children:"Descendente"})]})})]})}),(0,at.jsxs)("form",{ref:x,onSubmit:function(e){return e.preventDefault()},children:[(0,at.jsx)("div",{className:"table-responsive d-none d-md-block",children:(0,at.jsxs)("table",{className:"table table-hover",children:[(0,at.jsx)("thead",{className:"table-light",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{onClick:function(){return d("id")},children:"ID"}),(0,at.jsx)("th",{onClick:function(){return d("codigo_proveedor")},children:"CÓDIGO ALTERNO"}),(0,at.jsx)("th",{onClick:function(){return d("codigo_barras")},children:"CÓDIGO BARRAS"}),(0,at.jsx)("th",{onClick:function(){return d("unidad")},children:"UNIDAD"}),(0,at.jsx)("th",{onClick:function(){return d("descripcion")},children:"DESCRIPCIÓN"}),(0,at.jsx)("th",{children:(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("span",{onClick:function(){return d("cantidad")},children:"CANTIDAD"}),(0,at.jsx)("span",{className:"mx-2",children:"/"}),(0,at.jsx)("span",{onClick:function(){return d("push")},children:"INVENTARIO"})]})}),(0,at.jsx)("th",{onClick:function(){return d("precio_base")},children:"PRECIO BASE"}),(0,at.jsx)("th",{children:(0,at.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,at.jsx)("span",{onClick:function(){return d("precio")},children:"PRECIO VENTA"}),(0,at.jsxs)("button",{className:"btn btn-sm btn-outline-success",onClick:b,children:[(0,at.jsx)("i",{className:"fas fa-percentage me-1"}),"% General"]})]})}),(0,at.jsx)("th",{children:"ACCIONES"})]})}),(0,at.jsx)("tbody",{children:r.map((function(e,r){return(0,at.jsxs)("tr",{className:"".concat(e.push?"table-success":"table-danger"," align-middle"),onDoubleClick:function(){e.push||i(null,r,e.id,"update")},children:[(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){return B(e.id)},children:e.id})}),o(e.type)?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{children:e.codigo_proveedor}),(0,at.jsx)("td",{children:e.codigo_barras}),(0,at.jsx)("td",{children:e.unidad}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,at.jsx)("span",{children:e.cantidad}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return C(e.id)},children:(0,at.jsx)("i",{className:"fas fa-history"})})]})}),(0,at.jsx)("td",{children:e.precio_base}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"d-flex flex-column",children:[(0,at.jsx)("span",{className:"fw-bold",children:e.precio}),(0,at.jsx)("small",{className:"text-success",children:W(e.precio||0,e.precio_base||0)})]})})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control form-control-sm",value:e.codigo_proveedor||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_proveedor")},placeholder:"Código proveedor..."})}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.codigo_barras?"":"is-invalid"),value:e.codigo_barras||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_barras")},placeholder:"Código barras..."})}),(0,at.jsx)("td",{children:(0,at.jsxs)("select",{className:"form-control form-control-sm ".concat(e.unidad?"":"is-invalid"),value:e.unidad||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","unidad")},children:[(0,at.jsx)("option",{value:"",children:"Seleccione..."}),(0,at.jsx)("option",{value:"UND",children:"UND"}),(0,at.jsx)("option",{value:"PAR",children:"PAR"}),(0,at.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,at.jsx)("option",{value:"PQT",children:"PQT"}),(0,at.jsx)("option",{value:"MTR",children:"MTR"}),(0,at.jsx)("option",{value:"KG",children:"KG"}),(0,at.jsx)("option",{value:"GRS",children:"GRS"}),(0,at.jsx)("option",{value:"LTR",children:"LTR"}),(0,at.jsx)("option",{value:"ML",children:"ML"})]})}),(0,at.jsx)("td",{children:(0,at.jsx)("textarea",{className:"form-control form-control-sm ".concat(e.descripcion?"":"is-invalid"),value:e.descripcion||"",onChange:function(e){return i(e.target.value.replace("\n",""),r,e.id,"changeInput","descripcion")},placeholder:"Descripción...",rows:"2"})}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.cantidad?"":"is-invalid"),value:e.cantidad||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","cantidad")},placeholder:"Cantidad..."}),(0,at.jsx)("button",{className:"btn btn-sm ".concat(e.push?"btn-success":"btn-secondary"),onClick:function(e){return i(e.push?0:1,r,e.id,"changeInput","push")},children:e.push?"Inventariado":"No inventariado"})]})}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.precio_base?"":"is-invalid"),value:e.precio_base||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio_base")},placeholder:"Precio base..."})}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("input",{type:"text",required:!0,className:"form-control ".concat(e.precio?"":"is-invalid"),value:e.precio||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio")},placeholder:"Precio venta..."}),(0,at.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return t("list",e.precio_base,(function(t){i(t,r,e.id,"changeInput","precio")}))},children:(0,at.jsx)("i",{className:"fas fa-percentage"})})]}),(0,at.jsx)("small",{className:"text-success",children:W(e.precio||0,e.precio_base||0)})]})})]}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,at.jsx)("i",{className:"fas fa-edit"})}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return i(null,r,e.id,"delete")},children:(0,at.jsx)("i",{className:"fas fa-trash"})}),(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return s(e.id)},children:(0,at.jsx)("i",{className:"fa fa-print"})})]})})]},r)}))})]})}),(0,at.jsx)("div",{className:"d-md-none",children:r.map((function(e,r){return(0,at.jsxs)("div",{className:"card mb-3 ".concat(e.push?"border-success":"border-danger"," ").concat(o(e.type)?"":"edit-mode"),onDoubleClick:function(){e.push||i(null,r,e.id,"update")},children:[(0,at.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center ".concat(o(e.type)?"":"bg-primary bg-opacity-10"),children:[(0,at.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){return B(e.id)},children:e.id}),(0,at.jsxs)("div",{className:"d-flex gap-1",children:[(0,at.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return s(e.id)},children:(0,at.jsx)("i",{className:"fa fa-print"})}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return C(e.id)},children:(0,at.jsx)("i",{className:"fas fa-history"})}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return i(null,r,e.id,"delete")},children:(0,at.jsx)("i",{className:"fas fa-trash"})}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,at.jsx)("i",{className:"fas fa-edit"})})]})]}),(0,at.jsx)("div",{className:"card-body ".concat(o(e.type)?"":"bg-light border-top border-primary border-opacity-25"),children:o(e.type)?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Código Alterno"}),(0,at.jsx)("div",{children:e.codigo_proveedor})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Código Barras"}),(0,at.jsx)("div",{children:e.codigo_barras})]})]}),(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Unidad"}),(0,at.jsx)("div",{children:e.unidad})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Cantidad"}),(0,at.jsx)("div",{className:"fw-bold fs-5 text-primary",children:e.cantidad}),(0,at.jsxs)("div",{className:"d-flex gap-2",children:[(0,at.jsxs)("span",{className:"badge bg-sinapsis badge-sm",title:"Garantía",children:[(0,at.jsx)("i",{className:"fas fa-shield-alt fa-xs"})," ",e.garantia||0]}),(0,at.jsxs)("span",{className:"badge bg-info badge-sm",title:"Pendiente por Retirar",children:[(0,at.jsx)("i",{className:"fas fa-clock fa-xs"})," ",e.ppr||0]}),(0,at.jsxs)("span",{className:"badge bg-secondary badge-sm",title:"Pendiente por Enviar",children:[(0,at.jsx)("i",{className:"fas fa-paper-plane fa-xs"})," ",e.pendiente_enviar||0]})]})]})]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Descripción"}),(0,at.jsx)("div",{children:e.descripcion})]}),(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Precio Base"}),(0,at.jsx)("div",{children:e.precio_base})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Precio Venta"}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"fw-bold",children:e.precio}),(0,at.jsx)("small",{className:"text-success d-block",children:W(e.precio||0,e.precio_base||0)})]})]})]})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"top-0 end-0 mt-2 me-2 d-flex gap-2",children:[(0,at.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,at.jsx)("i",{className:"fas fa-edit"})}),(0,at.jsx)("button",{className:"btn btn-sm btn-sinapsis",onDoubleClick:function(){var t=prompt("Ingrese La cantidad Util");if(null!==t){var n=parseFloat(e.cantidad)+parseFloat(t);i(n,r,e.id,"changeInput","cantidad")}},children:(0,at.jsx)("i",{className:"fas fa-box-open"})})]}),(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Código Alterno"}),(0,at.jsx)("input",{type:"text",className:"form-control form-control-sm",value:e.codigo_proveedor||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_proveedor")},placeholder:"Código proveedor..."})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Código Barras"}),(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.codigo_barras?"":"is-invalid"),value:e.codigo_barras||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_barras")},placeholder:"Código barras..."})]})]}),(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Unidad"}),(0,at.jsxs)("select",{className:"form-control form-control-sm ".concat(e.unidad?"":"is-invalid"),value:e.unidad||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","unidad")},children:[(0,at.jsx)("option",{value:"",children:"Seleccione..."}),(0,at.jsx)("option",{value:"UND",children:"UND"}),(0,at.jsx)("option",{value:"PAR",children:"PAR"}),(0,at.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,at.jsx)("option",{value:"PQT",children:"PQT"}),(0,at.jsx)("option",{value:"MTR",children:"MTR"}),(0,at.jsx)("option",{value:"KG",children:"KG"}),(0,at.jsx)("option",{value:"GRS",children:"GRS"}),(0,at.jsx)("option",{value:"LTR",children:"LTR"}),(0,at.jsx)("option",{value:"ML",children:"ML"})]})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Cantidad"}),(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm fw-bold fs-5 ".concat(e.cantidad?"":"is-invalid"),value:e.cantidad||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","cantidad")},placeholder:"Cantidad..."})]})]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Descripción"}),(0,at.jsx)("textarea",{className:"form-control form-control-sm ".concat(e.descripcion?"":"is-invalid"),value:e.descripcion||"",onChange:function(e){return i(e.target.value.replace("\n",""),r,e.id,"changeInput","descripcion")},placeholder:"Descripción...",rows:"2"})]}),(0,at.jsxs)("div",{className:"row g-2 mb-2",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Precio Base"}),(0,at.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.precio_base?"":"is-invalid"),value:e.precio_base||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio_base")},placeholder:"Precio base..."})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted",children:"Precio Venta"}),(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("input",{type:"text",required:!0,className:"form-control ".concat(e.precio?"":"is-invalid"),value:e.precio||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio")},placeholder:"Precio venta..."}),(0,at.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return t("list",e.precio_base,(function(t){i(t,r,e.id,"changeInput","precio")}))},children:(0,at.jsx)("i",{className:"fas fa-percentage"})})]}),(0,at.jsx)("small",{className:"text-success",children:W(e.precio||0,e.precio_base||0)})]})]}),(0,at.jsx)("div",{className:"mt-2",children:(0,at.jsx)("button",{className:"btn btn-sm w-100 ".concat(e.push?"btn-success":"btn-secondary"),onClick:function(e){return i(e.push?0:1,r,e.id,"changeInput","push")},children:e.push?"Inventariado":"No inventariado"})})]})})]},r)}))})]})]})}function Cn(e){var t=e.fechaQEstaInve,r=e.setfechaQEstaInve,n=e.fechaFromEstaInve,a=e.setfechaFromEstaInve,i=e.fechaToEstaInve,s=e.setfechaToEstaInve,c=e.orderByEstaInv,l=e.setorderByEstaInv,u=e.orderByColumEstaInv,d=e.setorderByColumEstaInv,f=e.dataEstaInven,h=e.moneda,p=e.categoriaEstaInve,m=e.setcategoriaEstaInve,g=e.categorias,v=e.getEstaInventario;(0,o.useEffect)((function(){v()}),[t,n,i,c,p,u]);var x=[];try{x=Object.values(f)}catch(e){}return(0,at.jsxs)("div",{className:"container",children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsxs)("select",{className:"form-control form-control-sm ",value:p,onChange:function(e){return m(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),g.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]}),(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:t,onChange:function(e){return r(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:n,onChange:function(e){return a(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:i,onChange:function(e){return s(e.target.value)}}),(0,at.jsxs)("select",{className:"form-control",value:c,onChange:function(e){return l(e.target.value)},children:[(0,at.jsx)("option",{value:"asc",children:"ASC"}),(0,at.jsx)("option",{value:"desc",children:"DESC"})]})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"pointer",children:"Categoría"}),(0,at.jsx)("th",{children:"ID"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("codigo")},children:"Código"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("descripcion")},children:"Descripción"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("cantidad")},children:"Stock"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("precio")},children:"Precio"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("cantidadtotal")},children:"Total Ventas Unitarias"}),(0,at.jsx)("th",{className:"pointer",onClick:function(){return d("totalventa")},children:"Total Monto Venta"})]})}),(0,at.jsx)("tbody",{children:x?x.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.categoria?e.categoria.descripcion:null}),(0,at.jsx)("td",{children:e.id}),(0,at.jsx)("td",{children:e.codigo_barras}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:e.cantidad}),(0,at.jsx)("td",{className:"text-success",children:h(e.precio)}),(0,at.jsx)("td",{className:"text-sinapsis",children:e.cantidadtotal}),(0,at.jsx)("td",{className:"text-success",children:h(e.totalventa)})]},e.id)})):null})]})]})}function En(e){var t=e.inventarioNovedadesData,r=e.getInventarioNovedades,n=e.resolveInventarioNovedades,a=e.sendInventarioNovedades,o=e.delInventarioNovedades;e.number;return(0,at.jsx)("div",{className:"container",children:(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:(0,at.jsx)("form",{onSubmit:function(e){r(),e.preventDefault()},children:(0,at.jsx)("button",{className:"btn btn-success",children:(0,at.jsx)("i",{className:"fa fa-search"})})})}),(0,at.jsx)("th",{className:"text-center",children:"REF"}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"C. Barras"})}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"C. Alterno"})}),(0,at.jsx)("th",{className:"cell2 pointer",children:(0,at.jsx)("span",{children:"Descripción"})}),(0,at.jsx)("th",{className:"cell05 pointer",children:(0,at.jsx)("span",{children:"Ct."})}),(0,at.jsx)("th",{className:"cell1 pointer",children:(0,at.jsx)("span",{children:"Base"})}),(0,at.jsx)("th",{className:"cell15 pointer",children:"Venta"}),(0,at.jsx)("th",{className:"text-center",children:"RESPONSABLE"}),(0,at.jsx)("th",{className:"text-center",children:"MOTIVO"})]})}),t&&t.length?t.map((function(e){return(0,at.jsxs)("tbody",{children:[(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{rowSpan:2,className:"align-middle",children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-success",onClick:function(){return a(e.id)},children:(0,at.jsx)("i",{className:"fa fa-paper-plane"})}),(0,at.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.id)},children:(0,at.jsx)("i",{className:"fa fa-trash"})})]})}),(0,at.jsxs)("td",{className:"align-middle text-center",rowSpan:2,children:[" ",(0,at.jsx)("button",{className:"btn btn-success",children:e.producto?e.id:"NUEVO"})," "]}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.codigo_barras:"NUEVO"}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.codigo_proveedor:"NUEVO"}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.descripcion:"NUEVO"}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.cantidad:"NUEVO"}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.precio_base:"NUEVO"}),(0,at.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.precio:"NUEVO"}),(0,at.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:e.responsable}),(0,at.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:e.motivo}),(0,at.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-warning",children:(0,at.jsx)("i",{className:"fa fa-refresh fa-2x m-2 text-success",onClick:function(){return n(e.id)}})}),(0,at.jsx)("button",{className:"btn",children:e.estado?(0,at.jsx)("i",{className:"fa fa-2x fa-check text-success m-2"}):(0,at.jsx)("i",{className:"fa fa-2x fa-times text-danger"})})]})})]}),(0,at.jsxs)("tr",{className:"bg-success-light",children:[(0,at.jsx)("td",{className:"bg-success-light",children:e.codigo_barras}),(0,at.jsx)("td",{className:"bg-success-light",children:e.codigo_proveedor}),(0,at.jsx)("td",{className:"bg-success-light",children:e.descripcion}),(0,at.jsx)("td",{className:"bg-success-light",children:e.cantidad}),(0,at.jsx)("td",{className:"bg-success-light",children:e.precio_base}),(0,at.jsx)("td",{className:"bg-success-light",children:e.precio})]})]},e.id)})):null]})})}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?An(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function In(e){var t=e.setopenModalNuevoEfectivo,r=e.setControlEfec,n=e.catselect,a=e.setcontrolefecNewConcepto,i=e.controlefecNewConcepto,s=e.controlefecNewMonto,c=e.setcontrolefecNewMonto,l=e.controlefecNewMontoMoneda,u=e.setcontrolefecNewMontoMoneda,d=e.controlefecNewCategoria,f=e.setcontrolefecNewCategoria,h=e.categoriasCajas,p=e.controlefecSelectGeneral,m=e.setcontrolefecSelectGeneral,g=e.moneda,v=e.number,x=e.personalNomina,b=e.allProveedoresCentral,y=e.alquileresData,j=e.getAllProveedores,w=e.getAlquileres,N=e.getNomina,_=e.sucursalesCentral,C=e.transferirpedidoa,E=e.settransferirpedidoa,S=e.dolar,A=e.peso,I=(e.getSucursales,e.departamentosCajas),O=e.controlefecNewDepartamento,T=e.setcontrolefecNewDepartamento,P=e.setcontrolefecid_persona,k=e.controlefecid_persona,D=e.setcontrolefecid_alquiler,M=e.controlefecid_alquiler,R=(e.controlefecid_proveedor,e.setcontrolefecid_proveedor),F=Sn((0,o.useState)(!1),2),L=F[0],B=F[1],U=Sn((0,o.useState)(""),2),z=(U[0],U[1],Sn((0,o.useState)(""),2)),V=(z[0],z[1],Sn((0,o.useState)(""),2)),G=V[0],H=V[1],q=Sn((0,o.useState)(""),2),W=q[0],Y=q[1],X=Sn((0,o.useState)(""),2),$=X[0],Q=X[1],Z=Sn((0,o.useState)(""),2),K=Z[0],J=Z[1],ee=Sn((0,o.useState)(""),2),te=ee[0],re=ee[1],ne=Sn((0,o.useState)(""),2),ae=ne[0],oe=ne[1],ie=Sn((0,o.useState)(""),2),se=ie[0],ce=ie[1],le=Sn((0,o.useState)(""),2),ue=le[0],de=le[1],fe=Sn((0,o.useState)(0),2),he=fe[0],pe=fe[1],me=Sn((0,o.useState)(0),2),ge=me[0],ve=me[1];return(0,o.useEffect)((function(){a("")}),[d]),(0,at.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center overflow-x-hidden overflow-y-auto",style:{zIndex:1500},children:[(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:function(){return t(!1)},"aria-hidden":"true"}),(0,at.jsxs)("div",{className:"relative w-full max-w-5xl mx-4 my-6 rounded-lg shadow-xl max-h-[95vh] flex flex-col transform transition-all ".concat(1===p?"bg-green-50":"bg-sinapsis "),children:[(0,at.jsxs)("div",{className:"flex items-center justify-between p-6 border-b rounded-t-lg ".concat(1===p?"border-green-200 bg-green-100":"border-blue-200 bg-blue-100"),children:[(0,at.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,at.jsx)("div",{className:"p-3 rounded-full ".concat(1===p?"bg-green-500 text-white":"bg-sinapsis 0 text-white"),children:(0,at.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.467-.22-2.121-.659C8.712 10.46 8.712 9.036 9.879 8.157c1.171-.879 3.07-.879 4.242 0L15 9"})})}),(0,at.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Nuevo Movimiento - ",1===p?"Caja Fuerte":"Caja Chica"]})]}),(0,at.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600 hover:bg-white hover:bg-opacity-50 rounded-lg p-2 transition-colors duration-200",onClick:function(){return t(!1)},"aria-label":"Cerrar modal",children:(0,at.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,at.jsx)("div",{className:"flex-1 p-6 overflow-y-auto bg-white",children:(0,at.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r()},className:"space-y-6",children:[(0,at.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[(0,at.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 ".concat(1===p?"bg-green-500 text-white shadow-sm":"text-gray-700 hover:text-gray-900"),onClick:function(){return m(1)},children:"Caja Fuerte"}),(0,at.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 ".concat(0===p?"bg-sinapsis 0 text-white shadow-sm":"text-gray-700 hover:text-gray-900"),onClick:function(){return m(0)},children:"Caja Chica"})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Departamento"}),(0,at.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:O,onChange:function(e){return T(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Seleccione Departamento"}),I.map((function(e,t){return(0,at.jsx)("option",{value:e.id,children:e.nombre},t)}))]})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Categoría"}),(0,at.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:d,onChange:function(e){f(e.target.value),P(null),D(null)},children:[(0,at.jsx)("option",{value:"",children:"Seleccione Categoría"}),h.filter((function(e){return e.tipo===p})).filter((function(e){return 1===e.showsucursal})).map((function(e,t){return["INGRESO DESDE CIERRE","CAJA FUERTE: INGRESO TRANSFERENCIA SUCURSAL","CAJA FUERTE: EGRESO TRANSFERENCIA SUCURSAL","CAJA FUERTE: INGRESO TRANSFERENCIA TRABAJADOR","CAJA FUERTE: EGRESO TRANSFERENCIA TRABAJADOR"].includes(e.nombre)?null:(0,at.jsx)("option",{value:e.id,children:e.nombre},t)}))]})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),(0,at.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm resize-vertical",placeholder:"Descripción del movimiento...",rows:"3",value:i,onChange:function(e){return a(e.target.value)}})]}),[29,30,70,71,92,87,86,28,61].includes(parseInt(d))&&(0,at.jsxs)("div",{className:"space-y-4 bg-sinapsis  p-4 rounded-lg border border-blue-200",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Seleccionar Personal"}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar Personal...",value:W,onChange:function(e){return Y(e.target.value)}}),(0,at.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return N()},children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,at.jsx)("div",{className:"max-h-60 overflow-y-auto bg-white rounded-md border border-gray-200",children:x.filter((function(e){return!W||-1!==e.nominanombre.toLowerCase().indexOf(W.toLowerCase())})).map((function(e){return(0,at.jsxs)("div",{className:"p-3 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors duration-200 ".concat(k===e.id?"bg-blue-100 border-blue-300":"hover:bg-gray-50"),onClick:function(){P(e.id),c(e.maxpagopersona>e.quincena?e.quincena:e.maxpagopersona),pe(e.maxpagopersona),re(e.sumPrestamos),oe(e.sumCreditos),ce(e.mes),de(e.mespasado),Q(e.nominanombre),J(e.cargo.cargosdescripcion),u("dolar")},children:[(0,at.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.nominacedula," - ",e.nominanombre]}),k===e.id&&(0,at.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Seleccionado"})]},e.id)}))})]}),34===parseInt(d)&&(0,at.jsxs)("div",{className:"space-y-4 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-yellow-900",children:"Seleccionar Alquiler"}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsxs)("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:M,onChange:function(e){var t=e.target.value;D(t);var r=y.filter((function(e){return e.id==t}))[0];r&&(c(r.monto),ve(r.monto),u("dolar"))},children:[(0,at.jsx)("option",{value:"",children:"Seleccione Alquiler"}),y.length>0&&y.map((function(e){return(0,at.jsxs)("option",{value:e.id,children:["PAGO ALQUILER: ",e.descripcion]},e.id)}))]}),(0,at.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return w()},children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),40===parseInt(d)&&(0,at.jsxs)("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-purple-900",children:"Seleccionar Proveedor"}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar proveedor...",value:G,onChange:function(e){return H(e.target.value)}}),(0,at.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return j()},children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,at.jsx)("div",{className:"max-h-60 overflow-y-auto bg-white rounded-md border border-gray-200",children:b.filter((function(e){return!G||-1!==e.descripcion.toLowerCase().indexOf(G.toLowerCase())})).map((function(e){return(0,at.jsxs)("div",{className:"p-3 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors duration-200 ".concat(i==="PAGO PROVEEDOR="+e.descripcion+"="+e.id?"bg-purple-100 border-purple-300":"hover:bg-gray-50"),onClick:function(){var t="PAGO PROVEEDOR="+e.descripcion+"="+e.id;a(t),R(t)},children:[(0,at.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["PAGO PROVEEDOR: ",e.descripcion]}),i==="PAGO PROVEEDOR="+e.descripcion+"="+e.id&&(0,at.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Seleccionado"})]},e.id)}))})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Monto"}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,at.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:l,onChange:function(e){c(""),u(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Moneda"}),(0,at.jsx)("option",{value:"dolar",children:"DÓLAR"}),(0,at.jsx)("option",{value:"peso",children:"PESO"}),(0,at.jsx)("option",{value:"bs",children:"BS"}),(0,at.jsx)("option",{value:"euro",children:"EURO"})]}),(0,at.jsx)("input",{type:"text",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Monto...",value:s,onChange:function(e){var t=v(e.target.value),r="dolar"===l?1:"bs"===l?parseFloat(S):"peso"===l?parseFloat(A):1;29===parseInt(d)&&parseFloat(t)>parseFloat(he*r)&&(t=""),34===parseInt(d)&&parseFloat(t)>parseFloat(ge*r)&&(t=""),c(t)}})]})]}),$&&(0,at.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Información del Personal"}),(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 bg-white rounded-md",children:[(0,at.jsx)("thead",{className:"bg-gray-100",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombres"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Máximo"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Préstamos"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Créditos"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes Actual"}),(0,at.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes Pasado"})]})}),(0,at.jsx)("tbody",{className:"bg-white",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:$}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:K}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-green-600",children:he}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-red-600",children:g(te)}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-blue-600",children:g(ae)}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:g(se)}),(0,at.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:g(ue)})]})})]})})]}),!L&&-1===n.indexOf("TRANSFERENCIA TRABAJADOR")||1!==p?(0,at.jsx)("div",{className:"flex justify-center",children:(0,at.jsxs)("button",{className:"inline-flex items-center px-6 py-3 text-base font-medium rounded-md shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(1===p?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500":"bg-sinapsis hover:bg-blue-700 text-white focus:ring-blue-500"),type:"submit",children:[1===p?"SOLICITAR APROBACIÓN":"GUARDAR",(0,at.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})}):-1===n.indexOf("EFECTIVO ADICIONAL")&&-1===n.indexOf("NOMINA ABONO")&&-1===n.indexOf("TRASPASO A CAJA CHICA")?(0,at.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-orange-900 mb-3",children:"Transferir a Sucursal"}),(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsxs)("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:C,onChange:function(e){return E(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Seleccione Sucursal"}),_.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),(0,at.jsx)("button",{className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200 border border-green-600",type:"button",onClick:function(){return r(!0)},children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}):null,(0,at.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t border-gray-200",children:(0,at.jsxs)("button",{className:"text-sm font-medium rounded-md px-4 py-2 transition-colors duration-200 ".concat(L?"bg-blue-100 text-blue-700 hover:bg-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),type:"button",onClick:function(){return B(!L)},children:[(0,at.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Transferir a sucursal..."]})})]})})]})]})}function On(e){var t=e.controlefecQ,r=e.setcontrolefecQ,n=e.controlefecQDesde,a=e.setcontrolefecQDesde,i=e.controlefecQHasta,s=e.setcontrolefecQHasta,c=e.controlefecData,l=(e.setcontrolefecData,e.controlefecSelectGeneral),u=e.setcontrolefecSelectGeneral,d=(e.controlefecSelectUnitario,e.setcontrolefecSelectUnitario,e.controlefecNewConcepto),f=e.setcontrolefecNewConcepto,h=e.controlefecNewCategoria,p=e.setcontrolefecNewCategoria,m=e.controlefecNewMonto,g=e.setcontrolefecNewMonto,v=e.getControlEfec,x=(e.setgetControlEfec,e.setControlEfec),b=(e.setsetControlEfec,e.setcontrolefecQCategoria),y=e.controlefecQCategoria,j=e.number,w=e.moneda,N=e.controlefecNewMontoMoneda,_=e.setcontrolefecNewMontoMoneda,C=e.categoriasCajas,E=(e.setcategoriasCajas,e.getcatsCajas),S=e.delCaja,A=e.personalNomina,I=(e.setpersonalNomina,e.getNomina),O=(e.controlefecResponsable,e.setcontrolefecResponsable,e.controlefecAsignar,e.setcontrolefecAsignar,e.setopenModalNuevoEfectivo),T=e.openModalNuevoEfectivo,P=(e.verificarMovPenControlEfec,e.verificarMovPenControlEfecTRANFTRABAJADOR,e.allProveedoresCentral),k=e.getAllProveedores,D=e.getAlquileres,M=e.alquileresData,R=e.sucursalesCentral,F=e.transferirpedidoa,L=e.settransferirpedidoa,B=e.getSucursales,U=(e.reversarMovPendientes,e.aprobarRecepcionCaja),z=e.dolar,V=e.peso,G=e.departamentosCajas,H=e.controlefecNewDepartamento,q=e.setcontrolefecNewDepartamento,W=e.setcontrolefecid_persona,Y=e.controlefecid_persona,X=e.setcontrolefecid_alquiler,$=e.controlefecid_alquiler,Q=e.controlefecid_proveedor,Z=e.setcontrolefecid_proveedor;(0,o.useEffect)((function(){E(),I(),D(),B()}),[]),(0,o.useEffect)((function(){v(),b("")}),[l,n,i]);var K=C.filter((function(e){return e.id==h})).length?C.filter((function(e){return e.id==h}))[0].nombre:"",J=function(e){var t=C.filter((function(t){return t.id==e}));return t.length?[{color:"#ff0000",nombre:"PAGO A PROVEEDORES"},{color:"#00ff00",nombre:"INGRESO"},{color:"#ff9900",nombre:"GASTO"},{color:"#b45f06",nombre:"GASTO GENERAL"},{color:"#6F6A6A",nombre:"TRANSFERENCIA TRABAJADOR"},{color:"#434343",nombre:"MOVIMIENTO NULO INTERNO"},{color:"#fff2cc",nombre:"CAJA MATRIZ"},{color:"#b7b7b7",nombre:"FDI"},{color:"#6aa84f",nombre:"INGRESO EXTERNO"},{color:"#93c47d",nombre:"INGRESO INTERNO"},{color:"#999999",nombre:"TRANSFERENCIA EFECTIVO SUCURSAL"}][t[0].catgeneral]:{color:"",nombre:""}},ee=function(e){var t=R.filter((function(t){return t.id==e}));return t.length?t[0].codigo:"NO IDENTIFICADO"};return(0,at.jsxs)("div",{className:"container-fluid",children:[(0,at.jsxs)("div",{className:"btn-group mb-3",children:[(0,at.jsx)("button",{className:"btn "+(1==l?"btn-success":"btn-outline-success"),onClick:function(){return u(1)},children:"Caja Fuerte"}),(0,at.jsx)("button",{className:"btn "+(0==l?"btn-sinapsis":"btn-outline-sinapsis"),onClick:function(){return u(0)},children:"Caja Chica"})]}),(0,at.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:(0,at.jsxs)("button",{className:"btn btn-outline-"+(1==l?"success":"sinapsis")+" btn-lg",onClick:function(e){return O(!0)},children:["NUEVO MOVIMIENTO ",(0,at.jsx)("i",{className:"fa fa-plus"})]})}),(0,at.jsxs)("div",{className:"input-group mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",onChange:function(e){return r(e.target.value)},value:t}),(0,at.jsxs)("select",{className:"form-control",onChange:function(e){return b(e.target.value)},value:y,children:[(0,at.jsx)("option",{value:"",children:"-BUSCAR-"}),C.filter((function(e){return e.tipo==l})).map((function(e,t){return(0,at.jsx)("option",{value:e.id,children:e.nombre},t)}))]}),(0,at.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return a(e.target.value)},value:n}),(0,at.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return s(e.target.value)},value:i}),(0,at.jsx)("div",{className:"input-group-append",children:(0,at.jsx)("span",{className:"btn btn-outline-secondary",type:"button",onClick:v,children:(0,at.jsx)("i",{className:"fa fa-search"})})})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"NUM"}),(0,at.jsx)("th",{children:"FECHA"}),(0,at.jsx)("th",{children:"ESTATUS"}),(0,at.jsx)("th",{children:"CAT GENERAL"}),(0,at.jsx)("th",{className:"w-20",children:"CATEGORÍA"}),(0,at.jsx)("th",{children:"DESCRIPCIÓN"}),(0,at.jsx)("th",{className:"text-right",children:"Monto DOLAR"}),(0,at.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?w(c[1==l?"fuerte":"chica"].dolarbalance):null," "]}),(0,at.jsx)("th",{className:"text-right",children:"Monto BS"}),(0,at.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?w(c[1==l?"fuerte":"chica"].bsbalance):null," "]}),(0,at.jsx)("th",{className:"text-right",children:"Monto PESO"}),(0,at.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?w(c[1==l?"fuerte":"chica"].pesobalance):null," "]}),(0,at.jsx)("th",{className:"text-right",children:"Monto EURO"}),(0,at.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?w(c[1==l?"fuerte":"chica"].eurobalance):null," "]}),(0,at.jsx)("th",{})]})}),(0,at.jsx)("tbody",{children:c&&c.data&&c.data.length?c.data.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"",children:(0,at.jsx)("small",{className:"text-muted",children:t+1})}),(0,at.jsx)("td",{className:"",children:(0,at.jsx)("small",{className:"text-muted",children:e.created_at})}),(0,at.jsx)("td",{className:"",children:(0,at.jsxs)("small",{className:"text-muted",children:[0==e.estatus?(0,at.jsxs)("button",{className:"btn btn-warning btn-sm",children:["PENDIENTE ",(0,at.jsx)("i",{className:"fa fa-clock-o"})]}):null,1==e.estatus?(0,at.jsxs)("button",{className:"btn btn-success btn-sm",children:["APROBADO ",(0,at.jsx)("i",{className:"fa fa-check"})]}):null]})}),(0,at.jsx)("td",{className:"",children:(0,at.jsx)("button",{className:"btn w-100 btn-sm",style:{color:"black",fontWeight:"bold",backgroundColor:J(e.categoria).color},children:J(e.categoria).nombre})}),(0,at.jsx)("td",{className:"w-20",children:(r=e.categoria,n=C.filter((function(e){return e.id==r})),n.length?n[0].nombre:"ERROR")}),(0,at.jsxs)("td",{className:"",children:[e.concepto,e.id_sucursal_destino?(0,at.jsx)("div",{children:(0,at.jsxs)("b",{children:["TRANSFERIR A SUCURSAL (",ee(e.id_sucursal_destino),")"]})}):null,e.id_sucursal_emisora?(0,at.jsx)("div",{children:(0,at.jsxs)("b",{children:["RECIBES DE SUCURSAL (",ee(e.id_sucursal_emisora),")"]})}):null,e.id_sucursal_emisora&&0==e.estatus?(0,at.jsx)("div",{children:(0,at.jsx)("div",{className:"p-2",children:(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsx)("button",{className:"btn btn-success",onClick:function(){return U(e.idincentralrecepcion,"aprobar")},children:"APROBAR RECEPCIÓN"}),(0,at.jsx)("button",{className:"btn btn-danger",onClick:function(){return U(e.idincentralrecepcion,"rechazar")},children:"RECHAZAR RECEPCIÓN"})]})})}):null]}),(0,at.jsx)("td",{className:(e.montodolar<0?"text-danger":"text-success")+" text-right",children:w(e.montodolar)}),(0,at.jsx)("td",{className:"",children:w(e.dolarbalance)}),(0,at.jsx)("td",{className:(e.montobs<0?"text-danger":"text-success")+" text-right",children:w(e.montobs)}),(0,at.jsx)("td",{className:"",children:w(e.bsbalance)}),(0,at.jsx)("td",{className:(e.montopeso<0?"text-danger":"text-success")+" text-right",children:w(e.montopeso)}),(0,at.jsx)("td",{className:"",children:w(e.pesobalance)}),(0,at.jsx)("td",{className:(e.montoeuro<0?"text-danger":"text-success")+" text-right",children:w(e.montoeuro)}),(0,at.jsx)("td",{className:"",children:w(e.eurobalance)}),(0,at.jsx)("td",{children:(0,at.jsx)("i",{className:"fa fa-times text-danger",onClick:function(){return S(e.id)}})})]},e.id);var r,n})):null})]}),T&&(0,at.jsx)(In,{setcontrolefecid_persona:W,controlefecid_persona:Y,setcontrolefecid_alquiler:X,controlefecid_alquiler:$,controlefecid_proveedor:Q,setcontrolefecid_proveedor:Z,controlefecNewDepartamento:H,setcontrolefecNewDepartamento:q,departamentosCajas:G,dolar:z,peso:V,getSucursales:B,transferirpedidoa:F,settransferirpedidoa:L,sucursalesCentral:R,allProveedoresCentral:P,getAllProveedores:k,setopenModalNuevoEfectivo:O,openModalNuevoEfectivo:T,setControlEfec:x,catselect:K,setcontrolefecNewConcepto:f,controlefecNewConcepto:d,controlefecNewMonto:m,setcontrolefecNewMonto:g,controlefecNewMontoMoneda:N,setcontrolefecNewMontoMoneda:_,controlefecNewCategoria:h,setcontrolefecNewCategoria:p,personalNomina:A,categoriasCajas:C,controlefecSelectGeneral:l,setcontrolefecSelectGeneral:u,moneda:w,number:j,alquileresData:M,getAlquileres:D,getNomina:I})]})}function Tn(e){var t=e.garantiasData,r=e.getGarantias,n=e.setqgarantia,a=e.qgarantia,o=e.garantiaorderCampo,i=e.setgarantiaorderCampo,s=e.garantiaorder,c=e.setgarantiaorder,l=(e.garantiaEstado,e.setgarantiaEstado,e.setSalidaGarantias);return(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("div",{className:"container py-4",children:(0,at.jsx)("div",{className:"card shadow-sm",children:(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("form",{className:"row g-3 align-items-center mb-4",onSubmit:function(e){e.preventDefault(),r()},children:[(0,at.jsx)("div",{className:"col-md-4",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text bg-light",children:(0,at.jsx)("i",{className:"fa fa-search"})}),(0,at.jsx)("input",{type:"text",placeholder:"Buscar PRODUCTO...",className:"form-control",value:a,onChange:function(e){return n(e.target.value)}})]})}),(0,at.jsx)("div",{className:"col-md-3",children:(0,at.jsxs)("select",{className:"form-select",value:o,onChange:function(e){return i(e.target.value)},children:[(0,at.jsx)("option",{value:"sumpendiente",children:"SUM PENDIENTE"}),(0,at.jsx)("option",{value:"sumresuelta",children:"SUM RESUELTA"})]})}),(0,at.jsx)("div",{className:"col-md-2",children:(0,at.jsxs)("select",{className:"form-select",value:s,onChange:function(e){return c(e.target.value)},children:[(0,at.jsx)("option",{value:"desc",children:"DESC"}),(0,at.jsx)("option",{value:"asc",children:"ASC"})]})}),(0,at.jsx)("div",{className:"col-md-3",children:(0,at.jsxs)("button",{className:"btn btn-success w-100",children:[(0,at.jsx)("i",{className:"fa fa-search me-2"})," Buscar"]})})]}),(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-hover align-middle",children:[(0,at.jsx)("thead",{className:"table-light",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"ID"}),(0,at.jsx)("th",{children:"BARRAS"}),(0,at.jsx)("th",{children:"ALTERNO"}),(0,at.jsx)("th",{children:"PRODUCTO"}),(0,at.jsx)("th",{className:"text-center",children:"PENDIENTE"}),(0,at.jsx)("th",{className:"text-center",children:"RESUELTA"}),(0,at.jsx)("th",{className:"text-center",children:"ACCIÓN"})]})}),(0,at.jsx)("tbody",{children:t.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.id_producto}),(0,at.jsx)("td",{children:e.producto.codigo_barras}),(0,at.jsx)("td",{children:e.producto.codigo_alterno}),(0,at.jsx)("td",{children:e.producto.descripcion}),(0,at.jsx)("td",{className:"text-center text-sinapsis fw-bold",children:e.sumpendiente}),(0,at.jsx)("td",{className:"text-center text-success fw-bold",children:e.sumresuelta}),(0,at.jsx)("td",{className:"text-center",children:(0,at.jsxs)("button",{className:"btn btn-sinapsis btn-sm",onClick:function(){return l(e.id_producto)},children:[(0,at.jsx)("i",{className:"fa fa-paper-plane me-1"})," Transferir"]})})]},e.id)}))})]})})]})})})})}const Pn=function(e){var t=e.openBarcodeScan,r=e.exportPendientes,n=e.getAlquileres,a=e.allProveedoresCentral,i=e.getAllProveedores,s=e.personalNomina,c=e.setpersonalNomina,l=e.getNomina,u=e.delCaja,d=e.categoriasCajas,f=e.setcategoriasCajas,h=e.getcatsCajas,p=e.controlefecQ,m=e.setcontrolefecQ,g=e.controlefecQDesde,v=e.setcontrolefecQDesde,x=e.controlefecQHasta,b=e.setcontrolefecQHasta,y=e.controlefecData,j=e.setcontrolefecData,w=e.controlefecSelectGeneral,N=e.setcontrolefecSelectGeneral,_=e.controlefecSelectUnitario,C=e.setcontrolefecSelectUnitario,E=e.controlefecNewConcepto,S=e.setcontrolefecNewConcepto,A=e.controlefecNewCategoria,I=e.setcontrolefecNewCategoria,O=e.controlefecNewMonto,T=e.setcontrolefecNewMonto,P=e.getControlEfec,k=e.setgetControlEfec,M=e.setControlEfec,R=e.setsetControlEfec,F=e.setcontrolefecQCategoria,L=e.controlefecQCategoria,B=e.children,U=e.getEstaInventario,z=e.user,V=e.printTickedPrecio,G=(e.setdropprintprice,e.dropprintprice,e.printPrecios,e.setCtxBulto),H=e.setStockMin,q=e.setPrecioAlterno,W=e.openReporteFalla,Y=e.setporcenganancia,X=e.changeInventario,$=e.productosInventario,Q=e.qBuscarInventario,Z=e.setQBuscarInventario,K=(e.setIndexSelectInventario,e.indexSelectInventario,e.inputBuscarInventario),J=(e.inpInvbarras,e.setinpInvbarras,e.inpInvcantidad,e.setinpInvcantidad,e.inpInvalterno,e.setinpInvalterno,e.inpInvunidad,e.setinpInvunidad,e.inpInvcategoria,e.setinpInvcategoria,e.inpInvdescripcion,e.setinpInvdescripcion,e.inpInvbase,e.setinpInvbase,e.inpInvventa,e.setinpInvventa,e.inpInviva,e.setinpInviva,e.number),ee=(e.guardarNuevoProducto,e.setProveedor),te=e.proveedordescripcion,re=e.setproveedordescripcion,ne=e.proveedorrif,ae=e.setproveedorrif,oe=e.proveedordireccion,ie=e.setproveedordireccion,se=e.proveedortelefono,ce=e.setproveedortelefono,le=e.subViewInventario,ue=e.setsubViewInventario,de=e.setIndexSelectProveedores,fe=e.indexSelectProveedores,he=e.qBuscarProveedor,pe=e.setQBuscarProveedor,me=e.proveedoresList,ge=e.delProveedor,ve=e.delProducto,xe=e.inpInvid_proveedor,be=e.setinpInvid_proveedor,ye=e.inpInvid_marca,je=e.setinpInvid_marca,we=e.inpInvid_deposito,Ne=e.setinpInvid_deposito,_e=e.setshowModalFacturas,Ce=e.showModalFacturas,Ee=e.facturas,Se=e.factqBuscar,Ae=e.setfactqBuscar,Ie=e.factqBuscarDate,Oe=e.setfactqBuscarDate,Te=e.factsubView,Pe=e.setfactsubView,ke=e.factSelectIndex,De=e.setfactSelectIndex,Me=e.factOrderBy,Re=e.setfactOrderBy,Fe=e.factOrderDescAsc,Le=e.setfactOrderDescAsc,Be=e.factInpid_proveedor,Ue=e.setfactInpid_proveedor,ze=e.factInpnumfact,Ve=e.setfactInpnumfact,Ge=e.factInpdescripcion,He=e.setfactInpdescripcion,qe=e.factInpmonto,We=e.setfactInpmonto,Ye=e.factInpfechavencimiento,Xe=e.setfactInpfechavencimiento,$e=e.setFactura,Qe=e.factInpestatus,Ze=e.setfactInpestatus,Ke=e.delFactura,Je=e.Invnum,et=e.setInvnum,tt=e.InvorderColumn,rt=e.setInvorderColumn,nt=e.InvorderBy,ot=e.setInvorderBy,it=e.delItemFact,st=e.qFallas,ct=e.setqFallas,lt=e.orderCatFallas,ut=e.setorderCatFallas,dt=e.orderSubCatFallas,ft=e.setorderSubCatFallas,ht=e.ascdescFallas,pt=e.setascdescFallas,mt=e.fallas,gt=e.delFalla,vt=(e.getPedidosCentral,e.selectPedidosCentral,e.checkPedidosCentral,e.pedidosCentral,e.setIndexPedidoCentral,e.indexPedidoCentral,e.moneda),xt=e.verDetallesFactura,bt=(e.setNewProducto,e.modViewInventario),yt=e.setmodViewInventario,jt=(e.inpInvLotes,e.addNewLote,e.changeModLote,e.reporteInventario),wt=e.guardarNuevoProductoLote,Nt=e.refsInpInvList,_t=e.categorias,Ct=e.fechaQEstaInve,Et=e.setfechaQEstaInve,St=e.fechaFromEstaInve,At=e.setfechaFromEstaInve,It=e.fechaToEstaInve,Ot=e.setfechaToEstaInve,Tt=e.orderByEstaInv,Pt=e.setorderByEstaInv,kt=e.orderByColumEstaInv,Dt=e.setorderByColumEstaInv,Mt=e.dataEstaInven,Rt=e.saveFactura,Ft=e.setmodFact,Lt=e.modFact,Bt=e.setPagoProveedor,Ut=e.tipopagoproveedor,zt=e.settipopagoproveedor,Vt=e.montopagoproveedor,Gt=e.setmontopagoproveedor,Ht=e.getPagoProveedor,qt=e.pagosproveedor,Wt=e.setSameGanancia,Yt=e.setSameCat,Xt=e.setSamePro,$t=e.busquedaAvanazadaInv,Qt=e.setbusquedaAvanazadaInv,Zt=e.busqAvanzInputsFun,Kt=e.busqAvanzInputs,Jt=e.buscarInvAvanz,er=e.delPagoProveedor,tr=(e.qgastosfecha1,e.setqgastosfecha1,e.qgastosfecha2,e.setqgastosfecha2,e.qgastos,e.setqgastos,e.qcatgastos,e.setqcatgastos,e.gastosdescripcion,e.setgastosdescripcion,e.gastoscategoria,e.setgastoscategoria,e.gastosmonto,e.setgastosmonto,e.gastosData,e.delGastos,e.getGastos,e.setGasto,e.sameCatValue),rr=e.sameProValue,nr=e.categoriaEstaInve,ar=e.setcategoriaEstaInve,or=e.qhistoinven,ir=e.setqhistoinven,sr=e.fecha1histoinven,cr=e.setfecha1histoinven,lr=e.fecha2histoinven,ur=e.setfecha2histoinven,dr=e.orderByHistoInven,fr=e.setorderByHistoInven,hr=e.historicoInventario,pr=e.usuarioHistoInven,mr=e.setusuarioHistoInven,gr=e.usuariosData,vr=e.getUsuarios,xr=e.getHistoricoInventario,br=e.openmodalhistoricoproducto,yr=e.showmodalhistoricoproducto,jr=e.setshowmodalhistoricoproducto,wr=e.fecha1modalhistoricoproducto,Nr=e.setfecha1modalhistoricoproducto,_r=e.fecha2modalhistoricoproducto,Cr=e.setfecha2modalhistoricoproducto,Er=e.usuariomodalhistoricoproducto,Sr=e.setusuariomodalhistoricoproducto,Ar=e.datamodalhistoricoproducto,Ir=e.setdatamodalhistoricoproducto,Or=e.getmovientoinventariounitario,Tr=e.selectRepleceProducto,Pr=e.replaceProducto,kr=e.setreplaceProducto,Dr=e.saveReplaceProducto,Mr=e.controlefecNewMontoMoneda,Rr=e.setcontrolefecNewMontoMoneda,Fr=e.controlefecResponsable,Lr=e.setcontrolefecResponsable,Br=e.controlefecAsignar,Ur=e.setcontrolefecAsignar,zr=e.setopenModalNuevoEfectivo,Vr=e.openModalNuevoEfectivo,Gr=e.verificarMovPenControlEfec,Hr=e.verificarMovPenControlEfecTRANFTRABAJADOR,qr=e.setView,Wr=e.factInpImagen,Yr=e.setfactInpImagen,Xr=e.getPorcentajeInventario,$r=e.cleanInventario,Qr=e.alquileresData,Zr=e.sucursalesCentral,Kr=e.transferirpedidoa,Jr=e.settransferirpedidoa,en=e.getSucursales,tn=e.reversarMovPendientes,rn=e.aprobarRecepcionCaja,nn=e.inventarioNovedadesData,an=e.setinventarioNovedadesData,on=e.getInventarioNovedades,sn=e.resolveInventarioNovedades,cn=e.sendInventarioNovedades,ln=e.delInventarioNovedades,un=e.dolar,dn=e.peso,fn=e.setSalidaGarantias,hn=e.garantiasData,pn=e.getGarantias,mn=e.setqgarantia,gn=e.qgarantia,vn=e.garantiaorderCampo,bn=e.setgarantiaorderCampo,wn=e.garantiaorder,Nn=e.setgarantiaorder,Sn=e.garantiaEstado,An=e.setgarantiaEstado,In=e.departamentosCajas,Pn=e.controlefecNewDepartamento,kn=e.setcontrolefecNewDepartamento,Dn=e.setcontrolefecid_persona,Mn=e.controlefecid_persona,Rn=e.setcontrolefecid_alquiler,Fn=e.controlefecid_alquiler,Ln=e.controlefecid_proveedor,Bn=e.setcontrolefecid_proveedor,Un=e.reportefiscal,zn=e.numReporteZ,Vn=e.setnumReporteZ,Gn=e.sincInventario;return(0,o.useEffect)((function(){vr()}),[]),D("f1",(function(){"inventario"===le&&"list"===bt&&wt()}),{enableOnTags:["INPUT","SELECT"]},[]),D("f2",(function(){"inventario"===le&&"list"===bt&&X(null,null,null,"add")}),{enableOnTags:["INPUT","SELECT"]},[]),(0,at.jsxs)("div",{className:"inventario-container",children:[(0,at.jsxs)("div",{className:"container-fluid px-4",children:[(0,at.jsx)("div",{className:"row mb-4",children:(0,at.jsx)("div",{className:"col-12",children:1==z.tipo_usuario?(0,at.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3",children:[(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{className:"btn ".concat("inventario"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return qr("Submenuinventario")},children:[(0,at.jsx)("i",{className:"fas fa-boxes me-2"}),"Inventario"]}),(0,at.jsxs)("button",{className:"btn ".concat("garantia"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return ue("Submenugarantia")},children:[(0,at.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Garantías"]}),z.iscentral&&(0,at.jsxs)("button",{className:"btn ".concat("proveedores"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return ue("proveedores")},children:[(0,at.jsx)("i",{className:"fas fa-truck me-2"}),"Proveedores"]}),(0,at.jsxs)("button",{className:"btn ".concat("fallas"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return ue("fallas")},children:[(0,at.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"Fallas"]})]}),(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{className:"btn ".concat("efectivo"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return ue("efectivo")},children:[(0,at.jsx)("i",{className:"fas fa-money-bill-wave me-2"}),"Control de Efectivo"]}),(0,at.jsxs)("button",{className:"btn ".concat("estadisticas"===le?"btn-primary":"btn-outline-primary"),onClick:function(){return ue("estadisticas")},children:[(0,at.jsx)("i",{className:"fas fa-chart-bar me-2"}),"Estadísticas"]})]}),(0,at.jsxs)("div",{className:"btn-group",children:[(0,at.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){return Un("x")},children:[(0,at.jsx)("i",{className:"fas fa-file-invoice me-2"}),"Reporte X"]}),(0,at.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){return Un("z")},children:[(0,at.jsx)("i",{className:"fas fa-file-invoice-dollar me-2"}),"Reporte Z"]}),(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-hashtag"})}),(0,at.jsx)("input",{className:"form-control",type:"number",value:zn,onChange:function(e){return Vn(e.target.value)},placeholder:"Número de Reporte Z","aria-label":"Número de Reporte Z"})]})]})]}):null})}),(0,at.jsx)("div",{className:"row",children:(0,at.jsx)("div",{className:"col-12 p-0",children:(0,at.jsxs)("div",{className:"content-wrapper p-1",children:[B,"efectivo"===le&&(0,at.jsx)(On,{setcontrolefecid_persona:Dn,controlefecid_persona:Mn,setcontrolefecid_alquiler:Rn,controlefecid_alquiler:Fn,controlefecid_proveedor:Ln,setcontrolefecid_proveedor:Bn,controlefecNewDepartamento:Pn,setcontrolefecNewDepartamento:kn,departamentosCajas:In,dolar:un,peso:dn,aprobarRecepcionCaja:rn,reversarMovPendientes:tn,getSucursales:en,transferirpedidoa:Kr,settransferirpedidoa:Jr,sucursalesCentral:Zr,alquileresData:Qr,getAlquileres:n,allProveedoresCentral:a,getAllProveedores:i,controlefecResponsable:Fr,setcontrolefecResponsable:Lr,controlefecAsignar:Br,setcontrolefecAsignar:Ur,personalNomina:s,setpersonalNomina:c,getNomina:l,delCaja:u,categoriasCajas:d,setcategoriasCajas:f,getcatsCajas:h,controlefecNewMontoMoneda:Mr,setcontrolefecNewMontoMoneda:Rr,controlefecQ:p,setcontrolefecQ:m,controlefecQDesde:g,setcontrolefecQDesde:v,controlefecQHasta:x,setcontrolefecQHasta:b,controlefecData:y,setcontrolefecData:j,controlefecSelectGeneral:w,setcontrolefecSelectGeneral:N,controlefecSelectUnitario:_,setcontrolefecSelectUnitario:C,controlefecNewCategoria:A,setcontrolefecNewCategoria:I,controlefecNewConcepto:E,setcontrolefecNewConcepto:S,controlefecNewMonto:O,setcontrolefecNewMonto:T,getControlEfec:P,setgetControlEfec:k,setControlEfec:M,setsetControlEfec:R,setcontrolefecQCategoria:F,controlefecQCategoria:L,number:J,moneda:vt,setopenModalNuevoEfectivo:zr,openModalNuevoEfectivo:Vr,verificarMovPenControlEfec:Gr,verificarMovPenControlEfecTRANFTRABAJADOR:Hr}),"facturas"===le&&(0,at.jsx)(yn,{factInpImagen:Wr,setfactInpImagen:Yr,delPagoProveedor:er,pagosproveedor:qt,getPagoProveedor:Ht,setPagoProveedor:Bt,tipopagoproveedor:Ut,settipopagoproveedor:zt,montopagoproveedor:Vt,setmontopagoproveedor:Gt,setmodFact:Ft,modFact:Lt,qBuscarProveedor:he,setQBuscarProveedor:pe,setIndexSelectProveedores:de,indexSelectProveedores:fe,moneda:vt,saveFactura:Rt,setsubViewInventario:ue,setshowModalFacturas:_e,showModalFacturas:Ce,facturas:Ee,verDetallesFactura:xt,factqBuscar:Se,setfactqBuscar:Ae,factqBuscarDate:Ie,setfactqBuscarDate:Oe,factsubView:Te,setfactsubView:Pe,factSelectIndex:ke,setfactSelectIndex:De,factOrderBy:Me,setfactOrderBy:Re,factOrderDescAsc:Fe,setfactOrderDescAsc:Le,factInpid_proveedor:Be,setfactInpid_proveedor:Ue,factInpnumfact:ze,setfactInpnumfact:Ve,factInpdescripcion:Ge,setfactInpdescripcion:He,factInpmonto:qe,setfactInpmonto:We,factInpfechavencimiento:Ye,setfactInpfechavencimiento:Xe,setFactura:$e,proveedoresList:me,number:J,factInpestatus:Qe,setfactInpestatus:Ze,delFactura:Ke,delItemFact:it}),"inventario"===le&&(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"container-fluid",children:[(0,at.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsx)("div",{className:"row",children:(0,at.jsxs)("div",{className:"col d-flex justify-content-center",children:[(0,at.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("list")},children:["Gestión ",(0,at.jsx)("i",{className:"fa fa-paper-plane"})]}),(0,at.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("historico")},children:["Histórico ",(0,at.jsx)("i",{className:"fa fa-refresh"})]}),(0,at.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("inventarionovedades")},children:["Novedades ",(0,at.jsx)("i",{className:"fa fa-exclamation-circle"})]}),(0,at.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return Gn()},children:["Sincronizar Inventario ",(0,at.jsx)("i",{className:"fa fa-reload"})]})]})})})}),(0,at.jsx)("hr",{})]}),"historico"===bt&&(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{className:"container",children:[(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsxs)("select",{className:"form-control form-control-sm ",value:pr,onChange:function(e){return mr(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"--Seleccione Usuario--"}),gr.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.usuario},e.id)}))]}),(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:or,onChange:function(e){return ir(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:sr,onChange:function(e){return cr(e.target.value)}}),(0,at.jsx)("input",{type:"date",className:"form-control",value:lr,onChange:function(e){return ur(e.target.value)}}),(0,at.jsxs)("select",{className:"form-control",value:dr,onChange:function(e){return fr(e.target.value)},children:[(0,at.jsx)("option",{value:"asc",children:"ASC"}),(0,at.jsx)("option",{value:"desc",children:"DESC"})]}),(0,at.jsx)("button",{className:"btn btn-success",onClick:xr,children:(0,at.jsx)("i",{className:"fa fa-search"})})]}),(0,at.jsxs)("table",{className:"table",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"pointer",children:"Usuario"}),(0,at.jsx)("th",{className:"pointer",children:"Origen"}),(0,at.jsx)("th",{className:"pointer",children:"Alterno"}),(0,at.jsx)("th",{className:"pointer",children:"Barras"}),(0,at.jsx)("th",{className:"pointer",children:"Descripción"}),(0,at.jsx)("th",{className:"pointer",children:"Cantidad"}),(0,at.jsx)("th",{className:"pointer",children:"Base"}),(0,at.jsx)("th",{className:"pointer",children:"Venta"}),(0,at.jsx)("th",{className:"pointer",children:"Hora"})]})}),hr.length?hr.map((function(e){return(0,at.jsxs)("tbody",{children:[(0,at.jsxs)("tr",{className:"bg-danger-light",children:[(0,at.jsx)("td",{rowSpan:2,className:"align-middle",children:e.usuario?e.usuario.usuario:""}),(0,at.jsx)("td",{rowSpan:2,className:"align-middle",children:e.origen?e.origen:""}),e.antes?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{children:e.antes.codigo_proveedor?e.antes.codigo_proveedor:""}),(0,at.jsx)("td",{children:e.antes.codigo_barras?e.antes.codigo_barras:""}),(0,at.jsx)("td",{children:e.antes.descripcion?e.antes.descripcion:""}),(0,at.jsx)("td",{children:e.antes.cantidad?e.antes.cantidad:""}),(0,at.jsx)("td",{children:vt(e.antes.precio_base?e.antes.precio_base:"")}),(0,at.jsx)("td",{children:vt(e.antes.precio?e.antes.precio:"")})]}):(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("td",{colSpan:6,className:"text-center h4",children:"Producto nuevo"})}),(0,at.jsx)("td",{children:e.created_at?e.created_at:""})]}),(0,at.jsxs)("tr",{className:"bg-success-light pb-table2",children:[e.despues?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{children:e.despues.codigo_proveedor?e.despues.codigo_proveedor:""}),(0,at.jsx)("td",{children:e.despues.codigo_barras?e.despues.codigo_barras:""}),(0,at.jsx)("td",{children:e.despues.descripcion?e.despues.descripcion:""}),(0,at.jsx)("td",{children:e.despues.cantidad?e.despues.cantidad:""}),(0,at.jsx)("td",{children:vt(e.despues.precio_base?e.despues.precio_base:"")}),(0,at.jsx)("td",{children:vt(e.despues.precio?e.despues.precio:"")})]}):(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("td",{colSpan:6,className:"text-center h4",children:"Producto Eliminado"})}),(0,at.jsx)("td",{children:e.created_at?e.created_at:""})]})]},e.id)})):null]})]})}),"list"===bt&&(0,at.jsx)(_n,{openBarcodeScan:t,exportPendientes:r,getPorcentajeInventario:Xr,cleanInventario:$r,selectRepleceProducto:Tr,replaceProducto:Pr,setreplaceProducto:kr,saveReplaceProducto:Dr,user:z,setStockMin:H,getmovientoinventariounitario:Or,datamodalhistoricoproducto:Ar,setdatamodalhistoricoproducto:Ir,usuariosData:gr,openmodalhistoricoproducto:br,showmodalhistoricoproducto:yr,setshowmodalhistoricoproducto:jr,fecha1modalhistoricoproducto:wr,setfecha1modalhistoricoproducto:Nr,fecha2modalhistoricoproducto:_r,setfecha2modalhistoricoproducto:Cr,usuariomodalhistoricoproducto:Er,setusuariomodalhistoricoproducto:Sr,reporteInventario:jt,printTickedPrecio:V,sameCatValue:tr,sameProValue:rr,setCtxBulto:G,setPrecioAlterno:q,busqAvanzInputsFun:Zt,busqAvanzInputs:Kt,buscarInvAvanz:Jt,busquedaAvanazadaInv:$t,setbusquedaAvanazadaInv:Qt,setSameCat:Yt,setSamePro:Xt,setSameGanancia:Wt,categorias:_t,setporcenganancia:Y,refsInpInvList:Nt,proveedoresList:me,guardarNuevoProductoLote:wt,inputBuscarInventario:K,type:function(e){return!e||"delete"===e},number:J,productosInventario:$,qBuscarInventario:Q,setQBuscarInventario:Z,changeInventario:X,Invnum:Je,setInvnum:et,InvorderColumn:tt,setInvorderColumn:rt,InvorderBy:nt,setInvorderBy:ot}),"inventarionovedades"===bt&&(0,at.jsx)(En,{inventarioNovedadesData:nn,setinventarioNovedadesData:an,getInventarioNovedades:on,resolveInventarioNovedades:sn,sendInventarioNovedades:cn,delInventarioNovedades:ln,number:J})]}),"Submenugarantia"===le&&(0,at.jsx)(Tn,{setSalidaGarantias:fn,garantiaEstado:Sn,setgarantiaEstado:An,garantiasData:hn,getGarantias:pn,setqgarantia:mn,qgarantia:gn,garantiaorderCampo:vn,setgarantiaorderCampo:bn,garantiaorder:wn,setgarantiaorder:Nn}),"proveedores"===le&&(0,at.jsx)(xn,{number:J,setProveedor:ee,proveedordescripcion:te,setproveedordescripcion:re,proveedorrif:ne,setproveedorrif:ae,proveedordireccion:oe,setproveedordireccion:ie,proveedortelefono:se,setproveedortelefono:ce,subViewInventario:le,setsubViewInventario:ue,setIndexSelectProveedores:de,indexSelectProveedores:fe,qBuscarProveedor:he,setQBuscarProveedor:pe,proveedoresList:me,delProveedor:ge,delProducto:ve,inpInvid_proveedor:xe,setinpInvid_proveedor:be,inpInvid_marca:ye,setinpInvid_marca:je,inpInvid_deposito:we,setinpInvid_deposito:Ne}),"fallas"===le&&(0,at.jsx)(jn,{openReporteFalla:W,qFallas:st,setqFallas:ct,orderCatFallas:lt,setorderCatFallas:ut,orderSubCatFallas:dt,setorderSubCatFallas:ft,ascdescFallas:ht,setascdescFallas:pt,fallas:mt,delFalla:gt}),"estadisticas"===le&&(0,at.jsx)(Cn,{categoriaEstaInve:nr,setcategoriaEstaInve:ar,categorias:_t,fechaQEstaInve:Ct,setfechaQEstaInve:Et,fechaFromEstaInve:St,setfechaFromEstaInve:At,fechaToEstaInve:It,setfechaToEstaInve:Ot,orderByEstaInv:Tt,setorderByEstaInv:Pt,orderByColumEstaInv:kt,setorderByColumEstaInv:Dt,moneda:vt,getEstaInventario:U,dataEstaInven:Mt})]})})})]}),(0,at.jsx)("style",{jsx:!0,children:"\n        .inventario-container {\n          min-height: 100vh;\n          background-color: #f8f9fa;\n          padding: 1.5rem 0;\n        }\n\n        .btn {\n          transition: all 0.3s ease;\n          border-radius: 0.5rem;\n          padding: 0.5rem 1rem;\n          font-weight: 500;\n        }\n\n        .btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n\n        .btn-group {\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border-radius: 0.5rem;\n          overflow: hidden;\n        }\n\n        .input-group {\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border-radius: 0.5rem;\n          overflow: hidden;\n        }\n\n        .input-group-text {\n          background-color: #f8f9fa;\n          border: 1px solid #dee2e6;\n          color: #6c757d;\n        }\n\n        .form-control {\n          border: 1px solid #dee2e6;\n          padding: 0.5rem 1rem;\n          font-size: 0.9rem;\n        }\n\n        .form-control:focus {\n          box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.15);\n          border-color: #86b7fe;\n        }\n\n        .content-wrapper {\n          background-color: white;\n          border-radius: 1rem;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n          padding: 1.5rem;\n          min-height: calc(100vh - 200px);\n        }\n\n        @media (max-width: 768px) {\n          .inventario-container {\n            padding: 1rem 0;\n          }\n\n          .btn-group {\n            width: 100%;\n            margin-bottom: 0.5rem;\n          }\n\n          .btn {\n            flex: 1;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n\n          .content-wrapper {\n            padding: 1rem;\n          }\n        }\n\n        @media (max-width: 576px) {\n          .btn {\n            font-size: 0.875rem;\n            padding: 0.375rem 0.75rem;\n          }\n\n          .input-group {\n            width: 100%;\n          }\n        }\n      "})]})};function kn(e){var t=e.dolar,r=e.moneda,n=e.number,a=e.inputCantidadCarritoref,i=e.producto,s=(e.pedidoList,e.setSelectItem),c=e.selectItem,l=e.addCarritoRequest,u=e.cantidad,d=e.numero_factura,f=e.setCantidad,h=e.setNumero_factura,p=e.permisoExecuteEnter,m=e.setPresupuesto,g=e.getPedidosList;return(0,o.useEffect)((function(){g()}),[]),D("tab",(function(e){e.repeat||"number"==typeof c&&l("agregar_procesar")}),{enableOnTags:["INPUT","SELECT"]},[]),D("enter",(function(e){e.repeat||p&&l("agregar")}),{filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("section",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,at.jsx)("div",{className:"absolute top-4 right-4 text-red-500 cursor-pointer hover:text-red-600 transition-colors",onClick:s,children:(0,at.jsx)("span",{className:"text-2xl font-bold",children:"✖"})}),(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[(0,at.jsxs)("div",{className:"flex justify-between p-6 border-b",children:[(0,at.jsxs)("div",{className:"text-4xl font-bold text-green-600",children:[r(i.precio),i.bulto&&(0,at.jsxs)("span",{className:"inline-block ml-2 text-sm font-medium px-2 py-1 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 transition-colors",onClick:function(){return function(e){var t=window.prompt("Cantidad por bulto");if(t){var r=n(t*e);"number"==typeof r&&f(r)}}(i.bulto)},children:["x",i.bulto]})]}),(0,at.jsxs)("div",{className:"text-right max-w-[60%]",children:[(0,at.jsx)("h5",{className:"text-sm text-gray-600 font-medium mb-1",children:i.codigo_proveedor}),(0,at.jsx)("h4",{className:"text-lg font-semibold text-gray-900 leading-tight",children:i.descripcion})]})]}),(0,at.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"p-6 space-y-6",children:[(0,at.jsx)("div",{className:"space-y-4",children:(0,at.jsxs)("div",{className:"flex bg-white rounded-lg shadow-sm overflow-hidden h-20",children:[(0,at.jsx)("div",{className:"flex-1 min-w-[120px]",children:(0,at.jsx)("input",{type:"text",ref:a,className:"w-full h-full px-4 text-lg border-2 border-gray-200 rounded-l-lg focus:border-sinapsis focus:ring-0",placeholder:"Cantidad",onChange:function(e){return f(n(e.target.value))},value:u||""})}),(0,at.jsx)("div",{className:"flex-1 px-4 py-2 bg-gray-50 border-l border-gray-200",children:(0,at.jsxs)("div",{className:"space-y-1",children:[(0,at.jsxs)("div",{className:"flex items-center",children:[(0,at.jsx)("span",{className:"text-gray-600 mr-1",children:"$"}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:u*i.precio?r(u*i.precio):"0.00"})]}),(0,at.jsxs)("div",{className:"flex items-center",children:[(0,at.jsx)("span",{className:"text-gray-600 mr-1",children:"Bs."}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:u*i.precio*t?r(u*i.precio*t):"0.00"})]})]})}),(0,at.jsx)("div",{className:"w-20 flex items-center justify-center bg-gray-50 border-l border-gray-200",children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("span",{className:"block text-sm text-gray-600",children:"Ct."}),(0,at.jsx)("span",{className:"text-lg font-semibold",children:i.cantidad})]})})]})}),(0,at.jsxs)("div",{className:"space-y-3",children:[(0,at.jsx)("div",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Tipo de Pedido"}),(0,at.jsxs)("div",{className:"flex gap-4",children:[(0,at.jsx)("button",{className:"flex-1 py-3 px-6 text-lg font-medium rounded-lg transition-colors ".concat("ultimo"===d?"bg-sinapsis text-white hover:bg-sinapsis-select":"bg-white text-sinapsis border-2 border-sinapsis hover:bg-sinapsis/5"),onClick:function(){return h("ultimo")},children:"ÚLTIMO"}),(0,at.jsx)("button",{className:"flex-1 py-3 px-6 text-lg font-medium rounded-lg transition-colors ".concat("nuevo"===d?"bg-green-600 text-white hover:bg-green-700":"bg-white text-green-600 border-2 border-green-600 hover:bg-green-50"),onClick:function(){return h("nuevo")},children:"NUEVO PEDIDO"})]})]}),(0,at.jsxs)("div",{className:"space-y-3",children:[(0,at.jsx)("div",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Acciones"}),(0,at.jsxs)("div",{className:"flex gap-4",children:[(0,at.jsx)("button",{className:"flex-1 py-3 px-6 bg-sinapsis text-white font-medium rounded-lg hover:bg-sinapsis-select transition-colors",type:"button",onClick:l,"data-type":"agregar",children:"Agregar(enter)"}),(0,at.jsx)("button",{className:"flex-1 py-3 px-6 bg-white text-green-600 border-2 border-green-600 font-medium rounded-lg hover:bg-green-50 transition-colors",type:"button",onClick:l,"data-type":"agregar_procesar",children:"Procesar(TAB)"}),(0,at.jsx)("button",{className:"px-4 py-2 bg-white text-gray-600 border-2 border-gray-300 font-medium rounded-lg hover:bg-gray-50 transition-colors",type:"button",onClick:m,"data-id":i.id,children:"Presupuesto"})]})]})]})]})]}),(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"})]})}const Dn=function(e){e.auth;var t=e.productos,r=e.addCarrito,n=e.clickSetOrderColumn,a=e.orderColumn,o=e.orderBy,i=e.counterListProductos,s=e.tbodyproductosref,c=(e.selectProductoFast,e.moneda),l=e.user;return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"d-none d-lg-block",children:(0,at.jsxs)("table",{className:"table table-hover",children:[(0,at.jsx)("thead",{className:"bg-light border-bottom",children:(0,at.jsxs)("tr",{children:[(0,at.jsxs)("th",{className:"py-3 pointer","data-valor":"codigo_proveedor",onClick:n,children:["BARRAS","codigo_proveedor"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]}),(0,at.jsxs)("th",{className:"py-3 pointer","data-valor":"codigo_proveedor",onClick:n,children:["ALTERNO","codigo_proveedor"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]}),(0,at.jsxs)("th",{className:"py-3 pointer","data-valor":"descripcion",onClick:n,children:["DESCRIPCIÓN","descripcion"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]}),(0,at.jsxs)("th",{className:"py-3 pointer text-center","data-valor":"cantidad",onClick:n,children:["DISPONIBLE","cantidad"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]}),(0,at.jsxs)("th",{className:"py-3 pointer","data-valor":"unidad",onClick:n,children:["UNIDAD","unidad"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]}),(0,at.jsxs)("th",{className:"py-3 pointer","data-valor":"precio",onClick:n,children:["PRECIO","precio"==a&&(0,at.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-2")})]})]})}),(0,at.jsx)("tbody",{ref:s,className:"table-group-divider",children:null!=t&&t.length?t.map((function(e,t){return(0,at.jsxs)("tr",{"data-index":t,tabIndex:"-1",className:"".concat(i==t?"table-active":""," align-middle"),onClick:function(e){return r(e)},style:{cursor:"pointer"},children:[(0,at.jsx)("td",{className:"py-3",children:(0,at.jsx)("span",{className:"fw-bold",children:e.codigo_barras})}),(0,at.jsx)("td",{className:"py-3",children:(0,at.jsx)("span",{className:"text-muted",children:e.codigo_proveedor})}),(0,at.jsx)("td",{className:"py-3",children:(0,at.jsx)("span",{className:"fs-5",children:e.descripcion})}),(0,at.jsx)("td",{className:"py-3 text-center",children:(0,at.jsx)("span",{className:"badge ".concat(parseFloat(e.cantidad)>0?"bg-success":"bg-danger"," fs-6"),children:e.cantidad.replace(".00","")})}),(0,at.jsx)("td",{className:"py-3",children:e.unidad}),(0,at.jsx)("td",{className:"py-3",children:(0,at.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,at.jsx)("button",{className:"btn btn-dark w-100",children:(0,at.jsx)("span",{className:"fs-4 fw-bold",children:c(e.precio)})}),(0,at.jsxs)("div",{className:"d-flex gap-2",children:[(0,at.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,at.jsx)("small",{children:"Bs."})," ",c(e.bs)]}),"elorza"==l.sucursal&&(0,at.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,at.jsx)("small",{children:"Cop."})," ",c(e.cop)]})]})]})})]},e.id)})):(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:"6",className:"text-center py-5",children:(0,at.jsxs)("div",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fas fa-box-open fa-3x mb-3"}),(0,at.jsx)("p",{className:"h4",children:"No hay productos disponibles"})]})})})})]})}),(0,at.jsx)("div",{className:"d-lg-none",children:null!=t&&t.length?(0,at.jsx)("div",{className:"row g-3",children:t.map((function(e,t){return(0,at.jsx)("div",{"data-index":t,onClick:r,className:"col-12",children:(0,at.jsx)("div",{className:"card h-100 shadow-sm ".concat(i==t?"border-dark":""),children:(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:(0,at.jsx)("small",{children:e.codigo_barras})}),(0,at.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:(0,at.jsx)("small",{children:e.codigo_proveedor})})]}),(0,at.jsx)("span",{className:"badge ".concat(parseFloat(e.cantidad)>0?"bg-success":"bg-danger"," fs-6"),children:e.cantidad.replace(".00","")})]}),(0,at.jsx)("h5",{className:"card-title mb-3",children:e.descripcion}),(0,at.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,at.jsx)("button",{className:"btn btn-dark w-100",children:(0,at.jsx)("span",{className:"fs-4 fw-bold",children:c(e.precio)})}),(0,at.jsxs)("div",{className:"d-flex gap-2",children:[(0,at.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,at.jsx)("small",{children:"Bs."})," ",c(e.bs)]}),"elorza"==l.sucursal&&(0,at.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,at.jsx)("small",{children:"Cop."})," ",c(e.cop)]})]})]})]})})},e.id)}))}):(0,at.jsx)("div",{className:"text-center py-5",children:(0,at.jsxs)("div",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fas fa-box-open fa-3x mb-3"}),(0,at.jsx)("p",{className:"h4",children:"No hay productos disponibles"})]})})})]})};function Mn(e){var t=e.user,r=e.productos,n=e.moneda,a=e.inputbusquedaProductosref,o=e.presupuestocarrito,i=e.getProductos,s=e.showOptionQMain,c=e.setshowOptionQMain,l=e.num,u=e.setNum,d=e.itemCero,f=e.setpresupuestocarrito,h=e.toggleImprimirTicket,p=e.delitempresupuestocarrito,m=e.sumsubtotalespresupuesto,g=e.auth,v=e.addCarrito,x=e.clickSetOrderColumn,b=e.orderColumn,y=e.orderBy,j=e.counterListProductos,w=e.setCounterListProductos,N=e.tbodyproductosref,_=e.focusCtMain,C=e.selectProductoFast,E=e.setpresupuestocarritotopedido,S=e.openBarcodeScan;return D("down",(function(){var e=j+1;N&&N.current&&N.current.rows[e]&&(w(e),N.current.rows[e].focus())}),{enableOnTags:["INPUT","SELECT"]},[]),D("up",(function(){if(j>0){var e=j-1;N&&N.current&&N.current.rows[e]&&(N.current.rows[e].focus(),w(e))}}),{enableOnTags:["INPUT","SELECT"]},[]),(0,at.jsx)("div",{className:"container-fluid pe-5 ps-5",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsx)("div",{className:"d-flex justify-content-center",children:(0,at.jsxs)("div",{className:"input-group mb-4 ",children:[s?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"input-group-text pointer",onClick:function(){return c(!1)},children:(0,at.jsx)("i",{className:"fa fa-arrow-right"})}),(0,at.jsxs)("span",{className:"input-group-text pointer",onClick:function(){var e=window.prompt("Número de resultados a mostrar");e&&u(e)},children:["Num.(",l,")"]}),(0,at.jsxs)("span",{className:"input-group-text pointer",children:["En cero: ",d?"Sí":"No"]})]}):(0,at.jsx)("span",{className:"input-group-text pointer text-dark",onClick:function(){return c(!0)},children:(0,at.jsx)("i",{className:"fa fa-arrow-left"})}),(0,at.jsx)("input",{type:"text",className:"form-control fs-2",ref:a,placeholder:"Buscar... Presiona (ESC)",onChange:function(e){return i(e.target.value)}}),(0,at.jsx)("span",{className:"input-group-text text-dark",onClick:function(){return S("inputbusquedaProductosref")},children:(0,at.jsx)("i",{className:"fas fa-barcode"})})]})}),(0,at.jsx)(Dn,{user:t,moneda:n,auth:g,productos:r,addCarrito:v,clickSetOrderColumn:x,orderColumn:b,orderBy:y,counterListProductos:j,setCounterListProductos:w,tbodyproductosref:N,focusCtMain:_,selectProductoFast:C})]}),o.length?(0,at.jsx)("div",{className:"col-4",children:(0,at.jsxs)("div",{className:"modalpresupuesto",children:[(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return f([])},children:(0,at.jsx)("i",{className:"fa fa-times"})})}),(0,at.jsx)("td",{className:"text-center",children:(0,at.jsx)("h1",{children:"Presupuesto"})}),(0,at.jsxs)("td",{className:"text-right",children:[(0,at.jsx)("button",{className:"btn btn-warning",onClick:function(){return h("presupuesto")},children:(0,at.jsx)("i",{className:"fa fa-print"})}),(0,at.jsx)("button",{className:"btn btn-outline-success",onClick:E,children:(0,at.jsx)("i",{className:"fa fa-save"})})]})]})})}),(0,at.jsxs)("table",{className:"table table-sm",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Item"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Ct."}),(0,at.jsx)("th",{children:"Precio"}),(0,at.jsx)("th",{className:"text-right",children:"Subtotal"})]})}),(0,at.jsxs)("tbody",{children:[o.map((function(e,t){return(0,at.jsxs)("tr",{className:"pointer",onClick:function(){return p(t)},children:[(0,at.jsx)("td",{children:t+1}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:e.cantidad}),(0,at.jsx)("td",{children:e.precio}),(0,at.jsx)("td",{className:"text-right",children:e.subtotal})]},t)})),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{colSpan:"4",className:"h4 text-right",children:"Total"}),(0,at.jsx)("td",{className:"text-right text-success h3",children:m()})]})]})]})]})}):null]})})}function Rn(e){var t=e.openBarcodeScan,r=e.productos,n=e.selectItem,a=e.setPresupuesto,o=e.dolar,i=e.setSelectItem,s=e.cantidad,c=e.setCantidad,l=e.numero_factura,u=e.setNumero_factura,d=e.pedidoList,f=e.setFalla,h=e.number,p=e.moneda,m=e.inputCantidadCarritoref,g=e.addCarritoRequest,v=e.inputbusquedaProductosref,x=e.presupuestocarrito,b=e.getProductos,y=e.showOptionQMain,j=e.setshowOptionQMain,w=e.num,N=e.setNum,_=e.itemCero,C=e.setpresupuestocarrito,E=e.toggleImprimirTicket,S=e.delitempresupuestocarrito,A=e.sumsubtotalespresupuesto,I=e.auth,O=e.addCarrito,T=e.clickSetOrderColumn,P=e.orderColumn,k=e.orderBy,M=e.counterListProductos,R=e.setCounterListProductos,F=e.tbodyproductosref,L=e.focusCtMain,B=e.selectProductoFast,U=e.setpresupuestocarritotopedido,z=e.getPedido,V=e.getPedidos,G=e.setView,H=e.permisoExecuteEnter,q=e.getPedidosList,W=e.user;return D("esc",(function(){"number"==typeof n?i(null):(v.current.value="",v.current.focus())}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("f1",(function(){null===n&&z("ultimo",(function(){G("pagar")}))}),{enableOnTags:["INPUT","SELECT"]},[]),D("f2",(function(){G("pedidos"),V()}),{enableOnTags:["INPUT","SELECT"]},[]),D("space",(function(){null!==n&&u("nuevo")}),{enableOnTags:["INPUT","SELECT"],filter:!1},[l]),D("enter",(function(){if(H&&F&&F.current){var e=F.current.rows[M].attributes["data-index"].value;r[e]&&O(e)}}),{filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),(0,at.jsx)(at.Fragment,{children:"number"==typeof n?r[n]?(0,at.jsx)(kn,{selectItem:n,setPresupuesto:a,dolar:o,producto:r[n],setSelectItem:i,cantidad:s,setCantidad:c,numero_factura:l,setNumero_factura:u,pedidoList:d,setFalla:f,number:h,moneda:p,inputCantidadCarritoref:m,addCarritoRequest:g,permisoExecuteEnter:H,getPedidosList:q}):null:(0,at.jsx)(Mn,{openBarcodeScan:t,user:W,productos:r,selectItem:n,setPresupuesto:a,dolar:o,setSelectItem:i,cantidad:s,setCantidad:c,numero_factura:l,setNumero_factura:u,pedidoList:d,setFalla:f,number:h,moneda:p,inputCantidadCarritoref:m,addCarritoRequest:g,inputbusquedaProductosref:v,presupuestocarrito:x,getProductos:b,showOptionQMain:y,setshowOptionQMain:j,num:w,setNum:N,itemCero:_,setpresupuestocarrito:C,toggleImprimirTicket:E,delitempresupuestocarrito:S,sumsubtotalespresupuesto:A,auth:I,addCarrito:O,clickSetOrderColumn:T,orderColumn:P,orderBy:k,counterListProductos:M,setCounterListProductos:R,tbodyproductosref:F,focusCtMain:L,selectProductoFast:B,setpresupuestocarritotopedido:U})})}var Fn=r(6942),Ln=r.n(Fn),Bn=r(8221),Un=r.n(Bn),zn=r(7350),Vn=r.n(zn),Gn=function(e,t){return Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Gn(e,t)};function Hn(e,t){function r(){this.constructor=e}Gn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function qn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}var Wn=function(e,t,r,n){switch(t){case"debounce":return Un()(e,r,n);case"throttle":return Vn()(e,r,n);default:return e}},Yn=function(e){return"function"==typeof e},Xn=function(){return"undefined"==typeof window},$n=function(e){return e instanceof Element||e instanceof HTMLDocument},Qn=function(e,t,r){return function(n){var a=n.width,o=n.height;e((function(e){return e.width===a&&e.height===o||e.width===a&&!r||e.height===o&&!t?e:{width:a,height:o}}))}},Zn=function(e){function t(t){var r=e.call(this,t)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var e=r.props,t=e.targetRef,n=e.observerOptions;if(!Xn()){t&&t.current&&(r.targetRef.current=t.current);var a=r.getElement();a&&(r.observableElement&&r.observableElement===a||(r.observableElement=a,r.resizeObserver.observe(a,n)))}},r.getElement=function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(Xn())return null;if(t)return document.querySelector(t);if(n&&$n(n))return n;if(r.targetRef&&$n(r.targetRef.current))return r.targetRef.current;var o=(0,a.findDOMNode)(r);if(!o)return null;switch(r.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return o;default:return o.parentElement}},r.createResizeHandler=function(e){var t=r.props,n=t.handleWidth,a=void 0===n||n,o=t.handleHeight,i=void 0===o||o,s=t.onResize;if(a||i){var c=Qn((function(e){return r.setState(e,(function(){return null==s?void 0:s(r.state.width,r.state.height)}))}),a,i);e.forEach((function(e){var t=e&&e.contentRect||{},n=t.width,a=t.height;!r.skipOnMount&&!Xn()&&c({width:n,height:a}),r.skipOnMount=!1}))}},r.getRenderType=function(){var e=r.props,t=e.render,n=e.children;return Yn(t)?"renderProp":Yn(n)?"childFunction":(0,o.isValidElement)(n)?"child":Array.isArray(n)?"childArray":"parent"};var n=t.skipOnMount,i=t.refreshMode,s=t.refreshRate,c=void 0===s?1e3:s,l=t.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=n,r.targetRef=(0,o.createRef)(),r.observableElement=null,Xn()||(r.resizeHandler=Wn(r.createResizeHandler,i,c,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return Hn(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Xn()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e=this.props,t=e.render,r=e.children,n=e.nodeType,a=void 0===n?"div":n,i=this.state,s={width:i.width,height:i.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null==t?void 0:t(s);case"childFunction":var c=r;return null==c?void 0:c(s);case"child":var l=r;if(l.type&&"string"==typeof l.type){var u=qn(s,["targetRef"]);return(0,o.cloneElement)(l,u)}return(0,o.cloneElement)(l,s);case"childArray":return r.map((function(e){return!!e&&(0,o.cloneElement)(e,s)}));default:return o.createElement(a,null)}},t}(o.PureComponent);Xn()?o.useEffect:o.useLayoutEffect;var Kn=r(8156),Jn=r.n(Kn),ea=r(6449),ta=r.n(ea),ra=r(1741),na=r.n(ra),aa=r(8023),oa=r.n(aa),ia=r(5015),sa=r.n(ia),ca=function(e){return 0===e?0:e>0?1:-1},la=function(e){return sa()(e)&&e.indexOf("%")===e.length-1},ua=function(e){return oa()(e)&&!na()(e)},da=function(e){return ua(e)||sa()(e)},fa=0,ha=function(e){var t=++fa;return"".concat(e||"").concat(t)},pa=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ua(e)&&!sa()(e))return n;if(la(e)){var o=e.indexOf("%");r=t*parseFloat(e.slice(0,o))/100}else r=+e;return na()(r)&&(r=n),a&&r>t&&(r=t),r},ma=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ga=function(e,t){return ua(e)&&ua(t)?function(r){return e+r*(t-e)}:function(){return t}};function va(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):Jn()(e,t))===r})):null}var xa=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(this,arguments)}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wa=(0,o.forwardRef)((function(e,t){var r=e.aspect,n=e.width,a=void 0===n?"100%":n,i=e.height,s=void 0===i?"100%":i,c=e.minWidth,l=void 0===c?0:c,u=e.minHeight,d=e.maxHeight,f=e.children,h=e.debounce,p=void 0===h?0:h,m=e.id,g=e.className,v=e.onResize,x=ya((0,o.useState)({containerWidth:-1,containerHeight:-1}),2),b=x[0],y=x[1],j=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return j}),[j]);var w=(0,o.useCallback)((function(){return j.current?{containerWidth:j.current.clientWidth,containerHeight:j.current.clientHeight}:null}),[]),N=(0,o.useCallback)((function(){var e=w();if(e){var t=e.containerWidth,r=e.containerHeight;v&&v(t,r),y((function(e){var n=e.containerWidth,a=e.containerHeight;return t!==n||r!==a?{containerWidth:t,containerHeight:r}:e}))}}),[w]),_=(0,o.useMemo)((function(){var e=b.containerWidth,t=b.containerHeight;if(e<0||t<0)return null;xa(la(a)||la(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=la(a)?e:a,i=la(s)?t:s;return r&&r>0&&(n?i=n/r:i&&(n=i*r),d&&i>d&&(i=d)),xa(n>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,i,a,s,l,u,r),(0,o.cloneElement)(f,{width:n,height:i})}),[r,f,s,d,u,l,b,a]);(0,o.useEffect)((function(){var e=w();e&&y(e)}),[w]);var C={width:a,height:s,minWidth:l,minHeight:u,maxHeight:d};return o.createElement(Zn,{handleWidth:!0,handleHeight:!0,onResize:N,targetRef:j,refreshMode:p>0?"debounce":void 0,refreshRate:p},o.createElement("div",ba({},null!=m?{id:"".concat(m)}:{},{className:Ln()("recharts-responsive-container",g),style:C,ref:j}),_))})),Na=r(9747),_a=r.n(Na),Ca=r(7309),Ea=r.n(Ca),Sa=r(1882),Aa=r.n(Sa),Ia=r(3031),Oa=r.n(Ia),Ta=r(3181),Pa=r.n(Ta),ka=r(9843),Da=r.n(ka),Ma=r(3812),Ra=r.n(Ma),Fa={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Fa[e]},set:function(e,t){if("string"==typeof e)Fa[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){Fa[t]=e[t]}))}}};function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach((function(t){za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function za(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==La(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==La(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===La(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Va(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ha={widthCache:{},cacheCount:0},qa={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wa=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Ya="recharts_measurement_span";var Xa=function(e){return Object.keys(e).reduce((function(t,r){return"".concat(t).concat((n=r,n.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(Va(e),["-",t.toLowerCase()]):[].concat(Va(e),[t])}),[]).join("")),":").concat(function(e,t){return Wa.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(r,e[r]),";");var n}),"")},$a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Fa.isSsr)return{width:0,height:0};var r="".concat(e),n=Xa(t),a="".concat(r,"-").concat(n);if(Ha.widthCache[a])return Ha.widthCache[a];try{var o=document.getElementById(Ya);o||((o=document.createElement("span")).setAttribute("id",Ya),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Ua(Ua({},qa),t);Object.keys(i).map((function(e){return o.style[e]=i[e],e})),o.textContent=r;var s=o.getBoundingClientRect(),c={width:s.width,height:s.height};return Ha.widthCache[a]=c,++Ha.cacheCount>2e3&&(Ha.cacheCount=0,Ha.widthCache={}),c}catch(e){return{width:0,height:0}}};function Qa(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Za(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Za(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function to(e,t){var r,n,a=e.ticks,o=e.tickFormatter,i=e.viewBox,s=e.orientation,c=e.minTickGap,l=e.unit,u=e.fontSize,d=e.letterSpacing,f=i.x,h=i.y,p=i.width,m=i.height,g="top"===s||"bottom"===s?"width":"height",v=(a||[]).slice(),x=l&&"width"===g?$a(l,{fontSize:u,letterSpacing:d})[g]:0,b=v.length,y=b>=2?ca(v[1].coordinate-v[0].coordinate):1;if(1===y?(r="width"===g?f:h,n="width"===g?f+p:h+m):(r="width"===g?f+p:h+m,n="width"===g?f:h),t){var j=a[b-1],w=Aa()(o)?o(j.value,b-1):j.value,N=$a(w,{fontSize:u,letterSpacing:d})[g]+x,_=y*(j.coordinate+y*N/2-n);v[b-1]=j=Ja(Ja({},j),{},{tickCoord:_>0?j.coordinate-_*y:j.coordinate}),y*(j.tickCoord-y*N/2-r)>=0&&y*(j.tickCoord+y*N/2-n)<=0&&(n=j.tickCoord-y*(N/2+c),v[b-1]=Ja(Ja({},j),{},{isShow:!0}))}for(var C=t?b-1:b,E=0;E<C;E++){var S=v[E],A=Aa()(o)?o(S.value,E):S.value,I=$a(A,{fontSize:u,letterSpacing:d})[g]+x;if(0===E){var O=y*(S.coordinate-y*I/2-r);v[E]=S=Ja(Ja({},S),{},{tickCoord:O<0?S.coordinate-O*y:S.coordinate})}else v[E]=S=Ja(Ja({},S),{},{tickCoord:S.coordinate});y*(S.tickCoord-y*I/2-r)>=0&&y*(S.tickCoord+y*I/2-n)<=0&&(r=S.tickCoord+y*(I/2+c),v[E]=Ja(Ja({},S),{},{isShow:!0}))}return v}function ro(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit;if(!a||!a.length||!n)return[];if(ua(c)||Fa.isSsr)return function(e,t){return Qa(e,t+1)}(a,"number"==typeof c&&ua(c)?c:0);var d=[];return"equidistantPreserveStart"===c?function(e){for(var t=1,r=Qa(e,t,(function(e){return e.isShow}));t<=e.length;){if(void 0!==r)return r;r=Qa(e,++t,(function(e){return e.isShow}))}return e.slice(0,1)}(d=to({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r})):(d="preserveStart"===c||"preserveStartEnd"===c?to({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r},"preserveStartEnd"===c):function(e){var t,r,n=e.ticks,a=e.tickFormatter,o=e.viewBox,i=e.orientation,s=e.minTickGap,c=e.unit,l=e.fontSize,u=e.letterSpacing,d=o.x,f=o.y,h=o.width,p=o.height,m="top"===i||"bottom"===i?"width":"height",g=c&&"width"===m?$a(c,{fontSize:l,letterSpacing:u})[m]:0,v=(n||[]).slice(),x=v.length,b=x>=2?ca(v[1].coordinate-v[0].coordinate):1;1===b?(t="width"===m?d:f,r="width"===m?d+h:f+p):(t="width"===m?d+h:f+p,r="width"===m?d:f);for(var y=x-1;y>=0;y--){var j=v[y],w=Aa()(a)?a(j.value,x-y-1):j.value,N=$a(w,{fontSize:l,letterSpacing:u})[m]+g;if(y===x-1){var _=b*(j.coordinate+b*N/2-r);v[y]=j=Ja(Ja({},j),{},{tickCoord:_>0?j.coordinate-_*b:j.coordinate})}else v[y]=j=Ja(Ja({},j),{},{tickCoord:j.coordinate});b*(j.tickCoord-b*N/2-t)>=0&&b*(j.tickCoord+b*N/2-r)<=0&&(r=j.tickCoord-b*(N/2+s),v[y]=Ja(Ja({},j),{},{isShow:!0}))}return v}({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r}),d.filter((function(e){return e.isShow})))}var no=r(3805),ao=r.n(no),oo=r(4363);function io(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}var co=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lo=["points","pathLength"],uo={svg:["viewBox","children"],polygon:lo,polyline:lo},fo=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ho=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,o.isValidElement)(e)&&(r=e.props),!ao()(r))return null;var n={};return Object.keys(r).forEach((function(e){fo.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})})),n},po=function(e,t,r){if(!ao()(e)||"object"!==so(e))return null;var n=null;return Object.keys(e).forEach((function(a){var o=e[a];fo.includes(a)&&"function"==typeof o&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(o,t,r))})),n},mo=["children"],go=["children"];function vo(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var xo={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},bo=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},yo=null,jo=null,wo=function e(t){if(t===yo&&ta()(jo))return jo;var r=[];return o.Children.forEach(t,(function(t){Da()(t)||((0,oo.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),jo=r,yo=t,r};function No(e,t){var r=[],n=[];return n=ta()(t)?t.map((function(e){return bo(e)})):[bo(t)],wo(e).forEach((function(e){var t=Jn()(e,"type.displayName")||Jn()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function _o(e,t){var r=No(e,t);return r&&r[0]}var Co=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!ua(r)||r<=0||!ua(n)||n<=0)},Eo=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],So=function(e){return e&&e.type&&sa()(e.type)&&Eo.indexOf(e.type)>=0},Ao=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if((0,o.isValidElement)(e)&&(n=e.props),!ao()(n))return null;var a={};return Object.keys(n).forEach((function(e){var o;(function(e,t,r,n){var a,o=null!==(a=null==uo?void 0:uo[n])&&void 0!==a?a:[];return!Aa()(e)&&(n&&o.includes(t)||co.includes(t))||r&&fo.includes(t)})(null===(o=n)||void 0===o?void 0:o[e],e,t,r)&&(a[e]=n[e])})),a},Io=function e(t,r){if(t===r)return!0;var n=o.Children.count(t);if(n!==o.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Oo(ta()(t)?t[0]:t,ta()(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(ta()(i)||ta()(s)){if(!e(i,s))return!1}else if(!Oo(i,s))return!1}return!0},Oo=function(e,t){if(Da()(e)&&Da()(t))return!0;if(!Da()(e)&&!Da()(t)){var r=e.props||{},n=r.children,a=vo(r,mo),o=t.props||{},i=o.children,s=vo(o,go);return n&&i?io(a,s)&&Io(n,i):!n&&!i&&io(a,s)}return!1},To=function(e,t){var r=[],n={};return wo(e).forEach((function(e,a){if(So(e))r.push(e);else if(e){var o=bo(e.type),i=t[o]||{},s=i.handler,c=i.once;if(s&&(!c||!n[o])){var l=s(e,o,a);r.push(l),n[o]=!0}}})),r},Po=["children","width","height","viewBox","className","style"];function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}function Do(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mo(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,c=Do(e,Po),l=a||{width:r,height:n,x:0,y:0},u=Ln()("recharts-surface",i);return o.createElement("svg",ko({},Ao(c,!0,"svg"),{className:u,width:r,height:n,style:s,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height)}),o.createElement("title",null,e.title),o.createElement("desc",null,e.desc),t)}var Ro=["children","className"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}function Lo(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Bo=o.forwardRef((function(e,t){var r=e.children,n=e.className,a=Lo(e,Ro),i=Ln()("recharts-layer",n);return o.createElement("g",Fo({className:i},Ao(a,!0),{ref:t}),r)})),Uo=r(14),zo=r.n(Uo),Vo=r(5556),Go=r.n(Vo),Ho=Object.getOwnPropertyNames,qo=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty;function Yo(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Xo(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function $o(e){return Ho(e).concat(qo(e))}var Qo=Object.hasOwn||function(e,t){return Wo.call(e,t)};function Zo(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var Ko=Object.getOwnPropertyDescriptor,Jo=Object.keys;function ei(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ti(e,t){return Zo(e.getTime(),t.getTime())}function ri(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ni(e,t){return e===t}function ai(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,o,i=new Array(n),s=e.entries(),c=0;(a=s.next())&&!a.done;){for(var l=t.entries(),u=!1,d=0;(o=l.next())&&!o.done;)if(i[d])d++;else{var f=a.value,h=o.value;if(r.equals(f[0],h[0],c,d,e,t,r)&&r.equals(f[1],h[1],f[0],h[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var oi=Zo;function ii(e,t,r){var n=Jo(e),a=n.length;if(Jo(t).length!==a)return!1;for(;a-- >0;)if(!hi(e,t,r,n[a]))return!1;return!0}function si(e,t,r){var n,a,o,i=$o(e),s=i.length;if($o(t).length!==s)return!1;for(;s-- >0;){if(!hi(e,t,r,n=i[s]))return!1;if(a=Ko(e,n),o=Ko(t,n),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable))return!1}return!0}function ci(e,t){return Zo(e.valueOf(),t.valueOf())}function li(e,t){return e.source===t.source&&e.flags===t.flags}function ui(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,o,i=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var c=t.values(),l=!1,u=0;(o=c.next())&&!o.done;){if(!i[u]&&r.equals(a.value,o.value,a.value,o.value,e,t,r)){l=i[u]=!0;break}u++}if(!l)return!1}return!0}function di(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function fi(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function hi(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Qo(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var pi=Array.isArray,mi="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,gi=Object.assign,vi=Object.prototype.toString.call.bind(Object.prototype.toString);var xi=bi();bi({strict:!0}),bi({circular:!0}),bi({circular:!0,strict:!0}),bi({createInternalComparator:function(){return Zo}}),bi({strict:!0,createInternalComparator:function(){return Zo}}),bi({circular:!0,createInternalComparator:function(){return Zo}}),bi({circular:!0,createInternalComparator:function(){return Zo},strict:!0});function bi(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,o=e.createState,i=e.strict,s=void 0!==i&&i,c=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?si:ei,areDatesEqual:ti,areErrorsEqual:ri,areFunctionsEqual:ni,areMapsEqual:n?Yo(ai,si):ai,areNumbersEqual:oi,areObjectsEqual:n?si:ii,arePrimitiveWrappersEqual:ci,areRegExpsEqual:li,areSetsEqual:n?Yo(ui,si):ui,areTypedArraysEqual:n?si:di,areUrlsEqual:fi};if(r&&(a=gi({},a,r(a))),t){var o=Xo(a.areArraysEqual),i=Xo(a.areMapsEqual),s=Xo(a.areObjectsEqual),c=Xo(a.areSetsEqual);a=gi({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}(e),l=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,l=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?i(e,h,p):"function"===m&&a(e,h,p);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return s(e,h,p);if(pi(e))return t(e,h,p);if(null!=mi&&mi(e))return d(e,h,p);if(g===Date)return r(e,h,p);if(g===RegExp)return l(e,h,p);if(g===Map)return o(e,h,p);if(g===Set)return u(e,h,p);var v=vi(e);return"[object Date]"===v?r(e,h,p):"[object RegExp]"===v?l(e,h,p):"[object Map]"===v?o(e,h,p):"[object Set]"===v?u(e,h,p):"[object Object]"===v?"function"!=typeof e.then&&"function"!=typeof h.then&&s(e,h,p):"[object URL]"===v?f(e,h,p):"[object Error]"===v?n(e,h,p):"[object Arguments]"===v?s(e,h,p):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&c(e,h,p)}}(c),u=a?a(l):(t=l,function(e,r,n,a,o,i,s){return t(e,r,s)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(e,i){var s=n(),c=s.cache,l=void 0===c?t?new WeakMap:void 0:c,u=s.meta;return r(e,i,{cache:l,equals:a,meta:u,strict:o})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(e,t){return r(e,t,i)}}({circular:n,comparator:l,createState:o,equals:u,strict:s})}function yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function wi(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ni(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _i(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=wi(n),o=a[0],i=a.slice(1);return"number"==typeof o?void yi(r.bind(null,i),o):(r(o),void yi(r.bind(null,i)))}"object"===ji(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach((function(t){Ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ai(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ci(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ci(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ii=["Webkit","Moz","O","ms"],Oi=["-webkit-","-moz-","-o-","-ms-"],Ti=["transform","transformOrigin","transition"],Pi=function(e){return e},ki=function(e,t){return Object.keys(t).reduce((function(r,n){return Si(Si({},r),{},Ai({},n,e(n,t[n])))}),{})},Di=function(e){return Object.keys(e).reduce((function(e,t){return Si(Si({},e),function(e,t){if(-1===Ti.indexOf(e))return Ai({},e,Number.isNaN(t)?0:t);var r="transition"===e,n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),a=t;return Ii.reduce((function(e,o,i){return r&&(a=t.replace(/(transform|transform-origin)/gim,"".concat(Oi[i],"$1"))),Si(Si({},e),{},Ai({},o+n,a))}),{})}(t,e[t]))}),e)},Mi=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Li(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Li(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){if(e){if("string"==typeof e)return Bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bi(e,t):void 0}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ui=1e-4,zi=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Vi=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},Gi=function(e,t){return function(r){var n=zi(e,t);return Vi(n,r)}},Hi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=Ri(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);n=c[0],a=c[1],o=c[2],i=c[3]}}[n,o,a,i].every((function(e){return"number"==typeof e&&e>=0&&e<=1}));var l,u,d=Gi(n,o),f=Gi(a,i),h=(l=n,u=o,function(e){var t=zi(l,u),r=[].concat(Fi(t.map((function(e,t){return e*t})).slice(1)),[0]);return Vi(r,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,o=h(r);if(Math.abs(a-t)<Ui||o<Ui)return f(r);r=p(r-a/o)}return f(r)};return m.isStepper=!1,m},qi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hi(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,o=e.dt,i=void 0===o?17:o,s=function(e,t,n){var o=n+(-(e-t)*r-n*a)*i/1e3,s=n*i/1e3+e;return Math.abs(s-t)<Ui&&Math.abs(o)<Ui?[t,0]:[s,o]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===n.split("(")[0])return Hi(n)}return"function"==typeof n?n:null};function Wi(e){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(e)}function Yi(e){return function(e){if(Array.isArray(e))return Ji(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ki(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(r),!0).forEach((function(t){Qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Ki(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ki(e,t){if(e){if("string"==typeof e)return Ji(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ji(e,t):void 0}}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var es=function(e,t,r){return e+(t-e)*r},ts=function(e){return e.from!==e.to},rs=function e(t,r,n){var a=ki((function(e,r){if(ts(r)){var n=Zi(t(r.from,r.to,r.velocity),2),a=n[0],o=n[1];return $i($i({},r),{},{from:a,velocity:o})}return r}),r);return n<1?ki((function(e,t){return ts(t)?$i($i({},t),{},{velocity:es(t.velocity,a[e].velocity,n),from:es(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const ns=function(e,t,r,n,a){var o,i,s,c,l=(o=e,i=t,[Object.keys(o),Object.keys(i)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=l.reduce((function(r,n){return $i($i({},r),{},Qi({},n,[e[n],t[n]]))}),{}),d=l.reduce((function(r,n){return $i($i({},r),{},Qi({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),f=-1,h=function(){return null};return h=r.isStepper?function(n){s||(s=n);var o=(n-s)/r.dt;d=rs(r,d,o),a($i($i($i({},e),t),ki((function(e,t){return t.from}),d))),s=n,Object.values(d).filter(ts).length&&(f=requestAnimationFrame(h))}:function(o){c||(c=o);var i=(o-c)/n,s=ki((function(e,t){return es.apply(void 0,Yi(t).concat([r(i)]))}),u);if(a($i($i($i({},e),t),s)),i<1)f=requestAnimationFrame(h);else{var l=ki((function(e,t){return es.apply(void 0,Yi(t).concat([r(1)]))}),u);a($i($i($i({},e),t),l))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function as(e){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(e)}var os=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function is(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ss(e){return function(e){if(Array.isArray(e))return cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ds(e,t,r){return(t=hs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hs(n.key),n)}}function hs(e){var t=function(e,t){if("object"!==as(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==as(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===as(t)?t:String(t)}function ps(e,t){return ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ps(e,t)}function ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xs(e);if(t){var a=xs(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return gs(this,r)}}function gs(e,t){if(t&&("object"===as(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vs(e)}function vs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xs(e)}var bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ps(e,t)}(i,e);var t,r,n,a=ms(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(r=a.call(this,e,t)).props,o=n.isActive,s=n.attributeName,c=n.from,l=n.to,u=n.steps,d=n.children,f=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(vs(r)),r.changeStyle=r.changeStyle.bind(vs(r)),!o||f<=0)return r.state={style:{}},"function"==typeof d&&(r.state={style:l}),gs(r);if(u&&u.length)r.state={style:u[0].style};else if(c){if("function"==typeof d)return r.state={style:c},gs(r);r.state={style:s?ds({},s,c):c}}else r.state={style:{}};return r}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,o=t.shouldReAnimate,i=t.to,s=t.from,c=this.state.style;if(n)if(r){if(!(xi(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=l||o?s:e.to;if(this.state&&c){var d={style:a?ds({},a,u):u};(a&&[a]!==u||!a&&c!==u)&&this.setState(d)}this.runAnimation(us(us({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?ds({},a,i):i};this.state&&c&&(a&&c[a]!==i||!a&&c!==i)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,o=e.easing,i=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,l=ns(r,n,qi(o),a,this.changeStyle);this.manager.start([c,i,function(){t.stopJSAnimation=l()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,o=r[0],i=o.style,s=o.duration,c=void 0===s?0:s;return this.manager.start([a].concat(ss(r.reduce((function(e,n,a){if(0===a)return e;var o=n.duration,i=n.easing,s=void 0===i?"ease":i,c=n.style,l=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=l||Object.keys(c);if("function"==typeof s||"spring"===s)return[].concat(ss(e),[t.runJSAnimation.bind(t,{from:d.style,to:c,duration:o,easing:s}),o]);var h=Mi(f,o,s),p=us(us(us({},d.style),c),{},{transition:h});return[].concat(ss(e),[p,o,u]).filter(Pi)}),[i,Math.max(c,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=_i());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,o=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,l=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof l&&"spring"!==o)if(c.length>1)this.runStepAnimation(e);else{var d=n?ds({},n,a):a,f=Mi(Object.keys(d),r,o);u.start([i,t,us(us({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,is(e,os)),i=o.Children.count(t),s=Di(this.state.style);if("function"==typeof t)return t(s);if(!n||0===i||r<=0)return t;var c=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,i=t.className;return(0,o.cloneElement)(e,us(us({},a),{},{style:us(us({},n),s),className:i}))};return 1===i?c(o.Children.only(t)):o.createElement("div",null,o.Children.map(t,(function(e){return c(e)})))}}])&&fs(t.prototype,r),n&&fs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);bs.displayName="Animate",bs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},bs.propTypes={from:Go().oneOfType([Go().object,Go().string]),to:Go().oneOfType([Go().object,Go().string]),attributeName:Go().string,duration:Go().number,begin:Go().number,easing:Go().oneOfType([Go().string,Go().func]),steps:Go().arrayOf(Go().shape({duration:Go().number.isRequired,style:Go().object.isRequired,easing:Go().oneOfType([Go().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Go().func]),properties:Go().arrayOf("string"),onAnimationEnd:Go().func})),children:Go().oneOfType([Go().node,Go().func]),isActive:Go().bool,canBegin:Go().bool,onAnimationEnd:Go().func,shouldReAnimate:Go().bool,onAnimationStart:Go().func,onAnimationReStart:Go().func};const ys=bs;var js=r(9790),ws=["children","appearOptions","enterOptions","leaveOptions"];function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}function Cs(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function As(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ds(n.key),n)}}function Is(e,t){return Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Is(e,t)}function Os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ps(e);if(t){var a=Ps(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ts(e)}(this,r)}}function Ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ps(e)}function ks(e,t,r){return(t=Ds(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ds(e){var t=function(e,t){if("object"!==Ns(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ns(t)?t:String(t)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)});var Ms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,r=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(r)?r:0},Rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Is(e,t)}(i,e);var t,r,n,a=Os(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ks(Ts(e=a.call(this)),"handleEnter",(function(t,r){var n=e.props,a=n.appearOptions,o=n.enterOptions;e.handleStyleActive(r?a:o)})),ks(Ts(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=i,(r=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(Ss(Ss({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,r=e.enterOptions,n=e.leaveOptions;return Ms(t)+Ms(r)+Ms(n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=(t.appearOptions,t.enterOptions,t.leaveOptions,Cs(t,ws));return o.createElement(js.Transition,_s({},n,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return o.createElement(ys,e.state,o.Children.only(r))}))}}])&&As(t.prototype,r),n&&As(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);Rs.propTypes={appearOptions:Go().object,enterOptions:Go().object,leaveOptions:Go().object,children:Go().element};const Fs=Rs;function Ls(e){var t=e.component,r=e.children,n=e.appear,a=e.enter,i=e.leave;return o.createElement(js.TransitionGroup,{component:t},o.Children.map(r,(function(e,t){return o.createElement(Fs,{appearOptions:n,enterOptions:a,leaveOptions:i,key:"child-".concat(t)},e)})))}Ls.propTypes={appear:Go().object,enter:Go().object,leave:Go().object,children:Go().oneOfType([Go().array,Go().element]),component:Go().any},Ls.defaultProps={component:"span"};const Bs=ys;function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach((function(t){$s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qs(n.key),n)}}function Ws(e,t){return Ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ws(e,t)}function Ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xs(e);if(t){var a=Xs(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Xs(e){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xs(e)}function $s(e,t,r){return(t=Qs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qs(e){var t=function(e,t){if("object"!==Us(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Us(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Us(t)?t:String(t)}function Zs(e){return ta()(e)&&da(e[0])&&da(e[1])?e.join(" ~ "):e}var Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ws(e,t)}(i,e);var t,r,n,a=Ys(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderContent",value:function(){var e=this.props,t=e.payload,r=e.separator,n=e.formatter,a=e.itemStyle,i=e.itemSorter;if(t&&t.length){var s=(i?Oa()(t,i):t).map((function(e,i){if("none"===e.type)return null;var s=Hs({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),c=e.formatter||n||Zs,l=e.value,u=e.name;if(c&&null!=l&&null!=u){var d=c(l,u,e,i,t);if(Array.isArray(d)){var f=zs(d,2);l=f[0],u=f[1]}else l=d}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(i),style:s},da(u)?o.createElement("span",{className:"recharts-tooltip-item-name"},u):null,da(u)?o.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,o.createElement("span",{className:"recharts-tooltip-item-value"},l),o.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return o.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,r=e.contentStyle,n=e.labelClassName,a=e.labelStyle,i=e.label,s=e.labelFormatter,c=e.payload,l=Hs({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),u=Hs({margin:0},a),d=!Da()(i),f=d?i:"",h=Ln()("recharts-default-tooltip",t),p=Ln()("recharts-tooltip-label",n);return d&&s&&null!=c&&(f=s(i,c)),o.createElement("div",{className:h,style:l},o.createElement("p",{className:p,style:u},o.isValidElement(f)?f:"".concat(f)),this.renderContent())}}],r&&qs(t.prototype,r),n&&qs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cc(n.key),n)}}function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nc(e,t)}function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ic(e);if(t){var a=ic(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}(this,r)}}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ic(e)}function sc(e,t,r){return(t=cc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cc(e){var t=function(e,t){if("object"!==Js(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Js(t)?t:String(t)}$s(Ks,"displayName","DefaultTooltipContent"),$s(Ks,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var lc="recharts-tooltip-wrapper";function uc(e){return e.dataKey}var dc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nc(e,t)}(i,e);var t,r,n,a=ac(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return sc(oc(e=a.call.apply(a,[this].concat(r))),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sc(oc(e),"getTranslate",(function(t){var r=t.key,n=t.tooltipDimension,a=t.viewBoxDimension,o=e.props,i=o.allowEscapeViewBox,s=o.reverseDirection,c=o.coordinate,l=o.offset,u=o.position,d=o.viewBox;if(u&&ua(u[r]))return u[r];var f=c[r]-n-l,h=c[r]+l;return i[r]?s[r]?f:h:s[r]?f<d[r]?Math.max(h,d[r]):Math.max(f,d[r]):h+n>d[r]+a?Math.max(f,d[r]):Math.max(h,d[r])})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight;if(e.dismissed?(this.wrapperNode.blur(),this.props.coordinate.x===this.state.dismissedAtCoordinate.x&&this.props.coordinate.y===this.state.dismissedAtCoordinate.y||this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-t)>1||Math.abs(n.height-r)>1)&&this.setState({boxWidth:n.width,boxHeight:n.height})}else-1===t&&-1===r||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e,t,r,n=this,a=this.props,i=a.payload,s=a.isAnimationActive,c=a.animationDuration,l=a.animationEasing,u=a.filterNull,d=function(e,t){return!0===e?zo()(t,uc):Aa()(e)?zo()(t,e):t}(a.payloadUniqBy,u&&i&&i.length?i.filter((function(e){return!Da()(e.value)})):i),f=d&&d.length,h=this.props,p=h.content,m=h.viewBox,g=h.coordinate,v=h.position,x=h.active,b=h.wrapperStyle,y=tc({pointerEvents:"none",visibility:!this.state.dismissed&&x&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);if(v&&ua(v.x)&&ua(v.y))t=v.x,r=v.y;else{var j=this.state,w=j.boxWidth,N=j.boxHeight;w>0&&N>0&&g?(t=this.getTranslate({key:"x",tooltipDimension:w,viewBoxDimension:m.width}),r=this.getTranslate({key:"y",tooltipDimension:N,viewBoxDimension:m.height})):y.visibility="hidden"}y=tc(tc({},Di({transform:this.props.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")})),y),s&&x&&(y=tc(tc({},Di({transition:"transform ".concat(c,"ms ").concat(l)})),y));var _=Ln()(lc,(sc(e={},"".concat(lc,"-right"),ua(t)&&g&&ua(g.x)&&t>=g.x),sc(e,"".concat(lc,"-left"),ua(t)&&g&&ua(g.x)&&t<g.x),sc(e,"".concat(lc,"-bottom"),ua(r)&&g&&ua(g.y)&&r>=g.y),sc(e,"".concat(lc,"-top"),ua(r)&&g&&ua(g.y)&&r<g.y),e));return o.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(e){"Escape"===e.key&&n.setState({dismissed:!0,dismissedAtCoordinate:tc(tc({},n.state.dismissedAtCoordinate),{},{x:n.props.coordinate.x,y:n.props.coordinate.y})})},className:_,style:y,ref:function(e){n.wrapperNode=e}},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?o.createElement(e,t):o.createElement(Ks,t)}(p,tc(tc({},this.props),{},{payload:d})))}}])&&rc(t.prototype,r),n&&rc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);sc(dc,"displayName","Tooltip"),sc(dc,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Fa.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var fc=r(5808),hc=r.n(fc);Math.abs,Math.atan2;const pc=Math.cos,mc=(Math.max,Math.min,Math.sin),gc=Math.sqrt,vc=Math.PI,xc=2*vc;const bc={draw(e,t){const r=gc(t/vc);e.moveTo(r,0),e.arc(0,0,r,0,xc)}},yc={draw(e,t){const r=gc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jc=gc(1/3),wc=2*jc,Nc={draw(e,t){const r=gc(t/wc),n=r*jc;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},_c={draw(e,t){const r=gc(t),n=-r/2;e.rect(n,n,r,r)}},Cc=mc(vc/10)/mc(7*vc/10),Ec=mc(xc/10)*Cc,Sc=-pc(xc/10)*Cc,Ac={draw(e,t){const r=gc(.8908130915292852*t),n=Ec*r,a=Sc*r;e.moveTo(0,-r),e.lineTo(n,a);for(let t=1;t<5;++t){const o=xc*t/5,i=pc(o),s=mc(o);e.lineTo(s*r,-i*r),e.lineTo(i*n-s*a,s*n+i*a)}e.closePath()}},Ic=gc(3),Oc={draw(e,t){const r=-gc(t/(3*Ic));e.moveTo(0,2*r),e.lineTo(-Ic*r,-r),e.lineTo(Ic*r,-r),e.closePath()}},Tc=-.5,Pc=gc(3)/2,kc=1/gc(12),Dc=3*(kc/2+1),Mc={draw(e,t){const r=gc(t/Dc),n=r/2,a=r*kc,o=n,i=r*kc+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(Tc*n-Pc*a,Pc*n+Tc*a),e.lineTo(Tc*o-Pc*i,Pc*o+Tc*i),e.lineTo(Tc*s-Pc*c,Pc*s+Tc*c),e.lineTo(Tc*n+Pc*a,Tc*a-Pc*n),e.lineTo(Tc*o+Pc*i,Tc*i-Pc*o),e.lineTo(Tc*s+Pc*c,Tc*c-Pc*s),e.closePath()}};function Rc(e){return function(){return e}}const Fc=Math.PI,Lc=2*Fc,Bc=1e-6,Uc=Lc-Bc;function zc(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Vc{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?zc:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zc;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,o){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let o=this._x1,i=this._y1,s=r-e,c=n-t,l=o-e,u=i-t,d=l*l+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Bc)if(Math.abs(u*s-c*l)>Bc&&a){let f=r-o,h=n-i,p=s*s+c*c,m=f*f+h*h,g=Math.sqrt(p),v=Math.sqrt(d),x=a*Math.tan((Fc-Math.acos((p+d-m)/(2*g*v)))/2),b=x/v,y=x/g;Math.abs(b-1)>Bc&&this._append`L${e+b*l},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*f>l*h)},${this._x1=e+y*s},${this._y1=t+y*c}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,o){if(e=+e,t=+t,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),s=r*Math.sin(n),c=e+i,l=t+s,u=1^o,d=o?n-a:a-n;null===this._x1?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Bc||Math.abs(this._y1-l)>Bc)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%Lc+Lc),d>Uc?this._append`A${r},${r},0,1,${u},${e-i},${t-s}A${r},${r},0,1,${u},${this._x1=c},${this._y1=l}`:d>Bc&&this._append`A${r},${r},0,${+(d>=Fc)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Gc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Vc(t)}gc(3),gc(3);function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function Wc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zc(n.key),n)}}function Yc(e,t){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yc(e,t)}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$c(e);if(t){var a=$c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function $c(e){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(e)}function Qc(e,t,r){return(t=Zc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zc(e){var t=function(e,t){if("object"!==Hc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hc(t)?t:String(t)}var Kc={symbolCircle:bc,symbolCross:yc,symbolDiamond:Nc,symbolSquare:_c,symbolStar:Ac,symbolTriangle:Oc,symbolWye:Mc},Jc=Math.PI/180,el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yc(e,t)}(i,e);var t,r,n,a=Xc(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getPath",value:function(){var e=this.props,t=e.size,r=e.sizeType,n=e.type,a=function(e){var t="symbol".concat(hc()(e));return Kc[t]||bc}(n),o=function(e,t){let r=null,n=Gc(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:Rc(e||bc),t="function"==typeof t?t:Rc(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:Rc(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:Rc(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(a).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Jc;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,r,n));return o()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cx,n=e.cy,a=e.size,i=Ao(this.props,!0);return r===+r&&n===+n&&a===+a?o.createElement("path",qc({},i,{className:Ln()("recharts-symbols",t),transform:"translate(".concat(r,", ").concat(n,")"),d:this.getPath()})):null}}],r&&Wc(t.prototype,r),n&&Wc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(this,arguments)}function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function al(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ll(n.key),n)}}function ol(e,t){return ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ol(e,t)}function il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=sl(e);if(t){var a=sl(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sl(e)}function cl(e,t,r){return(t=ll(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ll(e){var t=function(e,t){if("object"!==tl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tl(t)?t:String(t)}Qc(el,"defaultProps",{type:"circle",size:64,sizeType:"area"}),Qc(el,"registerSymbol",(function(e,t){Kc["symbol".concat(hc()(e))]=t}));var ul=32,dl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}(i,e);var t,r,n,a=il(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=ul/6,a=ul/3,i=e.inactive?t:e.color;if("plainline"===e.type)return o.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:ul,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return o.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(ul,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return o.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(ul,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(r),!0).forEach((function(t){cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete s.legendIcon,o.cloneElement(e.legendIcon,s)}return o.createElement(el,{fill:i,cx:r,cy:r,size:ul,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,c={x:0,y:0,width:ul,height:ul},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var a,d=t.formatter||i,f=Ln()((cl(a={"recharts-legend-item":!0},"legend-item-".concat(r),!0),cl(a,"inactive",t.inactive),a));if("none"===t.type)return null;var h=t.inactive?s:t.color;return o.createElement("li",rl({className:f,style:l,key:"legend-item-".concat(r)},po(e.props,t,r)),o.createElement(Mo,{width:n,height:n,viewBox:c,style:u},e.renderIcon(t)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},d?d(t.value,t,r):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],r&&al(t.prototype,r),n&&al(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}cl(dl,"displayName","Legend"),cl(dl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hl=["ref"];function pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(r),!0).forEach((function(t){jl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wl(n.key),n)}}function vl(e,t){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vl(e,t)}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yl(e);if(t){var a=yl(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bl(e)}(this,r)}}function bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yl(e)}function jl(e,t,r){return(t=wl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wl(e){var t=function(e,t){if("object"!==fl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fl(t)?t:String(t)}function Nl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _l(e){return e.value}function Cl(e,t){return!0===e?zo()(t,_l):Aa()(e)?zo()(t,e):t}var El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vl(e,t)}(i,e);var t,r,n,a=xl(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jl(bl(e=a.call.apply(a,[this].concat(r))),"state",{boxWidth:-1,boxHeight:-1}),e}return t=i,n=[{key:"getWithHeight",value:function(e,t){var r=e.props.layout;return"vertical"===r&&ua(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight;return t>=0&&r>=0?{width:t,height:r}:null}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===a?{left:((c||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((l||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),ml(ml({},t),r)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight,n=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-t)>1||Math.abs(a.height-r)>1)&&this.setState({boxWidth:a.width,boxHeight:a.height},(function(){n&&n(a)}))}else-1===t&&-1===r||this.setState({boxWidth:-1,boxHeight:-1},(function(){n&&n(null)}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,c=t.payload,l=ml(ml({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return o.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(o.isValidElement(e))return o.cloneElement(e,t);if(Aa()(e))return o.createElement(e,t);t.ref;var r=Nl(t,hl);return o.createElement(dl,r)}(r,ml(ml({},this.props),{},{payload:Cl(s,c)})))}}])&&gl(t.prototype,r),n&&gl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Sl(){}function Al(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Il(e){this._context=e}function Ol(e){this._context=e}function Tl(e){this._context=e}function Pl(e){this._context=e}function kl(e){this._context=e}function Dl(e){return new kl(e)}function Ml(e){return e<0?-1:1}function Rl(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Ml(o)+Ml(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Fl(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ll(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Bl(e){this._context=e}function Ul(e){this._context=new zl(e)}function zl(e){this._context=e}function Vl(e){this._context=e}function Gl(e){var t,r,n=e.length-1,a=new Array(n),o=new Array(n),i=new Array(n);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Hl(e,t){this._context=e,this._t=t}jl(El,"displayName","Legend"),jl(El,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"}),Il.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Al(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Al(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ol.prototype={areaStart:Sl,areaEnd:Sl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Al(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Al(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Pl.prototype={areaStart:Sl,areaEnd:Sl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ll(this,this._t0,Fl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ll(this,Fl(this,r=Rl(this,e,t)),r);break;default:Ll(this,this._t0,r=Rl(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Ul.prototype=Object.create(Bl.prototype)).point=function(e,t){Bl.prototype.point.call(this,t,e)},zl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}},Vl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Gl(e),a=Gl(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};Array.prototype.slice;function ql(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Wl(e){return e[0]}function Yl(e){return e[1]}function Xl(e,t){var r=Rc(!0),n=null,a=Dl,o=null,i=Gc(s);function s(s){var c,l,u,d=(s=ql(s)).length,f=!1;for(null==n&&(o=a(u=i())),c=0;c<=d;++c)!(c<d&&r(l=s[c],c,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,c,s),+t(l,c,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Wl:Rc(e),t="function"==typeof t?t:void 0===t?Yl:Rc(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Rc(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Rc(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:Rc(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(o=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=o=null:o=a(n=e),s):n},s}function $l(e,t,r){var n=null,a=Rc(!0),o=null,i=Dl,s=null,c=Gc(l);function l(l){var u,d,f,h,p,m=(l=ql(l)).length,g=!1,v=new Array(m),x=new Array(m);for(null==o&&(s=i(p=c())),u=0;u<=m;++u){if(!(u<m&&a(h=l[u],u,l))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(v[f],x[f]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(h,u,l),x[u]=+t(h,u,l),s.point(n?+n(h,u,l):v[u],r?+r(h,u,l):x[u]))}if(p)return s=null,p+""||null}function u(){return Xl().defined(a).curve(i).context(o)}return e="function"==typeof e?e:void 0===e?Wl:Rc(+e),t="function"==typeof t?t:Rc(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?Yl:Rc(+r),l.x=function(t){return arguments.length?(e="function"==typeof t?t:Rc(+t),n=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:Rc(+t),l):e},l.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Rc(+e),l):n},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Rc(+e),r=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:Rc(+e),l):t},l.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Rc(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(e){return arguments.length?(a="function"==typeof e?e:Rc(!!e),l):a},l.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),l):i},l.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),l):o},l}function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ou(n.key),n)}}function tu(e,t){return tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tu(e,t)}function ru(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nu(e);if(t){var a=nu(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nu(e)}function au(e,t,r){return(t=ou(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ou(e){var t=function(e,t){if("object"!==Ql(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ql(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ql(t)?t:String(t)}var iu={curveBasisClosed:function(e){return new Ol(e)},curveBasisOpen:function(e){return new Tl(e)},curveBasis:function(e){return new Il(e)},curveLinearClosed:function(e){return new Pl(e)},curveLinear:Dl,curveMonotoneX:function(e){return new Bl(e)},curveMonotoneY:function(e){return new Ul(e)},curveNatural:function(e){return new Vl(e)},curveStep:function(e){return new Hl(e,.5)},curveStepAfter:function(e){return new Hl(e,1)},curveStepBefore:function(e){return new Hl(e,0)}},su=function(e){return e.x===+e.x&&e.y===+e.y},cu=function(e){return e.x},lu=function(e){return e.y},uu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tu(e,t)}(i,e);var t,r,n,a=ru(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getPath",value:function(){var e,t=this.props,r=t.type,n=t.points,a=t.baseLine,o=t.layout,i=t.connectNulls,s=function(e,t){if(Aa()(e))return e;var r="curve".concat(hc()(e));return"curveMonotone"===r&&t?iu["".concat(r).concat("vertical"===t?"Y":"X")]:iu[r]||Dl}(r,o),c=i?n.filter((function(e){return su(e)})):n;if(ta()(a)){var l=i?a.filter((function(e){return su(e)})):a,u=c.map((function(e,t){return Jl(Jl({},e),{},{base:l[t]})}));return(e="vertical"===o?$l().y(lu).x1(cu).x0((function(e){return e.base.x})):$l().x(cu).y1(lu).y0((function(e){return e.base.y}))).defined(su).curve(s),e(u)}return(e="vertical"===o&&ua(a)?$l().y(lu).x1(cu).x0(a):ua(a)?$l().x(cu).y1(lu).y0(a):Xl().x(cu).y(lu)).defined(su).curve(s),e(c)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.points,n=e.path,a=e.pathRef;if(!(r&&r.length||n))return null;var i=r&&r.length?this.getPath():n;return o.createElement("path",Zl({},Ao(this.props),ho(this.props),{className:Ln()("recharts-curve",t),d:i,ref:a}))}}],r&&eu(t.prototype,r),n&&eu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function du(e){return du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(this,arguments)}function hu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vu(n.key),n)}}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pu(e,t)}function mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gu(e);if(t){var a=gu(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gu(e)}function vu(e){var t=function(e,t){if("object"!==du(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===du(t)?t:String(t)}au(uu,"defaultProps",{type:"linear",points:[],connectNulls:!1});var xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}(i,e);var t,r,n,a=mu(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,n=[{key:"getPath",value:function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)}}],(r=[{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.top,c=e.left,l=e.className;return ua(t)&&ua(r)&&ua(n)&&ua(a)&&ua(s)&&ua(c)?o.createElement("path",fu({},Ao(this.props,!0),{className:Ln()("recharts-cross",l),d:i.getPath(t,r,n,a,s,c)})):null}}])&&hu(t.prototype,r),n&&hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function bu(e){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(e)}function yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(r),!0).forEach((function(t){wu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=vu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xu,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var Nu=Math.PI/180,_u=function(e){return 180*e/Math.PI},Cu=function(e,t,r,n){return{x:e+Math.cos(-Nu*n)*r,y:t+Math.sin(-Nu*n)*r}},Eu=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))}({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:_u(c),angleInRadian:c}},Su=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360);return e+360*Math.min(a,o)},Au=function(e,t){var r=e.x,n=e.y,a=Eu({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(0===o)return!0;var l,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-360*o,endAngle:r-360*o}}(t),d=u.startAngle,f=u.endAngle,h=i;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;l=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;l=h>=f&&h<=d}return l?ju(ju({},t),{},{radius:o,angle:Su(h,t)}):null};function Iu(e){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}function Tu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mu(n.key),n)}}function Pu(e,t){return Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pu(e,t)}function ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Du(e);if(t){var a=Du(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Iu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Du(e){return Du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Du(e)}function Mu(e){var t=function(e,t){if("object"!==Iu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Iu(t)?t:String(t)}var Ru=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Nu,d=c?a:a+o*u,f=c?a-o*u:a;return{center:Cu(t,r,l,d),circleTangency:Cu(t,r,n,d),lineTangency:Cu(t,r,l*Math.cos(u*Nu),f),theta:u}},Fu=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=function(e,t){return ca(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+i,c=Cu(t,r,a,o),l=Cu(t,r,a,s),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(o>s),",\n    ").concat(l.x,",").concat(l.y,"\n  ");if(n>0){var d=Cu(t,r,n,o),f=Cu(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},Lu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pu(e,t)}(i,e);var t,r,n,a=ku(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,d=e.className;if(a<n||l===u)return null;var f,h=Ln()("recharts-sector",d),p=a-n,m=pa(i,p,0,!0);return f=m>0&&Math.abs(l-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=ca(l-c),d=Ru({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=Ru({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,x=m.theta,b=s?Math.abs(c-l):Math.abs(c-l)-p-x;if(b<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Fu({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(n>0){var j=Ru({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,_=j.theta,C=Ru({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),E=C.circleTangency,S=C.lineTangency,A=C.theta,I=s?Math.abs(c-l):Math.abs(c-l)-_-A;if(I<0&&0===o)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y}({cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):Fu({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u}),o.createElement("path",Ou({},Ao(this.props,!0),{className:h,d:f,role:"img"}))}}],r&&Tu(t.prototype,r),n&&Tu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Bu(e){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function zu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==Bu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Bu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Bu(o)?o:String(o)),n)}var a,o}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vu(e,t)}function Gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Hu(e);if(t){var a=Hu(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(e)}!function(e,t,r){(t=Mu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Lu,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});var qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vu(e,t)}(i,e);var t,r,n,a=Gu(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.r,a=e.className,i=Ln()("recharts-dot",a);return t===+t&&r===+r&&n===+n?o.createElement("circle",Uu({},Ao(this.props),ho(this.props),{className:i,cx:t,cy:r,r:n})):null}}])&&zu(t.prototype,r),n&&zu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Wu(e){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function Xu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function $u(e,t){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$u(e,t)}function Qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ku(e);if(t){var a=Ku(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Wu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zu(e)}(this,r)}}function Zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ku(e)}function Ju(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e){var t=function(e,t){if("object"!==Wu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wu(t)?t:String(t)}var td=function(e,t,r,n,a){var o,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,c=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),o+="L ".concat(e+r-c*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,",\n        ").concat(e+r,",").concat(t+s*u[1])),o+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,",\n        ").concat(e+r-c*u[2],",").concat(t+n)),o+="L ".concat(e+c*u[3],",").concat(t+n),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,",\n        ").concat(e,",").concat(t+n-s*u[3])),o+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);o="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+c*f,",").concat(t,"\n            L ").concat(e+r-c*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+r-c*f,",").concat(t+n,"\n            L ").concat(e+c*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*f," Z")}else o="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return o},rd=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$u(e,t)}(i,e);var t,r,n,a=Qu(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ju(Zu(e=a.call.apply(a,[this].concat(r))),"state",{totalLength:-1}),e}return t=i,(r=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(e){}}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,n=t.y,a=t.width,i=t.height,s=t.radius,c=t.className,l=this.state.totalLength,u=this.props,d=u.animationEasing,f=u.animationDuration,h=u.animationBegin,p=u.isAnimationActive,m=u.isUpdateAnimationActive;if(r!==+r||n!==+n||a!==+a||i!==+i||0===a||0===i)return null;var g=Ln()("recharts-rectangle",c);return m?o.createElement(Bs,{canBegin:l>0,from:{width:a,height:i,x:r,y:n},to:{width:a,height:i,x:r,y:n},duration:f,animationEasing:d,isActive:m},(function(t){var r=t.width,n=t.height,a=t.x,i=t.y;return o.createElement(Bs,{canBegin:l>0,from:"0px ".concat(-1===l?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:p,easing:d},o.createElement("path",Yu({},Ao(e.props,!0),{className:g,d:td(a,i,r,n,s),ref:function(t){e.node=t}})))})):o.createElement("path",Yu({},Ao(this.props,!0),{className:g,d:td(r,n,a,i,s)}))}}])&&Xu(t.prototype,r),n&&Xu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);Ju(nd,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});var ad=r(5870),od=r.n(ad),id=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function ld(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yd(n.key),n)}}function dd(e,t){return dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dd(e,t)}function fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pd(e);if(t){var a=pd(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===sd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hd(e)}(this,r)}}function hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(e)}function md(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(r),!0).forEach((function(t){bd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bd(e,t,r){return(t=yd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yd(e){var t=function(e,t){if("object"!==sd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sd(t)?t:String(t)}var jd=/[ \f\n\r\t\v\u2028\u2029]+/,wd=function(e){try{var t=[];return Da()(e.children)||(t=e.breakAll?e.children.toString().split(""):e.children.toString().split(jd)),{wordsWithComputedWidth:t.map((function(t){return{word:t,width:$a(t,e.style).width}})),spaceWidth:e.breakAll?0:$a(" ",e.style).width}}catch(e){return null}},Nd=function(e){return[{words:Da()(e)?[]:e.toString().split(jd)}]},_d=function(e,t){if((e.width||e.scaleToFit)&&!Fa.isSsr&&t){var r=wd(e);return r?function(e,t,r,n,a){var o=ua(e.maxLines),i=e.children,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,i=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+i+r<n))s.words.push(o),s.width+=i+r;else{var c={words:[o],width:i};e.push(c)}return e}),[])},c=s(t);if(!o)return c;for(var l,u=function(t){var r=i.slice(0,t),a=wd(xd(xd({},e),{},{children:r+"…"})).wordsWithComputedWidth,o=s(a),c=o.length>e.maxLines||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>n;return[c,o]},d=0,f=i.length-1,h=0;d<=f&&h<=i.length-1;){var p=Math.floor((d+f)/2),m=md(u(p-1),2),g=m[0],v=m[1],x=md(u(p),1)[0];if(g||x||(d=p+1),g&&x&&(f=p-1),!g&&x){l=v;break}h++}return l||c}(e,r.wordsWithComputedWidth,r.spaceWidth,e.width,e.scaleToFit):Nd(e.children)}return Nd(e.children)},Cd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dd(e,t)}(i,e);var t,r,n,a=fd(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bd(hd(e=a.call.apply(a,[this].concat(r))),"state",{}),e}return t=i,r=[{key:"render",value:function(){var e=this.props,t=e.dx,r=e.dy,n=e.textAnchor,a=e.verticalAnchor,s=e.scaleToFit,c=e.angle,l=e.lineHeight,u=e.capHeight,d=e.className,f=e.breakAll,h=ld(e,id),p=this.state.wordsByLines;if(!da(h.x)||!da(h.y))return null;var m,g=h.x+(ua(t)?t:0),v=h.y+(ua(r)?r:0);switch(a){case"start":m=od()("calc(".concat(u,")"));break;case"middle":m=od()("calc(".concat((p.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:m=od()("calc(".concat(p.length-1," * -").concat(l,")"))}var x=[];if(s){var b=p[0].width,y=this.props.width;x.push("scale(".concat((ua(y)?y/b:1)/b,")"))}return c&&x.push("rotate(".concat(c,", ").concat(g,", ").concat(v,")")),x.length&&(h.transform=x.join(" ")),o.createElement("text",cd({},Ao(h,!0),{x:g,y:v,className:Ln()("recharts-text",d),textAnchor:n,fill:h.fill.includes("url")?i.defaultProps.fill:h.fill}),p.map((function(e,t){return o.createElement("tspan",{x:g,dy:0===t?m:l,key:t},e.words.join(f?"":" "))})))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.width!==t.prevWidth||e.scaleToFit!==t.prevScaleToFit||e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll){var r=e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll;return{prevWidth:e.width,prevScaleToFit:e.scaleToFit,prevChildren:e.children,prevStyle:e.style,wordsByLines:_d(e,r)}}return null}}],r&&ud(t.prototype,r),n&&ud(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function Sd(e){return function(e){if(Array.isArray(e))return Ad(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ad(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ad(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(r),!0).forEach((function(t){Td(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Id(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Td(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ed(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(this,arguments)}bd(Cd,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var kd=function(e,t,r){var n,a,i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,v=u.clockWise,x=(h+p)/2,b=function(e,t){return ca(t-e)*Math.min(Math.abs(t-e),360)}(m,g),y=b>=0?1:-1;"insideStart"===i?(n=m+y*c,a=v):"insideEnd"===i?(n=g-y*c,a=!v):"end"===i&&(n=g+y*c,a=v),a=b<=0?a:!a;var j=Cu(d,f,x,n),w=Cu(d,f,x,n+359*(a?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),_=Da()(e.id)?ha("recharts-radial-line-"):e.id;return o.createElement("text",Pd({},r,{dominantBaseline:"central",className:Ln()("recharts-radial-bar-label",l)}),o.createElement("defs",null,o.createElement("path",{id:_,d:N})),o.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function Dd(e){var t,r=e.viewBox,n=e.position,a=e.value,i=e.children,s=e.content,c=e.className,l=void 0===c?"":c,u=e.textBreakAll;if(!r||Da()(a)&&Da()(i)&&!(0,o.isValidElement)(s)&&!Aa()(s))return null;if((0,o.isValidElement)(s))return(0,o.cloneElement)(s,e);if(Aa()(s)){if(t=(0,o.createElement)(s,e),(0,o.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=Da()(e.children)?t:e.children;return Aa()(r)?r(n):n}(e);var d=function(e){return"cx"in e&&ua(e.cx)}(r),f=Ao(e,!0);if(d&&("insideStart"===n||"insideEnd"===n||"end"===n))return kd(e,t,f);var h=d?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=Cu(o,i,c+r,l),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=Cu(o,i,(s+c)/2,l);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(e):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=c>=0?1:-1,m=p*n,g=p>0?"end":"start",v=p>0?"start":"end";if("top"===a)return Od(Od({},{x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:c}:{});if("bottom"===a)return Od(Od({},{x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{});if("left"===a){var x={x:i-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Od(Od({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if("right"===a){var b={x:i+c+m,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return Od(Od({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:l}:{})}var y=r?{width:c,height:l}:{};return"insideLeft"===a?Od({x:i+m,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},y):"insideRight"===a?Od({x:i+c-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},y):"insideTop"===a?Od({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:h},y):"insideBottom"===a?Od({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:f},y):"insideTopLeft"===a?Od({x:i+m,y:s+d,textAnchor:v,verticalAnchor:h},y):"insideTopRight"===a?Od({x:i+c-m,y:s+d,textAnchor:g,verticalAnchor:h},y):"insideBottomLeft"===a?Od({x:i+m,y:s+l-d,textAnchor:v,verticalAnchor:f},y):"insideBottomRight"===a?Od({x:i+c-m,y:s+l-d,textAnchor:g,verticalAnchor:f},y):ao()(a)&&(ua(a.x)||la(a.x))&&(ua(a.y)||la(a.y))?Od({x:i+pa(a.x,c),y:s+pa(a.y,l),textAnchor:"end",verticalAnchor:"end"},y):Od({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},y)}(e);return o.createElement(Cd,Pd({className:Ln()("recharts-label",l)},f,h,{breakAll:u}),t)}Dd.displayName="Label",Dd.defaultProps={offset:5};var Md=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(ua(p)&&ua(m)){if(ua(u)&&ua(d))return{x:u,y:d,width:p,height:m};if(ua(f)&&ua(h))return{x:f,y:h,width:p,height:m}}return ua(u)&&ua(d)?{x:u,y:d,width:0,height:0}:ua(t)&&ua(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};Dd.parseViewBox=Md,Dd.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Md(e),i=No(n,Dd).map((function(e,r){return(0,o.cloneElement)(e,{viewBox:t||a,key:"label-".concat(r)})}));if(!r)return i;var s=function(e,t){return e?!0===e?o.createElement(Dd,{key:"label-implicit",viewBox:t}):da(e)?o.createElement(Dd,{key:"label-implicit",viewBox:t,value:e}):(0,o.isValidElement)(e)?e.type===Dd?(0,o.cloneElement)(e,{key:"label-implicit",viewBox:t}):o.createElement(Dd,{key:"label-implicit",content:e,viewBox:t}):Aa()(e)?o.createElement(Dd,{key:"label-implicit",content:e,viewBox:t}):ao()(e)?o.createElement(Dd,Pd({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(Sd(i))};var Rd=["viewBox"],Fd=["viewBox"],Ld=["ticks"];function Bd(e){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(r),!0).forEach((function(t){Xd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$d(n.key),n)}}function qd(e,t){return qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qd(e,t)}function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Yd(e);if(t){var a=Yd(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Bd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yd(e)}function Xd(e,t,r){return(t=$d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $d(e){var t=function(e,t){if("object"!==Bd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bd(t)?t:String(t)}var Qd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qd(e,t)}(i,e);var t,r,n,a=Wd(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={fontSize:"",letterSpacing:""},t}return t=i,r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=Gd(e,Rd),a=this.props,o=a.viewBox,i=Gd(a,Fd);return!io(r,o)||!io(n,i)||!io(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,o,i,s=this.props,c=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,v=e.tickSize||h,x=ua(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,i=(n=(a=l+ +!p*d)-g*v)-g*m,o=x;break;case"left":n=a=e.coordinate,o=(t=(r=c+ +!p*u)-g*v)-g*m,i=x;break;case"right":n=a=e.coordinate,o=(t=(r=c+ +p*u)+g*v)+g*m,i=x;break;default:t=r=e.coordinate,i=(n=(a=l+ +p*d)+g*v)+g*m,o=x}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:o,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,s=e.mirror,c=e.axisLine,l=Vd(Vd(Vd({},Ao(this.props)),Ao(c)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);l=Vd(Vd({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!s||"right"===i&&s);l=Vd(Vd({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return o.createElement("line",Ud({},l,{className:Ln()("recharts-cartesian-axis-line",Jn()(c,"className"))}))}},{key:"renderTicks",value:function(e,t,r){var n=this,a=this.props,s=a.tickLine,c=a.stroke,l=a.tick,u=a.tickFormatter,d=a.unit,f=ro(Vd(Vd({},this.props),{},{ticks:e}),t,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Ao(this.props),g=Ao(l),v=Vd(Vd({},m),{},{fill:"none"},Ao(s)),x=f.map((function(e,t){var r=n.getTickLineCoord(e),a=r.line,x=r.tick,b=Vd(Vd(Vd(Vd({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:c},g),x),{},{index:t,payload:e,visibleTicksCount:f.length,tickFormatter:u});return o.createElement(Bo,Ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t)},po(n.props,e,t)),s&&o.createElement("line",Ud({},v,a,{className:Ln()("recharts-cartesian-axis-tick-line",Jn()(s,"className"))})),l&&i.renderTickItem(l,b,"".concat(Aa()(u)?u(e.value,t):e.value).concat(d||"")))}));return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var c=this.props,l=c.ticks,u=Gd(c,Ld),d=l;return Aa()(i)&&(d=l&&l.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:o.createElement(Bo,{className:Ln()("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Dd.renderCallByParent(this.props))}}],n=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):o.createElement(Cd,Ud({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],r&&Hd(t.prototype,r),n&&Hd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);function Zd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Kd(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}Xd(Qd,"displayName","CartesianAxis"),Xd(Qd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});class Jd extends Map{constructor(e,t=nf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(ef(this,e))}has(e){return super.has(ef(this,e))}set(e,t){return super.set(tf(this,e),t)}delete(e){return super.delete(rf(this,e))}}Set;function ef({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tf({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rf({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nf(e){return null!==e&&"object"==typeof e?e.valueOf():e}const af=Symbol("implicit");function of(){var e=new Jd,t=[],r=[],n=af;function a(a){let o=e.get(a);if(void 0===o){if(n!==af)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Jd;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return of(t,r).unknown(n)},Zd.apply(a,arguments),a}function sf(){var e,t,r=of().unknown(void 0),n=r.domain,a=r.range,o=0,i=1,s=!1,c=0,l=0,u=.5;function d(){var r=n().length,d=i<o,f=d?i:o,h=d?o:i;e=(h-f)/Math.max(1,r-c+2*l),s&&(e=Math.floor(e)),f+=(h-f-e*(r-c))*u,t=e*(1-c),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(a);++n<a;)o[n]=e+n*r;return o}(r).map((function(t){return f+e*t}));return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,d()):[o,i]},r.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},r.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},r.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return sf(n(),[o,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},Zd.apply(d(),arguments)}function cf(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cf(t())},e}function lf(){return cf(sf.apply(null,arguments).paddingInner(1))}var uf=r(2404),df=r.n(uf),ff=r(4506),hf=r.n(ff),pf=r(1684),mf=r.n(pf),gf=r(7307),vf=r.n(gf);const xf=Math.sqrt(50),bf=Math.sqrt(10),yf=Math.sqrt(2);function jf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=xf?10:o>=bf?5:o>=yf?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?jf(e,t,2*r):[s,c,l]}function wf(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,o,i]=n?jf(t,e,r):jf(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let e=0;e<s;++e)c[e]=(o-e)/-i;else for(let e=0;e<s;++e)c[e]=(o-e)*i;else if(i<0)for(let e=0;e<s;++e)c[e]=(a+e)/-i;else for(let e=0;e<s;++e)c[e]=(a+e)*i;return c}function Nf(e,t,r){return jf(e=+e,t=+t,r=+r)[2]}function _f(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Nf(t,e,r):Nf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Cf(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ef(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sf(e){let t,r,n;function a(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{const t=a+o>>>1;r(e[t],n)<0?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=Cf,r=(t,r)=>Cf(e(t),r),n=(t,r)=>e(t)-r):(t=e===Cf||e===Ef?e:Af,r=e,n=e),{left:a,center:function(e,t,r=0,o=e.length){const i=a(e,t,r,o-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{const t=a+o>>>1;r(e[t],n)<=0?a=t+1:o=t}while(a<o)}return a}}}function Af(){return 0}function If(e){return null===e?NaN:+e}const Of=Sf(Cf),Tf=Of.right,Pf=(Of.left,Sf(If).center,Tf);function kf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Df(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mf(){}var Rf=.7,Ff=1/Rf,Lf="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zf=/^#([0-9a-f]{3,8})$/,Vf=new RegExp(`^rgb\\(${Lf},${Lf},${Lf}\\)$`),Gf=new RegExp(`^rgb\\(${Uf},${Uf},${Uf}\\)$`),Hf=new RegExp(`^rgba\\(${Lf},${Lf},${Lf},${Bf}\\)$`),qf=new RegExp(`^rgba\\(${Uf},${Uf},${Uf},${Bf}\\)$`),Wf=new RegExp(`^hsl\\(${Bf},${Uf},${Uf}\\)$`),Yf=new RegExp(`^hsla\\(${Bf},${Uf},${Uf},${Bf}\\)$`),Xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $f(){return this.rgb().formatHex()}function Qf(){return this.rgb().formatRgb()}function Zf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zf.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Kf(t):3===r?new th(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Jf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Jf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Vf.exec(e))?new th(t[1],t[2],t[3],1):(t=Gf.exec(e))?new th(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hf.exec(e))?Jf(t[1],t[2],t[3],t[4]):(t=qf.exec(e))?Jf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Wf.exec(e))?sh(t[1],t[2]/100,t[3]/100,1):(t=Yf.exec(e))?sh(t[1],t[2]/100,t[3]/100,t[4]):Xf.hasOwnProperty(e)?Kf(Xf[e]):"transparent"===e?new th(NaN,NaN,NaN,0):null}function Kf(e){return new th(e>>16&255,e>>8&255,255&e,1)}function Jf(e,t,r,n){return n<=0&&(e=t=r=NaN),new th(e,t,r,n)}function eh(e,t,r,n){return 1===arguments.length?((a=e)instanceof Mf||(a=Zf(a)),a?new th((a=a.rgb()).r,a.g,a.b,a.opacity):new th):new th(e,t,r,null==n?1:n);var a}function th(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rh(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}`}function nh(){const e=ah(this.opacity);return`${1===e?"rgb(":"rgba("}${oh(this.r)}, ${oh(this.g)}, ${oh(this.b)}${1===e?")":`, ${e})`}`}function ah(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ih(e){return((e=oh(e))<16?"0":"")+e.toString(16)}function sh(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new lh(e,t,r,n)}function ch(e){if(e instanceof lh)return new lh(e.h,e.s,e.l,e.opacity);if(e instanceof Mf||(e=Zf(e)),!e)return new lh;if(e instanceof lh)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,c=(o+a)/2;return s?(i=t===o?(r-n)/s+6*(r<n):r===o?(n-t)/s+2:(t-r)/s+4,s/=c<.5?o+a:2-o-a,i*=60):s=c>0&&c<1?0:i,new lh(i,s,c,e.opacity)}function lh(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function uh(e){return(e=(e||0)%360)<0?e+360:e}function dh(e){return Math.max(0,Math.min(1,e||0))}function fh(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function hh(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}kf(Mf,Zf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$f,formatHex:$f,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ch(this).formatHsl()},formatRgb:Qf,toString:Qf}),kf(th,eh,Df(Mf,{brighter(e){return e=null==e?Ff:Math.pow(Ff,e),new th(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Rf:Math.pow(Rf,e),new th(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new th(oh(this.r),oh(this.g),oh(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rh,formatHex:rh,formatHex8:function(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}${ih(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:nh,toString:nh})),kf(lh,(function(e,t,r,n){return 1===arguments.length?ch(e):new lh(e,t,r,null==n?1:n)}),Df(Mf,{brighter(e){return e=null==e?Ff:Math.pow(Ff,e),new lh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Rf:Math.pow(Rf,e),new lh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new th(fh(e>=240?e-240:e+120,a,n),fh(e,a,n),fh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new lh(uh(this.h),dh(this.s),dh(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ah(this.opacity);return`${1===e?"hsl(":"hsla("}${uh(this.h)}, ${100*dh(this.s)}%, ${100*dh(this.l)}%${1===e?")":`, ${e})`}`}}));const ph=e=>()=>e;function mh(e,t){return function(r){return e+r*t}}function gh(e){return 1==(e=+e)?vh:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):ph(isNaN(t)?r:t)}}function vh(e,t){var r=t-e;return r?mh(e,r):ph(isNaN(e)?t:e)}const xh=function e(t){var r=gh(t);function n(e,t){var n=r((e=eh(e)).r,(t=eh(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),i=vh(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function bh(e){return function(t){var r,n,a=t.length,o=new Array(a),i=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=eh(t[r]),o[r]=n.r||0,i[r]=n.g||0,s[r]=n.b||0;return o=e(o),i=e(i),s=e(s),n.opacity=1,function(e){return n.r=o(e),n.g=i(e),n.b=s(e),n+""}}}bh((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,s=n<t-1?e[n+2]:2*o-a;return hh((r-n/t)*t,i,a,o,s)}})),bh((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],s=e[(n+2)%t];return hh((r-n/t)*t,a,o,i,s)}}));function yh(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,o=new Array(a),i=new Array(n);for(r=0;r<a;++r)o[r]=Ah(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=o[r](e);return i}}function jh(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Nh(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Ah(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var _h=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ch=new RegExp(_h.source,"g");function Eh(e,t){var r,n,a,o=_h.lastIndex=Ch.lastIndex=0,i=-1,s=[],c=[];for(e+="",t+="";(r=_h.exec(e))&&(n=Ch.exec(t));)(a=n.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,c.push({i,x:wh(r,n)})),o=Ch.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var r,n=0;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join("")})}function Sh(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(r=0;r<n;++r)a[r]=e[r]*(1-o)+t[r]*o;return a}}function Ah(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?ph(t):("number"===a?wh:"string"===a?(r=Zf(t))?(t=r,xh):Eh:t instanceof Zf?xh:t instanceof Date?jh:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?yh:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Nh:wh:Sh))(e,t)}function Ih(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Oh(e){return+e}var Th=[0,1];function Ph(e){return e}function kh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Dh(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=kh(a,n),o=r(i,o)):(n=kh(n,a),o=r(o,i)),function(e){return o(n(e))}}function Mh(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=kh(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(t){var r=Pf(e,t,1,n)-1;return o[r](a[r](t))}}function Rh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fh(){var e,t,r,n,a,o,i=Th,s=Th,c=Ah,l=Ph;function u(){var e=Math.min(i.length,s.length);return l!==Ph&&(l=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?Mh:Dh,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),s,c)))(e(l(t)))}return d.invert=function(r){return l(t((o||(o=n(s,i.map(e),wh)))(r)))},d.domain=function(e){return arguments.length?(i=Array.from(e,Oh),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=Ih,u()},d.clamp=function(e){return arguments.length?(l=!!e||Ph,u()):l!==Ph},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Lh(){return Fh()(Ph,Ph)}var Bh,Uh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zh(e){if(!(t=Uh.exec(e)))throw new Error("invalid format: "+e);var t;return new Vh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Vh(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hh(e){return(e=Gh(Math.abs(e)))?e[1]:NaN}function qh(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}zh.prototype=Vh.prototype,Vh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wh={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qh(100*e,t),r:qh,s:function(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(Bh=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Gh(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yh(e){return e}var Xh,$h,Qh,Zh=Array.prototype.map,Kh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jh(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Yh:(t=Zh.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,o=[],i=0,s=t[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(e.substring(a-=s,a+s)),!((c+=s+1)>n));)s=t[i=(i+1)%t.length];return o.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Yh:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Zh.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=zh(e)).fill,r=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,x=e.type;"n"===x?(m=!0,x="g"):Wh[x]||(void 0===g&&(g=12),v=!0,x="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",y="$"===f?o:/[%p]/.test(x)?c:"",j=Wh[x],w=/[defgprs%]/.test(x);function N(e){var a,o,c,f=b,N=y;if("c"===x)N=j(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0==+e&&"+"!==d&&(_=!1),f=(_?"("===d?d:l:"-"===d||"("===d?"":d)+f,N=("s"===x?Kh[8+Bh/3]:"")+N+(_&&"("===d?")":""),w)for(a=-1,o=e.length;++a<o;)if(48>(c=e.charCodeAt(a))||c>57){N=(46===c?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!h&&(e=n(e,1/0));var C=f.length+e.length+N.length,E=C<p?new Array(p-C+1).join(t):"";switch(m&&h&&(e=n(E+e,E.length?p-N.length:1/0),E=""),r){case"<":e=f+e+N+E;break;case"=":e=f+E+e+N;break;case"^":e=E.slice(0,C=E.length>>1)+f+e+N+E.slice(C);break;default:e=E+f+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=zh(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Hh(t)/3))),a=Math.pow(10,-n),o=Kh[8+n/3];return function(e){return r(a*e)+o}}}}function ep(e,t,r,n){var a,o=_f(e,t,r);switch((n=zh(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hh(t)/3)))-Hh(Math.abs(e)))}(o,i))||(n.precision=a),Qh(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hh(t)-Hh(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Hh(Math.abs(e)))}(o))||(n.precision=a-2*("%"===n.type))}return $h(n)}function tp(e){var t=e.domain;return e.ticks=function(e){var r=t();return wf(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return ep(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,o=t(),i=0,s=o.length-1,c=o[i],l=o[s],u=10;for(l<c&&(a=c,c=l,l=a,a=i,i=s,s=a);u-- >0;){if((a=Nf(c,l,r))===n)return o[i]=c,o[s]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}n=a}return e},e}function rp(){var e=Lh();return e.copy=function(){return Rh(e,rp())},Zd.apply(e,arguments),tp(e)}function np(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Oh),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return np(e).unknown(t)},e=arguments.length?Array.from(e,Oh):[0,1],tp(r)}function ap(e,t){var r,n=0,a=(e=e.slice()).length-1,o=e[n],i=e[a];return i<o&&(r=n,n=a,a=r,r=o,o=i,i=r),e[n]=t.floor(o),e[a]=t.ceil(i),e}function op(e){return Math.log(e)}function ip(e){return Math.exp(e)}function sp(e){return-Math.log(-e)}function cp(e){return-Math.exp(-e)}function lp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function up(e){return(t,r)=>-e(-t,r)}function dp(e){const t=e(op,ip),r=t.domain;let n,a,o=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),a=function(e){return 10===e?lp:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),r()[0]<0?(n=up(n),a=up(a),e(sp,cp)):e(op,ip),t}return t.base=function(e){return arguments.length?(o=+e,i()):o},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],s=t[t.length-1];const c=s<i;c&&([i,s]=[s,i]);let l,u,d=n(i),f=n(s);const h=null==e?10:+e;let p=[];if(!(o%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),i>0){for(;d<=f;++d)for(l=1;l<o;++l)if(u=d<0?l/a(-d):l*a(d),!(u<i)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(l=o-1;l>=1;--l)if(u=d>0?l/a(-d):l*a(d),!(u<i)){if(u>s)break;p.push(u)}2*p.length<h&&(p=wf(i,s,h))}else p=wf(d,f,Math.min(f-d,h)).map(a);return c?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===o?"s":","),"function"!=typeof r&&(o%1||null!=(r=zh(r)).precision||(r.trim=!0),r=$h(r)),e===1/0)return r;const i=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*o<o-.5&&(t*=o),t<=i?r(e):""}},t.nice=()=>r(ap(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function fp(){const e=dp(Fh()).domain([1,10]);return e.copy=()=>Rh(e,fp()).base(e.base()),Zd.apply(e,arguments),e}function hp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mp(e){var t=1,r=e(hp(t),pp(t));return r.constant=function(r){return arguments.length?e(hp(t=+r),pp(t)):t},tp(r)}function gp(){var e=mp(Fh());return e.copy=function(){return Rh(e,gp()).constant(e.constant())},Zd.apply(e,arguments)}function vp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xp(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bp(e){return e<0?-e*e:e*e}function yp(e){var t=e(Ph,Ph),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Ph,Ph):.5===r?e(xp,bp):e(vp(r),vp(1/r)):r},tp(t)}function jp(){var e=yp(Fh());return e.copy=function(){return Rh(e,jp()).exponent(e.exponent())},Zd.apply(e,arguments),e}function wp(){return jp.apply(null,arguments).exponent(.5)}function Np(e){return Math.sign(e)*e*e}function _p(){var e,t=Lh(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(Np(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,Oh)).map(Np)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return _p(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Zd.apply(a,arguments),tp(a)}function Cp(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Ep(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Sp(e=Cf){if(e===Cf)return Ap;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Ap(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ip(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Ap:Sp(a);n>r;){if(n-r>600){const o=n-r+1,i=t-r+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(i-o/2<0?-1:1);Ip(e,t,Math.max(r,Math.floor(t-i*c/o+l)),Math.min(n,Math.floor(t+(o-i)*c/o+l)),a)}const o=e[t];let i=r,s=n;for(Op(e,r,t),a(e[n],o)>0&&Op(e,r,n);i<s;){for(Op(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}0===a(e[r],o)?Op(e,r,s):(++s,Op(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Op(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Tp(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Ep(e);if(t>=1)return Cp(e);var n,a=(n-1)*t,o=Math.floor(a),i=Cp(Ip(e,o).subarray(0,o+1));return i+(Ep(e.subarray(o+1))-i)*(a-o)}}function Pp(e,t,r=If){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e);return i+(+r(e[o+1],o+1,e)-i)*(a-o)}}function kp(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=Pp(t,e/a);return o}function o(t){return null==t||isNaN(t=+t)?e:r[Pf(n,t)]}return o.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Cf),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return n.slice()},o.copy=function(){return kp().domain(t).range(r).unknown(e)},Zd.apply(o,arguments)}function Dp(){var e,t=0,r=1,n=1,a=[.5],o=[0,1];function i(t){return null!=t&&t<=t?o[Pf(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},i.range=function(e){return arguments.length?(n=(o=Array.from(e)).length-1,s()):o.slice()},i.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],r]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Dp().domain([t,r]).range(o).unknown(e)},Zd.apply(tp(i),arguments)}function Mp(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[Pf(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Mp().domain(t).range(r).unknown(e)},Zd.apply(a,arguments)}Xh=Jh({thousands:",",grouping:[3],currency:["$",""]}),$h=Xh.format,Qh=Xh.formatPrefix;const Rp=1e3,Fp=6e4,Lp=36e5,Bp=864e5,Up=6048e5,zp=2592e6,Vp=31536e6,Gp=new Date,Hp=new Date;function qp(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,o)=>{const i=[];if(r=a.ceil(r),o=null==o?1:Math.floor(o),!(r<n&&o>0))return i;let s;do{i.push(s=new Date(+r)),t(r,o),e(r)}while(s<r&&r<n);return i},a.filter=r=>qp((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(Gp.setTime(+t),Hp.setTime(+n),e(Gp),e(Hp),Math.floor(r(Gp,Hp))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e==0:t=>a.count(0,t)%e==0):a:null)),a}const Wp=qp((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Wp.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?qp((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):Wp:null);Wp.range;const Yp=qp((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Rp)}),((e,t)=>(t-e)/Rp),(e=>e.getUTCSeconds())),Xp=(Yp.range,qp((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rp)}),((e,t)=>{e.setTime(+e+t*Fp)}),((e,t)=>(t-e)/Fp),(e=>e.getMinutes()))),$p=(Xp.range,qp((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Fp)}),((e,t)=>(t-e)/Fp),(e=>e.getUTCMinutes()))),Qp=($p.range,qp((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rp-e.getMinutes()*Fp)}),((e,t)=>{e.setTime(+e+t*Lp)}),((e,t)=>(t-e)/Lp),(e=>e.getHours()))),Zp=(Qp.range,qp((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Lp)}),((e,t)=>(t-e)/Lp),(e=>e.getUTCHours()))),Kp=(Zp.range,qp((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fp)/Bp),(e=>e.getDate()-1))),Jp=(Kp.range,qp((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Bp),(e=>e.getUTCDate()-1))),em=(Jp.range,qp((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Bp),(e=>Math.floor(e/Bp))));em.range;function tm(e){return qp((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fp)/Up))}const rm=tm(0),nm=tm(1),am=tm(2),om=tm(3),im=tm(4),sm=tm(5),cm=tm(6);rm.range,nm.range,am.range,om.range,im.range,sm.range,cm.range;function lm(e){return qp((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Up))}const um=lm(0),dm=lm(1),fm=lm(2),hm=lm(3),pm=lm(4),mm=lm(5),gm=lm(6),vm=(um.range,dm.range,fm.range,hm.range,pm.range,mm.range,gm.range,qp((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),xm=(vm.range,qp((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),bm=(xm.range,qp((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));bm.every=e=>isFinite(e=Math.floor(e))&&e>0?qp((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;bm.range;const ym=qp((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));ym.every=e=>isFinite(e=Math.floor(e))&&e>0?qp((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;ym.range;function jm(e,t,r,n,a,o){const i=[[Yp,1,Rp],[Yp,5,5e3],[Yp,15,15e3],[Yp,30,3e4],[o,1,Fp],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,Lp],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Bp],[n,2,1728e5],[r,1,Up],[t,1,zp],[t,3,7776e6],[e,1,Vp]];function s(t,r,n){const a=Math.abs(r-t)/n,o=Sf((([,,e])=>e)).right(i,a);if(o===i.length)return e.every(_f(t/Vp,r/Vp,n));if(0===o)return Wp.every(Math.max(_f(t,r,n),1));const[s,c]=i[a/i[o-1][2]<i[o][2]/a?o-1:o];return s.every(c)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),o=a?a.range(e,+t+1):[];return n?o.reverse():o},s]}const[wm,Nm]=jm(ym,xm,um,em,Zp,$p),[_m,Cm]=jm(bm,vm,rm,Kp,Qp,Xp);function Em(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Am(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Im,Om,Tm,Pm={"-":"",_:" ",0:"0"},km=/^\s*\d+/,Dm=/^%/,Mm=/[\\^$*+?|[\]().{}]/g;function Rm(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Fm(e){return e.replace(Mm,"\\$&")}function Lm(e){return new RegExp("^(?:"+e.map(Fm).join("|")+")","i")}function Bm(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Um(e,t,r){var n=km.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zm(e,t,r){var n=km.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Gm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qm(e,t,r){var n=km.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Wm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ym(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xm(e,t,r){var n=km.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function $m(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Qm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Zm(e,t,r){var n=km.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Km(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jm(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eg(e,t,r){var n=km.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tg(e,t,r){var n=km.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rg(e,t,r){var n=km.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ng(e,t,r){var n=Dm.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ag(e,t,r){var n=km.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function og(e,t,r){var n=km.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ig(e,t){return Rm(e.getDate(),t,2)}function sg(e,t){return Rm(e.getHours(),t,2)}function cg(e,t){return Rm(e.getHours()%12||12,t,2)}function lg(e,t){return Rm(1+Kp.count(bm(e),e),t,3)}function ug(e,t){return Rm(e.getMilliseconds(),t,3)}function dg(e,t){return ug(e,t)+"000"}function fg(e,t){return Rm(e.getMonth()+1,t,2)}function hg(e,t){return Rm(e.getMinutes(),t,2)}function pg(e,t){return Rm(e.getSeconds(),t,2)}function mg(e){var t=e.getDay();return 0===t?7:t}function gg(e,t){return Rm(rm.count(bm(e)-1,e),t,2)}function vg(e){var t=e.getDay();return t>=4||0===t?im(e):im.ceil(e)}function xg(e,t){return e=vg(e),Rm(im.count(bm(e),e)+(4===bm(e).getDay()),t,2)}function bg(e){return e.getDay()}function yg(e,t){return Rm(nm.count(bm(e)-1,e),t,2)}function jg(e,t){return Rm(e.getFullYear()%100,t,2)}function wg(e,t){return Rm((e=vg(e)).getFullYear()%100,t,2)}function Ng(e,t){return Rm(e.getFullYear()%1e4,t,4)}function _g(e,t){var r=e.getDay();return Rm((e=r>=4||0===r?im(e):im.ceil(e)).getFullYear()%1e4,t,4)}function Cg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rm(t/60|0,"0",2)+Rm(t%60,"0",2)}function Eg(e,t){return Rm(e.getUTCDate(),t,2)}function Sg(e,t){return Rm(e.getUTCHours(),t,2)}function Ag(e,t){return Rm(e.getUTCHours()%12||12,t,2)}function Ig(e,t){return Rm(1+Jp.count(ym(e),e),t,3)}function Og(e,t){return Rm(e.getUTCMilliseconds(),t,3)}function Tg(e,t){return Og(e,t)+"000"}function Pg(e,t){return Rm(e.getUTCMonth()+1,t,2)}function kg(e,t){return Rm(e.getUTCMinutes(),t,2)}function Dg(e,t){return Rm(e.getUTCSeconds(),t,2)}function Mg(e){var t=e.getUTCDay();return 0===t?7:t}function Rg(e,t){return Rm(um.count(ym(e)-1,e),t,2)}function Fg(e){var t=e.getUTCDay();return t>=4||0===t?pm(e):pm.ceil(e)}function Lg(e,t){return e=Fg(e),Rm(pm.count(ym(e),e)+(4===ym(e).getUTCDay()),t,2)}function Bg(e){return e.getUTCDay()}function Ug(e,t){return Rm(dm.count(ym(e)-1,e),t,2)}function zg(e,t){return Rm(e.getUTCFullYear()%100,t,2)}function Vg(e,t){return Rm((e=Fg(e)).getUTCFullYear()%100,t,2)}function Gg(e,t){return Rm(e.getUTCFullYear()%1e4,t,4)}function Hg(e,t){var r=e.getUTCDay();return Rm((e=r>=4||0===r?pm(e):pm.ceil(e)).getUTCFullYear()%1e4,t,4)}function qg(){return"+0000"}function Wg(){return"%"}function Yg(e){return+e}function Xg(e){return Math.floor(+e/1e3)}function $g(e){return new Date(e)}function Qg(e){return e instanceof Date?+e:+new Date(+e)}function Zg(e,t,r,n,a,o,i,s,c,l){var u=Lh(),d=u.invert,f=u.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),x=l("%b %d"),b=l("%B"),y=l("%Y");function j(e){return(c(e)<e?h:s(e)<e?p:i(e)<e?m:o(e)<e?g:n(e)<e?a(e)<e?v:x:r(e)<e?b:y)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,Qg)):f().map($g)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:l(t)},u.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(ap(r,e)):u},u.copy=function(){return Rh(u,Zg(e,t,r,n,a,o,i,s,c,l))},u}function Kg(){return Zd.apply(Zg(_m,Cm,bm,vm,rm,Kp,Qp,Xp,Yp,Om).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jg(){return Zd.apply(Zg(wm,Nm,ym,xm,um,Jp,Zp,$p,Yp,Tm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ev(){var e,t,r,n,a,o=0,i=1,s=Ph,c=!1;function l(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),l):[s(0),s(1)]}}return l.domain=function(a){return arguments.length?([o,i]=a,e=n(o=+o),t=n(i=+i),r=e===t?0:1/(t-e),l):[o,i]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(Ah),l.rangeRound=u(Ih),l.unknown=function(e){return arguments.length?(a=e,l):a},function(a){return n=a,e=a(o),t=a(i),r=e===t?0:1/(t-e),l}}function tv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rv(){var e=tp(ev()(Ph));return e.copy=function(){return tv(e,rv())},Kd.apply(e,arguments)}function nv(){var e=dp(ev()).domain([1,10]);return e.copy=function(){return tv(e,nv()).base(e.base())},Kd.apply(e,arguments)}function av(){var e=mp(ev());return e.copy=function(){return tv(e,av()).constant(e.constant())},Kd.apply(e,arguments)}function ov(){var e=yp(ev());return e.copy=function(){return tv(e,ov()).exponent(e.exponent())},Kd.apply(e,arguments)}function iv(){return ov.apply(null,arguments).exponent(.5)}function sv(){var e=[],t=Ph;function r(r){if(null!=r&&!isNaN(r=+r))return t((Pf(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Cf),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>Tp(e,n/t)))},r.copy=function(){return sv(t).domain(e)},Kd.apply(r,arguments)}function cv(){var e,t,r,n,a,o,i,s=0,c=.5,l=1,u=1,d=Ph,f=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Ah);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return o[t](e-t)}}(e,[r,n,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(i){return arguments.length?([s,c,l]=i,e=o(s=+s),t=o(c=+c),r=o(l=+l),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h):[s,c,l]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(Ah),h.rangeRound=p(Ih),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return o=i,e=i(s),t=i(c),r=i(l),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h}}function lv(){var e=tp(cv()(Ph));return e.copy=function(){return tv(e,lv())},Kd.apply(e,arguments)}function uv(){var e=dp(cv()).domain([.1,1,10]);return e.copy=function(){return tv(e,uv()).base(e.base())},Kd.apply(e,arguments)}function dv(){var e=mp(cv());return e.copy=function(){return tv(e,dv()).constant(e.constant())},Kd.apply(e,arguments)}function fv(){var e=yp(cv());return e.copy=function(){return tv(e,fv()).exponent(e.exponent())},Kd.apply(e,arguments)}function hv(){return fv.apply(null,arguments).exponent(.5)}function pv(e,t){if((a=e.length)>1)for(var r,n,a,o=1,i=e[t[0]],s=i.length;o<a;++o)for(n=i,i=e[t[o]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function mv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function gv(e,t){return e[t]}function vv(e){const t=[];return t.key=e,t}!function(e){Im=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Lm(a),u=Bm(a),d=Lm(o),f=Bm(o),h=Lm(i),p=Bm(i),m=Lm(s),g=Bm(s),v=Lm(c),x=Bm(c),b={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ig,e:ig,f:dg,g:wg,G:_g,H:sg,I:cg,j:lg,L:ug,m:fg,M:hg,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Yg,s:Xg,S:pg,u:mg,U:gg,V:xg,w:bg,W:yg,x:null,X:null,y:jg,Y:Ng,Z:Cg,"%":Wg},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Eg,e:Eg,f:Tg,g:Vg,G:Hg,H:Sg,I:Ag,j:Ig,L:Og,m:Pg,M:kg,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Yg,s:Xg,S:Dg,u:Mg,U:Rg,V:Lg,w:Bg,W:Ug,x:null,X:null,y:zg,Y:Gg,Z:qg,"%":Wg},j={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return _(e,t,r,n)},d:Qm,e:Qm,f:rg,g:Wm,G:qm,H:Km,I:Km,j:Zm,L:tg,m:$m,M:Jm,p:function(e,t,r){var n=l.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Xm,Q:ag,s:og,S:eg,u:zm,U:Vm,V:Gm,w:Um,W:Hm,x:function(e,t,n){return _(e,r,t,n)},X:function(e,t,r){return _(e,n,t,r)},y:Wm,Y:qm,Z:Ym,"%":ng};function w(e,t){return function(r){var n,a,o,i=[],s=-1,c=0,l=e.length;for(r instanceof Date||(r=new Date(+r));++s<l;)37===e.charCodeAt(s)&&(i.push(e.slice(c,s)),null!=(a=Pm[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(o=t[n])&&(n=o(r,a)),i.push(n),c=s+1);return i.push(e.slice(c,s)),i.join("")}}function N(e,t){return function(r){var n,a,o=Am(1900,void 0,1);if(_(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(n=Sm(Am(o.y,0,1))).getUTCDay(),n=a>4||0===a?dm.ceil(n):dm(n),n=Jp.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(a=(n=Em(Am(o.y,0,1))).getDay(),n=a>4||0===a?nm.ceil(n):nm(n),n=Kp.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?Sm(Am(o.y,0,1)).getUTCDay():Em(Am(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Sm(o)):Em(o)}}function _(e,t,r,n){for(var a,o,i=0,s=t.length,c=r.length;i<s;){if(n>=c)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=j[a in Pm?t.charAt(i++):a])||(n=o(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),y.x=w(r,y),y.X=w(n,y),y.c=w(t,y),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Om=Im.format,Im.parse,Tm=Im.utcFormat,Im.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xv=r(8351),bv=r.n(xv);function yv(e){return function(e){if(Array.isArray(e))return jv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wv=function(e){return e},Nv={"@@functional/placeholder":!0},_v=function(e){return e===Nv},Cv=function(e){return function t(){return 0===arguments.length||1===arguments.length&&_v(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Ev=function e(t,r){return 1===t?r:Cv((function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter((function(e){return e!==Nv})).length;return i>=t?r.apply(void 0,a):e(t-i,Cv((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=a.map((function(e){return _v(e)?t.shift():e}));return r.apply(void 0,yv(o).concat(t))})))}))},Sv=function(e){return Ev(e.length,e)},Av=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Iv=Sv((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),Ov=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return wv;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},Tv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Pv=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};var kv=Sv((function(e,t,r){var n=+e;return n+r*(+t-n)})),Dv=Sv((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),Mv=Sv((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}));const Rv={rangeStep:function(e,t,r){for(var n=new(bv())(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(bv())(e).abs().log(10).toNumber())+1},interpolateNumber:kv,uninterpolateNumber:Dv,uninterpolateTruncation:Mv};function Fv(e){return function(e){if(Array.isArray(e))return Uv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Bv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||Bv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bv(e,t){if(e){if("string"==typeof e)return Uv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uv(e,t):void 0}}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zv(e){var t=Lv(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Vv(e,t,r){if(e.lte(0))return new(bv())(0);var n=Rv.getDigitCount(e.toNumber()),a=new(bv())(10).pow(n),o=e.div(a),i=1!==n?.05:.1,s=new(bv())(Math.ceil(o.div(i).toNumber())).add(r).mul(i).mul(a);return t?s:new(bv())(Math.ceil(s))}function Gv(e,t,r){var n=1,a=new(bv())(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new(bv())(10).pow(Rv.getDigitCount(e)-1),a=new(bv())(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new(bv())(Math.floor(e)))}else 0===e?a=new(bv())(Math.floor((t-1)/2)):r||(a=new(bv())(Math.floor(e)));var i=Math.floor((t-1)/2);return Ov(Iv((function(e){return a.add(new(bv())(e-i).mul(n)).toNumber()})),Av)(0,t)}function Hv(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(bv())(0),tickMin:new(bv())(0),tickMax:new(bv())(0)};var o,i=Vv(new(bv())(t).sub(e).div(r-1),n,a);o=e<=0&&t>=0?new(bv())(0):(o=new(bv())(e).add(t).div(2)).sub(new(bv())(o).mod(i));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new(bv())(t).sub(o).div(i).toNumber()),l=s+c+1;return l>r?Hv(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:i,tickMin:o.sub(new(bv())(s).mul(i)),tickMax:o.add(new(bv())(c).mul(i))})}var qv=Pv((function(e){var t=Lv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Lv(zv([r,n]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0){var u=l===1/0?[c].concat(Fv(Av(0,a-1).map((function(){return 1/0})))):[].concat(Fv(Av(0,a-1).map((function(){return-1/0}))),[l]);return r>n?Tv(u):u}if(c===l)return Gv(c,a,o);var d=Hv(c,l,i,o),f=d.step,h=d.tickMin,p=d.tickMax,m=Rv.rangeStep(h,p.add(new(bv())(.1).mul(f)),f);return r>n?Tv(m):m})),Wv=(Pv((function(e){var t=Lv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Lv(zv([r,n]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[r,n];if(c===l)return Gv(c,a,o);var u=Vv(new(bv())(l).sub(c).div(i-1),o,0),d=Ov(Iv((function(e){return new(bv())(c).add(new(bv())(e).mul(u)).toNumber()})),Av)(0,i).filter((function(e){return e>=c&&e<=l}));return r>n?Tv(d):d})),Pv((function(e,t){var r=Lv(e,2),n=r[0],a=r[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Lv(zv([n,a]),2),s=i[0],c=i[1];if(s===-1/0||c===1/0)return[n,a];if(s===c)return[s];var l=Math.max(t,2),u=Vv(new(bv())(c).sub(s).div(l-1),o,0),d=[].concat(Fv(Rv.rangeStep(new(bv())(s),new(bv())(c).sub(new(bv())(.99).mul(u)),u)),[c]);return n>a?Tv(d):d}))),Yv=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function $v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kv(e){var t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,c=e.xAxis,l=e.yAxis,u=Zv(e,Yv),d=Ao(u),f=i.map((function(e,i){var u=s(e,a),f=u.x,h=u.y,p=u.value,m=u.errorVal;if(!m)return null;var g,v,x=[];if(Array.isArray(m)){var b=$v(m,2);g=b[0],v=b[1]}else g=v=m;if("vertical"===r){var y=c.scale,j=h+t,w=j+n,N=j-n,_=y(p-g),C=y(p+v);x.push({x1:C,y1:w,x2:C,y2:N}),x.push({x1:_,y1:j,x2:C,y2:j}),x.push({x1:_,y1:w,x2:_,y2:N})}else if("horizontal"===r){var E=l.scale,S=f+t,A=S-n,I=S+n,O=E(p-g),T=E(p+v);x.push({x1:A,y1:T,x2:I,y2:T}),x.push({x1:S,y1:O,x2:S,y2:T}),x.push({x1:A,y1:O,x2:I,y2:O})}return o.createElement(Bo,Xv({className:"recharts-errorBar",key:"bar-".concat(i)},d),x.map((function(e,t){return o.createElement("line",Xv({},e,{key:"line-".concat(t)}))})))}));return o.createElement(Bo,{className:"recharts-errorBars"},f)}function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function ex(e){return function(e){if(Array.isArray(e))return tx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rx(Object(r),!0).forEach((function(t){ax(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ax(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Jv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ox(e,t,r){return Da()(e)||Da()(t)?r:da(t)?Jn()(e,t,r):Aa()(t)?t(e):r}function ix(e,t,r,n){var a=vf()(e,(function(e){return ox(e,t)}));if("number"===r){var o=a.filter((function(e){return ua(e)||parseFloat(e)}));return o.length?[mf()(o),hf()(o)]:[1/0,-1/0]}return(n?a.filter((function(e){return!Da()(e)})):a).map((function(e){return da(e)||e instanceof Date?e:""}))}Kv.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},Kv.displayName="ErrorBar";var sx=function(e){var t,r=e.type.displayName,n=e.props,a=n.stroke,o=n.fill;switch(r){case"Line":t=a;break;case"Area":case"Radar":t=a&&"none"!==a?a:o;break;default:t=o}return t},cx=function(e){var t,r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,o=e.legendContent,i=_o(r,El);return i?(t=i.props&&i.props.payload?i.props&&i.props.payload:"children"===o?(n||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,r=t.props,n=r.dataKey,a=r.name,o=r.legendType;return{inactive:r.hide,dataKey:n,type:i.props.iconType||o||"square",color:sx(t),value:a||n,payload:t.props}})),nx(nx(nx({},i.props),El.getWithHeight(i,a)),{},{payload:t,item:i})):null},lx=function(e,t,r,n,a){var o=No(t.props.children,Kv).filter((function(e){return function(e,t,r){return!!Da()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(o&&o.length){var i=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=ox(t,r,0),a=ta()(n)?[mf()(n),hf()(n)]:[n,n],o=i.reduce((function(e,r){var n=ox(t,r,0),o=a[0]-Math.abs(ta()(n)?n[0]:n),i=a[1]+Math.abs(ta()(n)?n[1]:n);return[Math.min(o,e[0]),Math.max(i,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},ux=function(e,t,r,n,a){var o=t.map((function(t){var o=t.props.dataKey;return"number"===r&&o&&lx(e,t,o,n)||ix(e,o,r,a)}));if("number"===r)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var i={};return o.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e}),[])},dx=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},fx=function(e,t,r){var n,a,o=e.map((function(e){return e.coordinate===t&&(n=!0),e.coordinate===r&&(a=!0),e.coordinate}));return n||o.push(t),a||o.push(r),o},hx=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,c=(t||r)&&"category"===o&&n.bandwidth?n.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*ca(i[0]-i[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+c,value:e,offset:c}})).filter((function(e){return!na()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+c,value:e,index:t,offset:c}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+c,value:e,offset:c}})):n.domain().map((function(e,t){return{coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}}))},px=function(e,t,r){var n;return Aa()(r)?n=r:Aa()(t)&&(n=t),Aa()(e)||n?function(t,r,a,o){Aa()(e)&&e(t,r,a,o),Aa()(n)&&n(t,r,a,o)}:null},mx=1e-4,gx={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=na()(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,o=0,i=e[0].length;o<i;++o){for(a=r=0;r<n;++r)a+=e[r][o][1]||0;if(a)for(r=0;r<n;++r)e[r][o][1]/=a}pv(e,t)}},none:pv,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],o=a.length;n<o;++n){for(var i=0,s=0;i<r;++i)s+=e[i][n][1]||0;a[n][1]+=a[n][0]=-s/2}pv(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,o=0,i=1;i<n;++i){for(var s=0,c=0,l=0;s<a;++s){for(var u=e[t[s]],d=u[i][1]||0,f=(d-(u[i-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[i][1]||0)-(p[i-1][1]||0)}c+=d,l+=f*d}r[i-1][1]+=r[i-1][0]=o,c&&(o-=l/c)}r[i-1][1]+=r[i-1][0]=o,pv(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=na()(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}}},vx=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=function(){var e=Rc([]),t=mv,r=pv,n=gv;function a(a){var o,i,s=Array.from(e.apply(this,arguments),vv),c=s.length,l=-1;for(const e of a)for(o=0,++l;o<c;++o)(s[o][l]=[0,+n(e,s[o].key,l,a)]).data=e;for(o=0,i=ql(t(s));o<c;++o)s[i[o]].index=o;return r(s,i),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:Rc(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:Rc(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?mv:"function"==typeof e?e:Rc(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?pv:e,a):r},a}().keys(n).value((function(e,t){return+ox(e,t,0)})).order(mv).offset(gx[r]);return a(e)},xx=function(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Da()(a[t.dataKey])){var s=va(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=ox(a,Da()(i)?t.dataKey:i);return Da()(c)?null:t.scale(c)},bx=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var s=ox(o,t.dataKey,t.domain[i]);return Da()(s)?null:t.scale(s)-a/2+n},yx=function(e,t,r){return Object.keys(e).reduce((function(n,a){var o=e[a].stackedData.reduce((function(e,n){var a=n.slice(t,r+1).reduce((function(e,t){return[mf()(t.concat([e[0]]).filter(ua)),hf()(t.concat([e[1]]).filter(ua))]}),[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},jx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nx=function(e,t,r){if(Aa()(e))return e(t,r);if(!ta()(e))return t;var n=[];if(ua(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(jx.test(e[0])){var a=+jx.exec(e[0])[1];n[0]=t[0]-a}else Aa()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(ua(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(wx.test(e[1])){var o=+wx.exec(e[1])[1];n[1]=t[1]+o}else Aa()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},_x=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Oa()(t,(function(e){return e.coordinate})),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Cx=function(e,t,r){return e&&e.length?df()(e,Jn()(r,"type.defaultProps.domain"))?t:e:t},Ex=function(e,t){var r=e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType;return nx(nx({},Ao(e)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:sx(e),value:ox(t,n),type:s,payload:t,chartType:c})};function Sx(e){return Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(e)}function Ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ax(Object(r),!0).forEach((function(t){Ox(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ox(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Sx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tx=["Webkit","Moz","O","ms"];function Px(e){return Px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dx(Object(r),!0).forEach((function(t){zx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vx(n.key),n)}}function Fx(e,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fx(e,t)}function Lx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ux(e);if(t){var a=Ux(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Px(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bx(e)}(this,r)}}function Bx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ux(e)}function zx(e,t,r){return(t=Vx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vx(e){var t=function(e,t){if("object"!==Px(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Px(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Px(t)?t:String(t)}var Gx=function(e){return e.changedTouches&&!!e.changedTouches.length},Hx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}(i,e);var t,r,n,a=Lx(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),zx(Bx(t=a.call(this,e)),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),zx(Bx(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),zx(Bx(t),"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()})),zx(Bx(t),"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),zx(Bx(t),"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),zx(Bx(t),"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),zx(Bx(t),"handleSlideDragStart",(function(e){var r=Gx(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:r.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(Bx(t),"startX"),endX:t.handleTravellerDragStart.bind(Bx(t),"endX")},t.state={},t}return t=i,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,n=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,c=Math.min(t,r),l=Math.max(t,r),u=i.getIndexInRange(n,c),d=i.getIndexInRange(n,l);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,o=ox(r[e],a,e);return Aa()(n)?n(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,o=this.props,i=o.x,s=o.width,c=o.travellerWidth,l=o.startIndex,u=o.endIndex,d=o.onChange,f=e.pageX-r;f>0?f=Math.min(f,i+s-c-a,i+s-c-n):f<0&&(f=Math.max(f,i-n,i-a));var h=this.getIndex({startX:n+f,endX:a+f});h.startIndex===l&&h.endIndex===u||!d||d(h),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=Gx(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,r=this.state,n=r.brushMoveStartX,a=r.movingTravellerId,o=r.endX,i=r.startX,s=this.state[a],c=this.props,l=c.x,u=c.width,d=c.travellerWidth,f=c.onChange,h=c.gap,p=c.data,m={startX:this.state.startX,endX:this.state.endX},g=e.pageX-n;g>0?g=Math.min(g,l+u-d-s):g<0&&(g=Math.max(g,l-s)),m[a]=s+g;var v=this.getIndex(m),x=v.startIndex,b=v.endIndex;this.setState((zx(t={},a,s+g),zx(t,"brushMoveStartX",e.pageX),t),(function(){var e;f&&(e=p.length-1,("startX"===a&&(o>i?x%h==0:b%h==0)||o<i&&b===e||"endX"===a&&(o>i?b%h==0:x%h==0)||o>i&&b===e)&&f(v))}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,s=e.stroke;return o.createElement("rect",{stroke:s,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.data,s=e.children,c=e.padding,l=o.Children.only(s);return l?o.cloneElement(l,{x:t,y:r,width:n,height:a,margin:c,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,t){var r=this.props,n=r.y,a=r.travellerWidth,s=r.height,c=r.traveller,l=Math.max(e,this.props.x),u=Mx(Mx({},Ao(this.props)),{},{x:l,y:n,width:a,height:s});return o.createElement(Bo,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},i.renderTraveller(c,u))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,s=r.travellerWidth,c=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:c,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,c=this.state,l=c.startX,u=c.endX,d={pointerEvents:"none",fill:s};return o.createElement(Bo,{className:"recharts-brush-texts"},o.createElement(Cd,kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:n+a/2},d),this.getTextOfTick(t)),o.createElement(Cd,kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,s=e.width,c=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,h=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving;if(!t||!t.length||!ua(a)||!ua(i)||!ua(s)||!ua(c)||s<=0||c<=0)return null;var g=Ln()("recharts-brush",r),v=1===o.Children.count(n),x=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=Tx.reduce((function(e,n){return Ix(Ix({},e),{},Ox({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return o.createElement(Bo,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(h||p||m||l)&&this.renderText())}}],n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,s=Math.floor(r+a/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),o.createElement("line",{x1:t+1,y1:s,x2:t+n-1,y2:s,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:t+1,y1:s+2,x2:t+n-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):i.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,o=e.travellerWidth,i=e.updateId,s=e.startIndex,c=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return Mx({prevData:r,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=lf().domain(Pa()(0,s)).range([a,a+o-i]),l=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}}({data:r,width:n,x:a,travellerWidth:o,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([a,a+n-o]);var l=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:l}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],r&&Rx(t.prototype,r),n&&Rx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);zx(Hx,"displayName","Brush"),zx(Hx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qx=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Wx=r(3916),Yx=r.n(Wx),Xx=function(e){return null};Xx.displayName="Cell";var $x=r(8090),Qx=r.n($x);function Zx(e){return Zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(e)}var Kx=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function Jx(e){return function(e){if(Array.isArray(e))return eb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(r),!0).forEach((function(t){ab(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ab(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ob(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ib={valueAccessor:function(e){return ta()(e.value)?Qx()(e.value):e.value}};function sb(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,a=e.clockWise,i=e.id,s=e.textBreakAll,c=ob(e,Kx);return t&&t.length?o.createElement(Bo,{className:"recharts-label-list"},t.map((function(e,t){var l=Da()(n)?r(e,t):ox(e&&e.payload,n),u=Da()(i)?{}:{id:"".concat(i,"-").concat(t)};return o.createElement(Dd,tb({},Ao(e,!0),c,u,{parentViewBox:e.parentViewBox,index:t,value:l,textBreakAll:s,viewBox:Dd.parseViewBox(Da()(a)?e:nb(nb({},e),{},{clockWise:a})),key:"label-".concat(t)}))}))):null}sb.displayName="LabelList",sb.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=No(e.children,sb).map((function(e,r){return(0,o.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));return r?[function(e,t){return e?!0===e?o.createElement(sb,{key:"labelList-implicit",data:t}):o.isValidElement(e)||Aa()(e)?o.createElement(sb,{key:"labelList-implicit",data:t,content:e}):ao()(e)?o.createElement(sb,tb({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Jx(n)):n},sb.defaultProps=ib;var cb=["value","background"];function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function ub(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},db.apply(this,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fb(Object(r),!0).forEach((function(t){bb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yb(n.key),n)}}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mb(e,t)}function gb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xb(e);if(t){var a=xb(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vb(e)}(this,r)}}function vb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xb(e)}function bb(e,t,r){return(t=yb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(e){var t=function(e,t){if("object"!==lb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==lb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lb(t)?t:String(t)}var jb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}(i,e);var t,r,n,a=gb(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bb(vb(e=a.call.apply(a,[this].concat(r))),"state",{isAnimationFinished:!1}),bb(vb(e),"id",ha("recharts-bar-")),bb(vb(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),bb(vb(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}},{key:"renderRectangle",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):o.createElement(nd,t)}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props.shape,n=Ao(this.props);return e&&e.map((function(e,a){var s=hb(hb(hb({},n),e),{},{index:a});return o.createElement(Bo,db({className:"recharts-bar-rectangle"},po(t.props,e,a),{key:"rectangle-".concat(a),role:"img"}),i.renderRectangle(r,s))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,c=t.animationEasing,l=t.animationId,u=this.state.prevData;return o.createElement(Bs,{begin:i,duration:s,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,i=r.map((function(e,t){var r=u&&u[t];if(r){var o=ga(r.x,e.x),i=ga(r.y,e.y),s=ga(r.width,e.width),c=ga(r.height,e.height);return hb(hb({},e),{},{x:o(a),y:i(a),width:s(a),height:c(a)})}if("horizontal"===n){var l=ga(0,e.height)(a);return hb(hb({},e),{},{y:e.y+e.height-l,height:l})}var d=ga(0,e.width)(a);return hb(hb({},e),{},{width:d})}));return o.createElement(Bo,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&df()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props.data,r=Ao(this.props.background);return t.map((function(t,n){t.value;var a=t.background,o=ub(t,cb);if(!a)return null;var s=hb(hb(hb(hb(hb({},o),{},{fill:"#eee"},a),r),po(e.props,t,n)),{},{index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return i.renderRectangle(e.props.background,s)}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,s=r.layout,c=No(r.children,Kv);if(!c)return null;var l="vertical"===s?n[0].height/2:n[0].width/2;function u(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:ox(e,t)}}var d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Bo,d,c.map((function(e,t){return o.cloneElement(e,{key:"error-bar-".concat(t),data:n,xAxis:a,yAxis:i,layout:s,offset:l,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,s=e.left,c=e.top,l=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Ln()("recharts-bar",n),g=a&&a.allowDataOverflow||i&&i.allowDataOverflow,v=Da()(h)?this.id:h;return o.createElement(Bo,{className:m},g?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(v)},o.createElement("rect",{x:s,y:c,width:l,height:u}))):null,o.createElement(Bo,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(v,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,v),(!d||p)&&sb.renderCallByParent(this.props,r))}}])&&pb(t.prototype,r),n&&pb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function wb(e){return wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(e)}function Nb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sb(n.key),n)}}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_b(Object(r),!0).forEach((function(t){Eb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eb(e,t,r){return(t=Sb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sb(e){var t=function(e,t){if("object"!==wb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==wb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wb(t)?t:String(t)}bb(jb,"displayName","Bar"),bb(jb,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Fa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),bb(jb,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var p=t.layout,m=r.props,g=m.dataKey,v=m.children,x=m.minPointSize,b="horizontal"===p?i:o,y=l?b.scale.domain():null,j=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),w=No(v,Xx),N=d.map((function(e,t){var n,d,f,m,v,b;if(l?n=function(e,t){if(!t||2!==t.length||!ua(t[0])||!ua(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ua(e[0])||e[0]<r)&&(a[0]=r),(!ua(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(l[u+t],y):(n=ox(e,g),ta()(n)||(n=[j,n])),"horizontal"===p){var N,_=[i.scale(n[0]),i.scale(n[1])],C=_[0],E=_[1];d=bx({axis:o,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(N=null!=E?E:C)&&void 0!==N?N:void 0,m=h.size;var S=C-E;if(v=Number.isNaN(S)?0:S,b={x:d,y:i.y,width:m,height:i.height},Math.abs(x)>0&&Math.abs(v)<Math.abs(x)){var A=ca(v||x)*(Math.abs(x)-Math.abs(v));f-=A,v+=A}}else{var I=[o.scale(n[0]),o.scale(n[1])],O=I[0],T=I[1];if(d=O,f=bx({axis:i,ticks:c,bandSize:a,offset:h.offset,entry:e,index:t}),m=T-O,v=h.size,b={x:o.x,y:f,width:o.width,height:v},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=ca(m||x)*(Math.abs(x)-Math.abs(m))}return hb(hb(hb({},e),{},{x:d,y:f,width:m,height:v,value:l?n:n[1],payload:e,background:b},w&&w[t]&&w[t].props),{},{tooltipPayload:[Ex(r,e)],tooltipPosition:{x:d+m/2,y:f+v/2}})}));return hb({data:N,layout:p},f)}));var Ab=function(e,t,r,a,o){var i=e.width,s=e.height,c=e.layout,l=e.children,u=Object.keys(t),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!_o(l,jb);return u.reduce((function(i,s){var l,u,h,p,m,g=t[s],v=g.orientation,x=g.domain,b=g.padding,y=void 0===b?{}:b,j=g.mirror,w=g.reversed,N="".concat(v).concat(j?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var _=x[1]-x[0],C=1/0,E=g.categoricalDomain.sort();E.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(E[t-1]||0),C))}));var S=C/_,A="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(l=S*A/2),"no-gap"===g.padding){var I=pa(e.barCategoryGap,S*A),O=S*A/2;l=O-I-(O-I)/A*I}}u="xAxis"===a?[r.left+(y.left||0)+(l||0),r.left+r.width-(y.right||0)-(l||0)]:"yAxis"===a?"horizontal"===c?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(l||0),r.top+r.height-(y.bottom||0)-(l||0)]:g.range,w&&(u=[u[1],u[0]]);var T=function(e,t,r){var a=e.scale,o=e.type,i=e.layout,s=e.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===s?{scale:sf(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:rp(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:lf(),realScaleType:"point"}:"category"===o?{scale:sf(),realScaleType:"band"}:{scale:rp(),realScaleType:"linear"};if(sa()(a)){var c="scale".concat(hc()(a));return{scale:(n[c]||lf)(),realScaleType:n[c]?c:"point"}}return Aa()(a)?{scale:a}:{scale:lf(),realScaleType:"point"}}(g,o,f),P=T.scale,k=T.realScaleType;P.domain(x).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-mx,o=Math.max(n[0],n[1])+mx,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}}(P);var D=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&o&&("auto"===o[0]||"auto"===o[1])){var c=e.domain();if(!c.length)return null;var l=qv(c,a,i);return e.domain([mf()(l),hf()(l)]),{niceTicks:l}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Wv(u,a,i)}}return null}(P,Cb(Cb({},g),{},{realScaleType:k}));"xAxis"===a?(m="top"===v&&!j||"bottom"===v&&j,h=r.left,p=d[N]-m*g.height):"yAxis"===a&&(m="left"===v&&!j||"right"===v&&j,h=d[N]-m*g.width,p=r.top);var M=Cb(Cb(Cb({},g),D),{},{realScaleType:k,x:h,y:p,scale:P,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return M.bandSize=_x(M,D),g.hide||"xAxis"!==a?g.hide||(d[N]+=(m?-1:1)*M.width):d[N]+=(m?-1:1)*M.height,Cb(Cb({},i),{},Eb({},s,M))}),{})},Ib=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},Ob=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,r,n;return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&Nb(t.prototype,r),n&&Nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Eb(Ob,"EPS",1e-4);var Tb=function(e){var t=Object.keys(e).reduce((function(t,r){return Cb(Cb({},t),{},Eb({},r,Ob.create(e[r])))}),{});return Cb(Cb({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Yx()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return _a()(e,(function(e,r){return t[r].isInRange(e)}))}})};function Pb(e){return Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(r),!0).forEach((function(t){Rb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fb(e){var t=e.x,r=e.y,n=e.r,a=e.alwaysShow,i=e.clipPathId,s=da(t),c=da(r);if(xa(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!c)return null;var l=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=Tb({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return qx(e,"discard")&&!o.isInRange(i)?null:i}(e);if(!l)return null;var u=l.x,d=l.y,f=e.shape,h=e.className,p=Mb(Mb({clipPath:qx(e,"hidden")?"url(#".concat(i,")"):void 0},Ao(e,!0)),{},{cx:u,cy:d});return o.createElement(Bo,{className:Ln()("recharts-reference-dot",h)},Fb.renderDot(f,p),Dd.renderCallByParent(e,{x:u-n,y:d-n,width:2*n,height:2*n}))}Fb.displayName="ReferenceDot",Fb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},Fb.renderDot=function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):o.createElement(qu,kb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var Lb=r(2426),Bb=r.n(Lb);function Ub(e){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(e)}function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(r),!0).forEach((function(t){Gb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ub(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ub(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ub(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function Yb(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxis,i=e.yAxis,s=e.shape,c=e.className,l=e.alwaysShow,u=e.clipPathId;xa(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=function(e,t,r,n,a){var o=a.viewBox,i=o.x,s=o.y,c=o.width,l=o.height,u=a.position;if(r){var d=a.y,f=a.yAxis.orientation,h=e.y.apply(d,{position:u});if(qx(a,"discard")&&!e.y.isInRange(h))return null;var p=[{x:i+c,y:h},{x:i,y:h}];return"left"===f?p.reverse():p}if(t){var m=a.x,g=a.xAxis.orientation,v=e.x.apply(m,{position:u});if(qx(a,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:s+l},{x:v,y:s}];return"top"===g?x.reverse():x}if(n){var b=a.segment.map((function(t){return e.apply(t,{position:u})}));return qx(a,"discard")&&Bb()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Tb({x:a.scale,y:i.scale}),da(t),da(r),n&&2===n.length,e);if(!d)return null;var f=Hb(d,2),h=f[0],p=h.x,m=h.y,g=f[1],v=g.x,x=g.y,b=Vb(Vb({clipPath:qx(e,"hidden")?"url(#".concat(u,")"):void 0},Ao(e,!0)),{},{x1:p,y1:m,x2:v,y2:x});return o.createElement(Bo,{className:Ln()("recharts-reference-line",c)},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):o.createElement("line",Wb({},t,{className:"recharts-reference-line-line"}))}(s,b),Dd.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return Ib({x:t,y:r},{x:n,y:a})}({x1:p,y1:m,x2:v,y2:x})))}function Xb(e){return Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(e)}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(r),!0).forEach((function(t){Kb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Yb.displayName="ReferenceLine",Yb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Jb(e){var t=e.x1,r=e.x2,n=e.y1,a=e.y2,i=e.className,s=e.alwaysShow,c=e.clipPathId;xa(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=da(t),u=da(r),d=da(n),f=da(a),h=e.shape;if(!(l||u||d||f||h))return null;var p=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=Tb({x:l.scale,y:u.scale}),f={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return!qx(a,"discard")||d.isInRange(f)&&d.isInRange(h)?Ib(f,h):null}(l,u,d,f,e);if(!p&&!h)return null;var m=qx(e,"hidden")?"url(#".concat(c,")"):void 0;return o.createElement(Bo,{className:Ln()("recharts-reference-area",i)},Jb.renderRect(h,Zb(Zb({clipPath:m},Ao(e,!0)),p)),Dd.renderCallByParent(e,p))}function ey(e){return function(e){if(Array.isArray(e))return ty(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Jb.displayName="ReferenceArea",Jb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},Jb.renderRect=function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):Aa()(e)?e(t):o.createElement(nd,$b({},t,{className:"recharts-reference-area-rect"}))};var ry=function(e,t,r,n,a){var o=No(e,Yb),i=No(e,Fb),s=[].concat(ey(o),ey(i)),c=No(e,Jb),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[l]===r&&qx(t.props,"extendDomain")&&ua(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),d)),c.length){var f="".concat(u,"1"),h="".concat(u,"2");d=c.reduce((function(e,t){if(t.props[l]===r&&qx(t.props,"extendDomain")&&ua(t.props[f])&&ua(t.props[h])){var n=t.props[f],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return ua(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},ny=r(228),ay=new(r.n(ny)());ay.setMaxListeners&&ay.setMaxListeners(10);var oy="recharts.syncMouseEvents",iy=["item"],sy=["children","className","width","height","style","compact","title","desc"];function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function ly(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||xy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function dy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ny(n.key),n)}}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hy(e,t)}function py(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gy(e);if(t){var a=gy(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return my(e)}(this,r)}}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(e)}function vy(e){return function(e){if(Array.isArray(e))return by(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xy(e,t){if(e){if("string"==typeof e)return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?by(e,t):void 0}}function by(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(r),!0).forEach((function(t){wy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wy(e,t,r){return(t=Ny(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ny(e){var t=function(e,t){if("object"!==cy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cy(t)?t:String(t)}var _y={xAxis:["bottom","top"],yAxis:["left","right"]},Cy={x:0,y:0},Ey=Number.isFinite?Number.isFinite:isFinite,Sy="function"==typeof requestAnimationFrame?requestAnimationFrame:"function"==typeof setImmediate?setImmediate:setTimeout,Ay="function"==typeof cancelAnimationFrame?cancelAnimationFrame:"function"==typeof clearImmediate?clearImmediate:clearTimeout,Iy=function(e,t,r){var n=t.graphicalItems,a=t.dataStartIndex,o=t.dataEndIndex,i=(n||[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(vy(e),vy(r)):e}),[]);return i&&i.length>0?i:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:e&&e.length&&ua(a)&&ua(o)?e.slice(a,o+1):[]};function Oy(e){return"number"===e?[0,"auto"]:void 0}var Ty=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=Iy(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce((function(e,t){if(t.props.hide)return e;var a,s=t.props.data;o.dataKey&&!o.allowDuplicatedCategory?a=va(void 0===s?i:s,o.dataKey,n):a=s&&s[r]||i[r];return a?[].concat(vy(e),[Ex(t,a)]):e}),[])},Py=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(ca(u-l)!==ca(d-u)){var h=[];if(ca(d-u)===ca(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+l)/2),h[1]=Math.max(p,(p+l)/2)}else{f=l;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){o=n[c].index;break}}else{var v=Math.min(l,d),x=Math.max(l,d);if(e>(v+u)/2&&e<=(x+u)/2){o=n[c].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o}(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=Ty(e,t,l,u),f=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var o=a.coordinate,i=n.radius;return jy(jy(jy({},n),Cu(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return jy(jy(jy({},n),Cu(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return Cy}(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},ky=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,f=dx(l,a),h=r.reduce((function(t,r){var h,p=r.props,m=p.type,g=p.dataKey,v=p.allowDataOverflow,x=p.allowDuplicatedCategory,b=p.scale,y=p.ticks,j=p.includeHidden,w=r.props[o];if(t[w])return t;var N,_,C,E=Iy(e.data,{graphicalItems:n.filter((function(e){return e.props[o]===w})),dataStartIndex:s,dataEndIndex:c}),S=E.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&ua(n)&&ua(a))return!0}return!1})(r.props.domain,v,m)&&(N=Nx(r.props.domain,null,v),!f||"number"!==m&&"auto"===b||(C=ix(E,g,"category")));var A=Oy(m);if(!N||0===N.length){var I,O=null!==(I=r.props.domain)&&void 0!==I?I:A;if(g){if(N=ix(E,g,m),"category"===m&&f){var T=function(e){if(!ta()(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);x&&T?(_=N,N=Pa()(0,S)):x||(N=Cx(O,N,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(vy(e),[t])}),[]))}else if("category"===m)N=x?N.filter((function(e){return""!==e&&!Da()(e)})):Cx(O,N,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Da()(t)?e:[].concat(vy(e),[t])}),[]);else if("number"===m){var P=function(e,t,r,n,a){var o=t.map((function(t){return lx(e,t,r,a,n)})).filter((function(e){return!Da()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(E,n.filter((function(e){return e.props[o]===w&&(j||!e.props.hide)})),g,a,l);P&&(N=P)}!f||"number"!==m&&"auto"===b||(C=ix(E,g,"category"))}else N=f?Pa()(0,S):i&&i[w]&&i[w].hasStack&&"number"===m?"expand"===d?[0,1]:yx(i[w].stackGroups,s,c):ux(E,n.filter((function(e){return e.props[o]===w&&(j||!e.props.hide)})),m,l,!0);if("number"===m)N=ry(u,N,w,a,y),O&&(N=Nx(O,N,v));else if("category"===m&&O){var k=O;N.every((function(e){return k.indexOf(e)>=0}))&&(N=k)}}return jy(jy({},t),{},wy({},w,jy(jy({},r.props),{},{axisType:a,domain:N,categoricalDomain:C,duplicateDomain:_,originalDomain:null!==(h=r.props.domain)&&void 0!==h?h:A,isCategorical:f,layout:l})))}),{});return h},Dy=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=No(l,a),f={};return d&&d.length?f=ky(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=Iy(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),f=d.length,h=dx(l,a),p=-1;return r.reduce((function(e,t){var m,g=t.props[o],v=Oy("number");return e[g]?e:(p++,h?m=Pa()(0,f):i&&i[g]&&i[g].hasStack?(m=yx(i[g].stackGroups,s,c),m=ry(u,m,g,a)):(m=Nx(v,ux(d,r.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",l),n.defaultProps.allowDataOverflow),m=ry(u,m,g,a)),jy(jy({},e),{},wy({},g,jy(jy({axisType:a},n.defaultProps),{},{hide:!0,orientation:Jn()(_y,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:v,isCategorical:h,layout:l}))))}),{})}(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),f},My=function(e){var t,r,n=e.children,a=e.defaultShowTooltip,o=_o(n,Hx);return{chartX:0,chartY:0,dataStartIndex:o&&o.props&&o.props.startIndex||0,dataEndIndex:void 0!==(null==o||null===(t=o.props)||void 0===t?void 0:t.endIndex)?null==o||null===(r=o.props)||void 0===r?void 0:r.endIndex:e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!Da()(a)&&a}},Ry=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fy=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,o=e.yAxisMap,i=void 0===o?{}:o,s=r.width,c=r.height,l=r.children,u=r.margin||{},d=_o(l,Hx),f=_o(l,El),h=Object.keys(i).reduce((function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:jy(jy({},e),{},wy({},n,e[n]+r.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:jy(jy({},e),{},wy({},n,Jn()(e,"".concat(n))+r.height))}),{top:u.top||0,bottom:u.bottom||0}),m=jy(jy({},p),h),g=m.bottom;return d&&(m.bottom+=d.props.height||Hx.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=cx({children:a,legendWidth:s}),l=e;if(c){var u=n||{},d=c.align,f=c.verticalAlign,h=c.layout;("vertical"===h||"horizontal"===h&&"middle"===f)&&ua(e[d])&&(l=nx(nx({},e),{},ax({},d,l[d]+(u.width||0)))),("horizontal"===h||"vertical"===h&&"center"===d)&&ua(e[f])&&(l=nx(nx({},e),{},ax({},f,l[f]+(u.height||0))))}return l}(m,0,r,t)),jy(jy({brushBottom:g},m),{},{width:s-m.left-m.right,height:c-m.top-m.bottom})},Ly=function(e){var t,r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,s=e.validateTooltipEventTypes,c=void 0===s?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,o=t.updateId,i=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=Ry(u),m=p.numericAxisName,g=p.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=bo(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),x=v&&function(e){var t=e.barSize,r=e.stackGroups,n=void 0===r?{}:r;if(!n)return{};for(var a={},o=Object.keys(n),i=0,s=o.length;i<s;i++)for(var c=n[o[i]].stackGroups,l=Object.keys(c),u=0,d=l.length;u<d;u++){var f=c[l[u]],h=f.items,p=f.cateAxisId,m=h.filter((function(e){return bo(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,v=m[0].props[p];a[v]||(a[v]=[]),a[v].push({item:m[0],stackList:m.slice(1),barSize:Da()(g)?t:g})}}return a}({barSize:c,stackGroups:n}),b=[];return r.forEach((function(r,c){var p=Iy(e.data,{dataStartIndex:i,dataEndIndex:s},r),v=r.props,y=v.dataKey,j=v.maxBarSize,w=r.props["".concat(m,"Id")],N=r.props["".concat(g,"Id")],_=l.reduce((function(e,n){var a,o=t["".concat(n.axisType,"Map")],i=r.props["".concat(n.axisType,"Id")],s=o&&o[i];return jy(jy({},e),{},(wy(a={},n.axisType,s),wy(a,"".concat(n.axisType,"Ticks"),hx(s)),a))}),{}),C=_[g],E=_["".concat(g,"Ticks")],S=n&&n[w]&&n[w].hasStack&&function(e,t){var r=e.props.stackId;if(da(r)){var n=t[r];if(n&&n.items.length){for(var a=-1,o=0,i=n.items.length;o<i;o++)if(n.items[o]===e){a=o;break}return a>=0?n.stackedData[a]:null}}return null}(r,n[w].stackGroups),A=bo(r.type).indexOf("Bar")>=0,I=_x(C,E),O=[];if(A){var T,P,k=Da()(j)?h:j,D=null!==(T=null!==(P=_x(C,E,!0))&&void 0!==P?P:k)&&void 0!==T?T:0;O=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=void 0===a?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c,l=pa(t,n,0,!0);if(o[0].barSize===+o[0].barSize){var u=!1,d=n/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*l)>=n&&(f-=(s-1)*l,l=0),f>=n&&d>0&&(u=!0,f=s*(d*=.9));var h={offset:((n-f)/2|0)-l,size:0};c=o.reduce((function(e,t){var r=[].concat(ex(e),[{item:t.item,position:{offset:h.offset+h.size+l,size:u?d:t.barSize}}]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),[])}else{var p=pa(r,n,0,!0);n-2*p-(s-1)*l<=0&&(l=0);var m=(n-2*p-(s-1)*l)/s;m>1&&(m>>=0);var g=i===+i?Math.min(m,i):m;c=o.reduce((function(e,t,r){var n=[].concat(ex(e),[{item:t.item,position:{offset:p+(m+l)*r+(m-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),[])}return c}({barGap:d,barCategoryGap:f,bandSize:D!==I?D:I,sizeList:x[N],maxBarSize:k}),D!==I&&(O=O.map((function(e){return jy(jy({},e),{},{position:jy(jy({},e.position),{},{offset:e.position.offset-D/2})})})))}var M,R,F,L=r&&r.type&&r.type.getComposedData;L&&b.push({props:jy(jy({},L(jy(jy({},_),{},{displayedData:p,props:e,dataKey:y,item:r,bandSize:I,barPosition:O,offset:a,stackedData:S,layout:u,dataStartIndex:i,dataEndIndex:s}))),{},(M={key:r.key||"item-".concat(c)},wy(M,m,_[m]),wy(M,g,_[g]),wy(M,"animationId",o),M)),childIndex:(R=r,F=e.children,wo(F).indexOf(R)),item:r})})),b},p=function(e,t){var a=e.props,o=e.dataStartIndex,i=e.dataEndIndex,s=e.updateId;if(!Co({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=Ry(u),v=g.numericAxisName,x=g.cateAxisName,b=No(c,n),y=function(e,t,r,n,a,o){if(!e)return null;var i=(o?t.reverse():t).reduce((function(e,t){var a=t.props,o=a.stackId;if(a.hide)return e;var i=t.props[r],s=e[i]||{hasStack:!1,stackGroups:{}};if(da(o)){var c=s.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[o]=c}else s.stackGroups[ha("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return nx(nx({},e),{},ax({},i,s))}),{});return Object.keys(i).reduce((function(t,o){var s=i[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var i=s.stackGroups[o];return nx(nx({},t),{},ax({},o,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:vx(e,i.items,a)}))}),{})),nx(nx({},t),{},ax({},o,s))}),{})}(p,b,"".concat(v,"Id"),"".concat(x,"Id"),f,m),j=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return jy(jy({},e),{},wy({},r,Dy(a,jy(jy({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&y,dataStartIndex:o,dataEndIndex:i}))))}),{}),w=Fy(jy(jy({},j),{},{props:a,graphicalItems:b}),null==t?void 0:t.legendBBox);Object.keys(j).forEach((function(e){j[e]=d(a,j[e],w,e.replace("Map",""),r)}));var N,_,C=j["".concat(x,"Map")],E=(N=ma(C),{tooltipTicks:_=hx(N,!1,!0),orderedTooltipTicks:Oa()(_,(function(e){return e.coordinate})),tooltipAxis:N,tooltipAxisBandSize:_x(N,_)}),S=h(a,jy(jy({},j),{},{dataStartIndex:o,dataEndIndex:i,updateId:s,graphicalItems:b,stackGroups:y,offset:w}));return jy(jy({formattedGraphicalItems:S,graphicalItems:b,offset:w,stackGroups:y},E),j)};return t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}(l,e);var t,n,a,s=py(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),wy(my(t=s.call(this,e)),"clearDeferId",(function(){!Da()(t.deferId)&&Ay&&Ay(t.deferId),t.deferId=null})),wy(my(t),"handleLegendBBoxUpdate",(function(e){if(e){var r=t.state,n=r.dataStartIndex,a=r.dataEndIndex,o=r.updateId;t.setState(jy({legendBBox:e},p({props:t.props,dataStartIndex:n,dataEndIndex:a,updateId:o},jy(jy({},t.state),{},{legendBBox:e}))))}})),wy(my(t),"handleReceiveSyncEvent",(function(e,r,n){t.props.syncId===e&&r!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=Sy&&Sy(t.applySyncEvent.bind(my(t),n)))})),wy(my(t),"handleBrushChange",(function(e){var r=e.startIndex,n=e.endIndex;if(r!==t.state.dataStartIndex||n!==t.state.dataEndIndex){var a=t.state.updateId;t.setState((function(){return jy({dataStartIndex:r,dataEndIndex:n},p({props:t.props,dataStartIndex:r,dataEndIndex:n,updateId:a},t.state))})),t.triggerSyncEvent({dataStartIndex:r,dataEndIndex:n})}})),wy(my(t),"handleMouseEnter",(function(e){var r=t.props.onMouseEnter,n=t.getMouseInfo(e);if(n){var a=jy(jy({},n),{},{isTooltipActive:!0});t.setState(a),t.triggerSyncEvent(a),Aa()(r)&&r(a,e)}})),wy(my(t),"triggeredAfterMouseMove",(function(e){var r=t.props.onMouseMove,n=t.getMouseInfo(e),a=n?jy(jy({},n),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(a),t.triggerSyncEvent(a),Aa()(r)&&r(a,e)})),wy(my(t),"handleItemMouseEnter",(function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),wy(my(t),"handleItemMouseLeave",(function(){t.setState((function(){return{isTooltipActive:!1}}))})),wy(my(t),"handleMouseMove",(function(e){e&&Aa()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)})),wy(my(t),"handleMouseLeave",(function(e){var r=t.props.onMouseLeave,n={isTooltipActive:!1};t.setState(n),t.triggerSyncEvent(n),Aa()(r)&&r(n,e),t.cancelThrottledTriggerAfterMouseMove()})),wy(my(t),"handleOuterEvent",(function(e){var r=function(e){var t=e&&e.type;return t&&xo[t]?xo[t]:null}(e),n=Jn()(t.props,"".concat(r));r&&Aa()(n)&&n(/.*touch.*/i.test(r)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)})),wy(my(t),"handleClick",(function(e){var r=t.props.onClick,n=t.getMouseInfo(e);if(n){var a=jy(jy({},n),{},{isTooltipActive:!0});t.setState(a),t.triggerSyncEvent(a),Aa()(r)&&r(a,e)}})),wy(my(t),"handleMouseDown",(function(e){var r=t.props.onMouseDown;Aa()(r)&&r(t.getMouseInfo(e),e)})),wy(my(t),"handleMouseUp",(function(e){var r=t.props.onMouseUp;Aa()(r)&&r(t.getMouseInfo(e),e)})),wy(my(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])})),wy(my(t),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])})),wy(my(t),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])})),wy(my(t),"verticalCoordinatesGenerator",(function(e){var t=e.xAxis,r=e.width,n=e.height,a=e.offset;return fx(ro(jy(jy(jy({},Qd.defaultProps),t),{},{ticks:hx(t,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.left,a.left+a.width)})),wy(my(t),"horizontalCoordinatesGenerator",(function(e){var t=e.yAxis,r=e.width,n=e.height,a=e.offset;return fx(ro(jy(jy(jy({},Qd.defaultProps),t),{},{ticks:hx(t,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.top,a.top+a.height)})),wy(my(t),"axesTicksGenerator",(function(e){return hx(e,!0)})),wy(my(t),"renderCursor",(function(e){var n=t.state,a=n.isTooltipActive,i=n.activeCoordinate,s=n.activePayload,c=n.offset,l=n.activeTooltipIndex,u=t.getTooltipEventType();if(!e||!e.props.cursor||!a||!i||"ScatterChart"!==r&&"axis"!==u)return null;var d,f=t.props.layout,h=uu;if("ScatterChart"===r)d=i,h=xu;else if("BarChart"===r)d=t.getCursorRectangle(),h=nd;else if("radial"===f){var p=t.getCursorPoints(),m=p.cx,g=p.cy,v=p.radius;d={cx:m,cy:g,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:v,outerRadius:v},h=Lu}else d={points:t.getCursorPoints()},h=uu;var x=e.key||"_recharts-cursor",b=jy(jy(jy(jy({stroke:"#ccc",pointerEvents:"none"},c),d),Ao(e.props.cursor)),{},{payload:s,payloadIndex:l,key:x,className:"recharts-tooltip-cursor"});return(0,o.isValidElement)(e.props.cursor)?(0,o.cloneElement)(e.props.cursor,b):(0,o.createElement)(h,b)})),wy(my(t),"renderPolarAxis",(function(e,r,n){var a=Jn()(e,"type.axisType"),i=Jn()(t.state,"".concat(a,"Map")),s=i&&i[e.props["".concat(a,"Id")]];return(0,o.cloneElement)(e,jy(jy({},s),{},{className:a,key:e.key||"".concat(r,"-").concat(n),ticks:hx(s,!0)}))})),wy(my(t),"renderXAxis",(function(e,r,n){var a=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(a,e,r,n)})),wy(my(t),"renderYAxis",(function(e,r,n){var a=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(a,e,r,n)})),wy(my(t),"renderGrid",(function(e){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.props,c=s.width,l=s.height,u=ma(n),d=Ea()(a,(function(e){return _a()(e.domain,Ey)}))||ma(a),f=e.props||{};return(0,o.cloneElement)(e,{key:e.key||"grid",x:ua(f.x)?f.x:i.left,y:ua(f.y)?f.y:i.top,width:ua(f.width)?f.width:i.width,height:ua(f.height)?f.height:i.height,xAxis:u,yAxis:d,offset:i,chartWidth:c,chartHeight:l,verticalCoordinatesGenerator:f.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:f.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})})),wy(my(t),"renderPolarGrid",(function(e){var r=e.props,n=r.radialLines,a=r.polarAngles,i=r.polarRadius,s=t.state,c=s.radiusAxisMap,l=s.angleAxisMap,u=ma(c),d=ma(l),f=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,o.cloneElement)(e,{polarAngles:ta()(a)?a:hx(d,!0).map((function(e){return e.coordinate})),polarRadius:ta()(i)?i:hx(u,!0).map((function(e){return e.coordinate})),cx:f,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),wy(my(t),"renderLegend",(function(){var e=t.state.formattedGraphicalItems,r=t.props,n=r.children,a=r.width,i=r.height,s=t.props.margin||{},c=a-(s.left||0)-(s.right||0),l=cx({children:n,formattedGraphicalItems:e,legendWidth:c,legendContent:u});if(!l)return null;var d=l.item,f=dy(l,iy);return(0,o.cloneElement)(d,jy(jy({},f),{},{chartWidth:a,chartHeight:i,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))})),wy(my(t),"renderTooltip",(function(){var e=_o(t.props.children,dc);if(!e)return null;var r=t.state,n=r.isTooltipActive,a=r.activeCoordinate,i=r.activePayload,s=r.activeLabel,c=r.offset;return(0,o.cloneElement)(e,{viewBox:jy(jy({},c),{},{x:c.left,y:c.top}),active:n,label:s,payload:n?i:[],coordinate:a})})),wy(my(t),"renderBrush",(function(e){var r=t.props,n=r.margin,a=r.data,i=t.state,s=i.offset,c=i.dataStartIndex,l=i.dataEndIndex,u=i.updateId;return(0,o.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:px(t.handleBrushChange,null,e.props.onChange),data:a,x:ua(e.props.x)?e.props.x:s.left,y:ua(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:ua(e.props.width)?e.props.width:s.width,startIndex:c,endIndex:l,updateId:"brush-".concat(u)})})),wy(my(t),"renderReferenceElement",(function(e,r,n){if(!e)return null;var a=my(t).clipPathId,i=t.state,s=i.xAxisMap,c=i.yAxisMap,l=i.offset,u=e.props,d=u.xAxisId,f=u.yAxisId;return(0,o.cloneElement)(e,{key:e.key||"".concat(r,"-").concat(n),xAxis:s[d],yAxis:c[f],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:a})})),wy(my(t),"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,n=e.basePoint,a=e.childIndex,o=e.isRange,i=[],s=t.props.key,c=t.item.props,u=c.activeDot,d=jy(jy({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:sx(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(s,"-activePoint-").concat(a)},Ao(u)),ho(u));return i.push(l.renderActiveDot(u,d)),n?i.push(l.renderActiveDot(u,jy(jy({},d),{},{cx:n.x,cy:n.y,key:"".concat(s,"-basePoint-").concat(a)}))):o&&i.push(null),i})),wy(my(t),"renderGraphicChild",(function(e,r,n){var a=t.filterFormatItem(e,r,n);if(!a)return null;var i=t.getTooltipEventType(),s=t.state,c=s.isTooltipActive,l=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=_o(t.props.children,dc),h=a.props,p=h.points,m=h.isRange,g=h.baseLine,v=a.item.props,x=v.activeDot,b=!v.hide&&c&&f&&x&&u>=0,y={};"axis"!==i&&f&&"click"===f.props.trigger?y={onClick:px(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==i&&(y={onMouseLeave:px(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:px(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var j=(0,o.cloneElement)(e,jy(jy({},a.props),y));if(b){var w,N;if(l.dataKey&&!l.allowDuplicatedCategory){var _="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());w=va(p,_,d),N=m&&g&&va(g,_,d)}else w=p[u],N=m&&g&&g[u];if(!Da()(w))return[j].concat(vy(t.renderActivePoints({item:a,activePoint:w,basePoint:N,childIndex:u,isRange:m})))}return m?[j,null,null]:[j,null]})),wy(my(t),"renderCustomized",(function(e,r,n){return(0,o.cloneElement)(e,jy(jy({key:"recharts-customized-".concat(n)},t.props),t.state))})),t.uniqueChartId=Da()(e.id)?ha("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=Vn()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=l,n=[{key:"componentDidMount",value:function(){Da()(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(e){Da()(e.syncId)&&!Da()(this.props.syncId)&&this.addListener(),!Da()(e.syncId)&&Da()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),Da()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"==typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=_o(this.props.children,dc);if(e&&Ra()(e.props.shared)){var t=e.props.shared?"axis":"item";return c.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r,n,a=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,(t=this.container,r=t.ownerDocument.documentElement,n={top:0,left:0},void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft})),o=this.inRange(a.chartX,a.chartY);if(!o)return null;var i=this.state,s=i.xAxisMap,c=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&s&&c){var l=ma(s).scale,u=ma(c).scale,d=l&&l.invert?l.invert(a.chartX):null,f=u&&u.invert?u.invert(a.chartY):null;return jy(jy({},a),{},{xValue:d,yValue:f})}var h=Py(this.state,this.props.data,this.props.layout,o);return h?jy(jy({},a),h):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,r=t.activeCoordinate,n=t.offset,a=t.tooltipAxisBandSize,o=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?r.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:r.y-o,width:"horizontal"===e?a:n.width-1,height:"horizontal"===e?n.height-1:a}}},{key:"getCursorPoints",value:function(){var e,t,r,n,a=this.props.layout,o=this.state,i=o.activeCoordinate,s=o.offset;if("horizontal"===a)r=e=i.x,t=s.top,n=s.top+s.height;else if("vertical"===a)n=t=i.y,e=s.left,r=s.left+s.width;else if(!Da()(i.cx)||!Da()(i.cy)){if("centric"!==a){var c=i.cx,l=i.cy,u=i.radius,d=i.startAngle,f=i.endAngle;return{points:[Cu(c,l,u,d),Cu(c,l,u,f)],cx:c,cy:l,radius:u,startAngle:d,endAngle:f}}var h=i.cx,p=i.cy,m=i.innerRadius,g=i.outerRadius,v=i.angle,x=Cu(h,p,m,v),b=Cu(h,p,g,v);e=x.x,t=x.y,r=b.x,n=b.y}return[{x:e,y:t},{x:r,y:n}]}},{key:"inRange",value:function(e,t){var r=this.props.layout;if("horizontal"===r||"vertical"===r){var n=this.state.offset;return e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height?{x:e,y:t}:null}var a=this.state,o=a.angleAxisMap,i=a.radiusAxisMap;if(o&&i){var s=ma(o);return Au({x:e,y:t},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=_o(e,dc),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),jy(jy({},ho(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){ay.on(oy,this.handleReceiveSyncEvent),ay.setMaxListeners&&ay._maxListeners&&ay.setMaxListeners(ay._maxListeners+1)}},{key:"removeListener",value:function(){ay.removeListener(oy,this.handleReceiveSyncEvent),ay.setMaxListeners&&ay._maxListeners&&ay.setMaxListeners(ay._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;Da()(t)||ay.emit(oy,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,r=t.layout,n=t.syncMethod,a=this.state.updateId,o=e.dataStartIndex,i=e.dataEndIndex;if(Da()(e.dataStartIndex)&&Da()(e.dataEndIndex))if(Da()(e.activeTooltipIndex))this.setState(e);else{var s=e.chartX,c=e.chartY,l=e.activeTooltipIndex,u=this.state,d=u.offset,f=u.tooltipTicks;if(!d)return;if("function"==typeof n)l=n(f,e);else if("value"===n){l=-1;for(var h=0;h<f.length;h++)if(f[h].value===e.activeLabel){l=h;break}}var m=jy(jy({},d),{},{x:d.left,y:d.top}),g=Math.min(s,m.x+m.width),v=Math.min(c,m.y+m.height),x=f[l]&&f[l].value,b=Ty(this.state,this.props.data,l),y=f[l]?{x:"horizontal"===r?f[l].coordinate:g,y:"horizontal"===r?v:f[l].coordinate}:Cy;this.setState(jy(jy({},e),{},{activeLabel:x,activeCoordinate:y,activePayload:b,activeTooltipIndex:l}))}else this.setState(jy({dataStartIndex:o,dataEndIndex:i},p({props:this.props,dataStartIndex:o,dataEndIndex:i,updateId:a},this.state)))}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,o=n.length;a<o;a++){var i=n[a];if(i.item===e||i.props.key===e.key||t===bo(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderAxis",value:function(e,t,r,n){var a=this.props,i=a.width,s=a.height;return o.createElement(Qd,uy({},e,{className:"recharts-".concat(e.axisType," ").concat(e.axisType),key:t.key||"".concat(r,"-").concat(n),viewBox:{x:0,y:0,width:i,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return o.createElement("defs",null,o.createElement("clipPath",{id:e},o.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=ly(t,2),n=r[0],a=r[1];return jy(jy({},e),{},wy({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=ly(t,2),n=r[0],a=r[1];return jy(jy({},e),{},wy({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,r;return null===(t=this.state.xAxisMap)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.scale}},{key:"getYScaleByAxisId",value:function(e){var t,r;return null===(t=this.state.yAxisMap)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var r=0,n=t.length;r<n;r++){var a=t[r],o=a.props,i=a.item,s=bo(i.type);if("Bar"===s){var c=(o.data||[]).find((function(t){return rd(e,t)}));if(c)return{graphicalItem:a,payload:c}}else if("RadialBar"===s){var l=(o.data||[]).find((function(t){return Au(e,t)}));if(l)return{graphicalItem:a,payload:l}}}return null}},{key:"render",value:function(){var e=this;if(!Co(this))return null;var t=this.props,r=t.children,n=t.className,a=t.width,i=t.height,s=t.style,c=t.compact,l=t.title,u=t.desc,d=dy(t,sy),f=Ao(d),h={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(c)return o.createElement(Mo,uy({},f,{width:a,height:i,title:l,desc:u}),this.renderClipPath(),To(r,h));var p=this.parseEventsOfWrapper();return o.createElement("div",uy({className:Ln()("recharts-wrapper",n),style:jy({position:"relative",cursor:"default",width:a,height:i},s)},p,{ref:function(t){e.container=t},role:"region"}),o.createElement(Mo,uy({},f,{width:a,height:i,title:l,desc:u}),this.renderClipPath(),To(r,h)),this.renderLegend(),this.renderTooltip())}}],n&&fy(t.prototype,n),a&&fy(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Component),wy(t,"displayName",r),wy(t,"defaultProps",jy({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),wy(t,"getDerivedStateFromProps",(function(e,t){var r=e.data,n=e.children,a=e.width,o=e.height,i=e.layout,s=e.stackOffset,c=e.margin;if(Da()(t.updateId)){var l=My(e);return jy(jy(jy({},l),{},{updateId:0},p(jy(jy({props:e},l),{},{updateId:0}),t)),{},{prevData:r,prevWidth:a,prevHeight:o,prevLayout:i,prevStackOffset:s,prevMargin:c,prevChildren:n})}if(r!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||s!==t.prevStackOffset||!io(c,t.prevMargin)){var u=My(e),d={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},f=jy(jy({},Py(t,r,i)),{},{updateId:t.updateId+1}),h=jy(jy(jy({},u),d),f);return jy(jy(jy({},h),p(jy({props:e},h),t)),{},{prevData:r,prevWidth:a,prevHeight:o,prevLayout:i,prevStackOffset:s,prevMargin:c,prevChildren:n})}if(!Io(n,t.prevChildren)){var m=!Da()(r)?t.updateId:t.updateId+1;return jy(jy({updateId:m},p(jy(jy({props:e},t),{},{updateId:m}),t)),{},{prevChildren:n})}return null})),wy(t,"renderActiveDot",(function(e,t){var r;return r=(0,o.isValidElement)(e)?(0,o.cloneElement)(e,t):Aa()(e)?e(t):o.createElement(qu,t),o.createElement(Bo,{className:"recharts-active-dot",key:t.key},r)})),t},By=["type","layout","connectNulls","ref"];function Uy(e){return Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(e)}function zy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(this,arguments)}function Gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gy(Object(r),!0).forEach((function(t){Ky(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qy(e){return function(e){if(Array.isArray(e))return Wy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jy(n.key),n)}}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zy(e);if(t){var a=Zy(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Uy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qy(e)}(this,r)}}function Qy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zy(e)}function Ky(e,t,r){return(t=Jy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jy(e){var t=function(e,t){if("object"!==Uy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Uy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uy(t)?t:String(t)}var ej=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(i,e);var t,r,n,a=$y(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ky(Qy(e=a.call.apply(a,[this].concat(r))),"state",{isAnimationFinished:!0,totalLength:0}),Ky(Qy(e),"getStrokeDasharray",(function(e,t,r){for(var n=r.reduce((function(e,t){return e+t})),a=Math.floor(e/n),o=e%n,s=t-e,c=[],l=0,u=0;;u+=r[l],++l)if(u+r[l]>o){c=[].concat(qy(r.slice(0,l)),[o-u]);break}var d=c.length%2==0?[0,s]:[s];return[].concat(qy(i.repeat(r,a)),qy(c),d).map((function(e){return"".concat(e,"px")})).join(", ")})),Ky(Qy(e),"id",ha("recharts-line-")),Ky(Qy(e),"pathRef",(function(t){e.mainCurve=t})),Ky(Qy(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Ky(Qy(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(qy(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(qy(n),qy(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(Aa()(e))r=e(t);else{var n=Ln()("recharts-line-dot",e?e.className:"");r=o.createElement(qu,Vy({},t,{className:n}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,s=r.layout,c=No(r.children,Kv);if(!c)return null;function l(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:ox(e.payload,t)}}var u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Bo,u,c.map((function(e,t){return o.cloneElement(e,{key:"bar-".concat(t),data:n,xAxis:a,yAxis:i,layout:s,dataPointFormatter:l})})))}},{key:"renderDots",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.dot,a=r.points,s=r.dataKey,c=Ao(this.props),l=Ao(n,!0),u=a.map((function(e,t){var r=Hy(Hy(Hy({key:"dot-".concat(t),r:3},c),l),{},{value:e.value,dataKey:s,cx:e.x,cy:e.y,index:t,payload:e.payload});return i.renderDotItem(n,r)})),d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Bo,Vy({className:"recharts-line-dots",key:"dots"},d,{role:"img"}),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,s=a.layout,c=a.connectNulls,l=(a.ref,zy(a,By)),u=Hy(Hy(Hy({},Ao(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:s,connectNulls:c});return o.createElement(uu,Vy({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,s=n.isAnimationActive,c=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=n.animateNewValues,h=n.width,p=n.height,m=this.state,g=m.prevPoints,v=m.totalLength;return o.createElement(Bs,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var o=n.t;if(g){var s=g.length/a.length,c=a.map((function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],a=ga(n.x,e.x),i=ga(n.y,e.y);return Hy(Hy({},e),{},{x:a(o),y:i(o)})}if(f){var c=ga(2*h,e.x),l=ga(p/2,e.y);return Hy(Hy({},e),{},{x:c(o),y:l(o)})}return Hy(Hy({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(c,e,t)}var l,u=ga(0,v)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));l=r.getStrokeDasharray(u,v,d)}else l="".concat(u,"px ").concat(v-u,"px");return r.renderCurveStatically(a,e,t,{strokeDasharray:l})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,o=this.state,i=o.prevPoints,s=o.totalLength;return a&&n&&n.length&&(!i&&s>0||!df()(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.dot,n=e.points,a=e.className,i=e.xAxis,s=e.yAxis,c=e.top,l=e.left,u=e.width,d=e.height,f=e.isAnimationActive,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=1===n.length,g=Ln()("recharts-line",a),v=i&&i.allowDataOverflow||s&&s.allowDataOverflow,x=Da()(h)?this.id:h;return o.createElement(Bo,{className:g},v?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(x)},o.createElement("rect",{x:l,y:c,width:u,height:d}))):null,!m&&this.renderCurve(v,x),this.renderErrorBar(v,x),(m||r)&&this.renderDots(v,x),(!f||p)&&sb.renderCallByParent(this.props,n))}}])&&Yy(t.prototype,r),n&&Yy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);Ky(ej,"displayName","Line"),Ky(ej,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Ky(ej,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,u=t.layout,d=c.map((function(e,t){var c=ox(e,i);return"horizontal"===u?{x:xx({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:Da()(c)?null:n.scale(c),value:c,payload:e}:{x:Da()(c)?null:r.scale(c),y:xx({axis:n,ticks:o,bandSize:s,entry:e,index:t}),value:c,payload:e}}));return Hy({points:d,layout:u},l)}));var tj=function(){return null};tj.displayName="XAxis",tj.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var rj=function(){return null};rj.displayName="YAxis",rj.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var nj=Ly({chartName:"LineChart",GraphicalChild:ej,axisComponents:[{axisType:"xAxis",AxisComp:tj},{axisType:"yAxis",AxisComp:rj}],formatAxisMap:Ab}),aj=["x1","y1","x2","y2","key"];function oj(e){return oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oj(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(this,arguments)}function sj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(r),!0).forEach((function(t){pj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mj(n.key),n)}}function dj(e,t){return dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dj(e,t)}function fj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hj(e);if(t){var a=hj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===oj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function hj(e){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hj(e)}function pj(e,t,r){return(t=mj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mj(e){var t=function(e,t){if("object"!==oj(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oj(t)?t:String(t)}var gj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}(i,e);var t,r,n,a=fj(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderHorizontal",value:function(e){var t=this,r=this.props,n=r.x,a=r.width,s=r.horizontal;if(!e||!e.length)return null;var c=e.map((function(e,r){var o=lj(lj({},t.props),{},{x1:n,y1:e,x2:n+a,y2:e,key:"line-".concat(r),index:r});return i.renderLineItem(s,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}},{key:"renderVertical",value:function(e){var t=this,r=this.props,n=r.y,a=r.height,s=r.vertical;if(!e||!e.length)return null;var c=e.map((function(e,r){var o=lj(lj({},t.props),{},{x1:e,y1:n,x2:e,y2:n+a,key:"line-".concat(r),index:r});return i.renderLineItem(s,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}},{key:"renderVerticalStripes",value:function(e){var t=this.props.verticalFill;if(!t||!t.length)return null;var r=this.props,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=e.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==l[0]&&l.unshift(0);var u=l.map((function(e,r){var u=l[r+1]?l[r+1]-e:a+s-e;if(u<=0)return null;var d=r%t.length;return o.createElement("rect",{key:"react-".concat(r),x:e,y:i,width:u,height:c,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}},{key:"renderHorizontalStripes",value:function(e){var t=this.props.horizontalFill;if(!t||!t.length)return null;var r=this.props,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=e.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==l[0]&&l.unshift(0);var u=l.map((function(e,r){var u=l[r+1]?l[r+1]-e:i+c-e;if(u<=0)return null;var d=r%t.length;return o.createElement("rect",{key:"react-".concat(r),y:e,x:a,height:u,width:s,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}},{key:"renderBackground",value:function(){var e=this.props.fill;if(!e||"none"===e)return null;var t=this.props,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height;return o.createElement("rect",{x:n,y:a,width:i,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.horizontal,s=e.vertical,c=e.horizontalCoordinatesGenerator,l=e.verticalCoordinatesGenerator,u=e.xAxis,d=e.yAxis,f=e.offset,h=e.chartWidth,p=e.chartHeight;if(!ua(n)||n<=0||!ua(a)||a<=0||!ua(t)||t!==+t||!ua(r)||r!==+r)return null;var m=this.props,g=m.horizontalPoints,v=m.verticalPoints;return g&&g.length||!Aa()(c)||(g=c({yAxis:d,width:h,height:p,offset:f})),v&&v.length||!Aa()(l)||(v=l({xAxis:u,width:h,height:p,offset:f})),o.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),i&&this.renderHorizontal(g),s&&this.renderVertical(v),i&&this.renderHorizontalStripes(g),s&&this.renderVerticalStripes(v))}}],n=[{key:"renderLineItem",value:function(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(Aa()(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,c=t.key,l=sj(t,aj);r=o.createElement("line",ij({},Ao(l),{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}}],r&&uj(t.prototype,r),n&&uj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);pj(gj,"displayName","CartesianGrid"),pj(gj,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var vj=Ly({chartName:"BarChart",GraphicalChild:jb,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tj},{axisType:"yAxis",AxisComp:rj}],formatAxisMap:Ab});function xj(e){return xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xj(e)}function bj(){bj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==xj(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(xj(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function yj(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function jj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wj(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Nj(e){var t=e.ventasData,r=e.getVentasClick,n=e.setfechaventas,a=e.fechaventas,i=e.moneda,s=e.onClickEditPedido,c=e.getVentas,l=jj((0,o.useState)(!1),2),u=l[0],d=l[1],f=jj((0,o.useState)("line"),2),h=f[0],p=f[1];(0,o.useEffect)((function(){c()}),[a]);var m=[],g=[];try{null!=t&&t.grafica&&Array.isArray(t.grafica)&&(m=t.grafica.map((function(e){return{hora:e.hora||"",monto:parseFloat(e.monto)||0}}))),null!=t&&t.ventas&&Array.isArray(t.ventas)&&(g=t.ventas.map((function(e){return{id_pedido:e.id_pedido||0,monto:parseFloat(e.monto)||0,hora:e.hora||""}})))}catch(e){console.error("Error procesando datos de ventas:",e),m=[],g=[]}var v=function(){var e,t=(e=bj().mark((function e(){return bj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,r();case 4:return e.prev=4,d(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){yj(o,n,a,i,s,"next",e)}function s(e){yj(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),x=function(e){return i?i(e):"$".concat(parseFloat(e).toFixed(2))};return(0,at.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,at.jsxs)("div",{className:"flex items-center gap-3",children:[(0,at.jsx)("button",{className:"p-3 rounded-lg transition-all duration-200 ".concat(u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white shadow-md hover:shadow-lg"),onClick:v,disabled:u,title:"Actualizar datos",children:(0,at.jsx)("i",{className:"fa ".concat(u?"fa-spinner fa-spin":"fa-refresh"," text-lg")})}),(0,at.jsxs)("div",{className:"flex-1",children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Ventas"}),(0,at.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",onChange:function(e){return n(e.target.value)},value:a}),t&&t.fecha&&(0,at.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Consultando: ",t.fecha]})]})]}),(0,at.jsxs)("div",{className:"flex items-center gap-2",children:[(0,at.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Gráfica:"}),(0,at.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:h,onChange:function(e){return p(e.target.value)},children:[(0,at.jsx)("option",{value:"line",children:"Línea"}),(0,at.jsx)("option",{value:"bar",children:"Barras"})]})]})]})}),t&&t.estado&&(0,at.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:(t&&t.resumen?[{label:"Total",value:t.total||"0.00",color:"bg-green-500",textColor:"text-green-700",borderColor:"border-green-500"},{label:"Efectivo",value:t.resumen.efectivo||"0.00",color:"bg-blue-500",textColor:"text-blue-700",borderColor:"border-blue-500"},{label:"Débito",value:t.resumen.debito||"0.00",color:"bg-purple-500",textColor:"text-purple-700",borderColor:"border-purple-500"},{label:"Transferencia",value:t.resumen.transferencia||"0.00",color:"bg-orange-500",textColor:"text-orange-700",borderColor:"border-orange-500"},{label:"BioPago",value:t.resumen.biopago||"0.00",color:"bg-teal-500",textColor:"text-teal-700",borderColor:"border-teal-500"}]:[]).map((function(e,t){return(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-sm border-2 ".concat(e.borderColor," p-4"),children:(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,at.jsx)("p",{className:"text-2xl font-bold ".concat(e.textColor),children:x(e.value)})]}),(0,at.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(e.color," flex items-center justify-center"),children:(0,at.jsx)("i",{className:"fa fa-dollar text-white text-lg"})})]})},t)}))}),t&&t.estado&&(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,at.jsx)("div",{className:"flex items-center justify-center sm:justify-end gap-4",children:(0,at.jsxs)("div",{className:"text-center sm:text-right",children:[(0,at.jsxs)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:[(0,at.jsx)("i",{className:"fa fa-shopping-cart mr-2"}),"Total de Ventas"]}),(0,at.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full border-4 border-green-500",children:(0,at.jsx)("span",{className:"text-2xl font-bold text-green-700",children:t.numventas||0})})]})})}),t&&t.estado&&m.length>0&&(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[(0,at.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:["Ventas por Hora - ",a]}),(0,at.jsx)("div",{className:"w-full h-80",children:(0,at.jsx)(wa,{width:"100%",height:"100%",children:"line"===h?(0,at.jsxs)(nj,{data:m,children:[(0,at.jsx)(gj,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,at.jsx)(tj,{dataKey:"hora",stroke:"#6b7280",fontSize:12}),(0,at.jsx)(rj,{stroke:"#6b7280",fontSize:12,tickFormatter:function(e){return"$".concat(e)}}),(0,at.jsx)(dc,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:function(e){return["$".concat(parseFloat(e).toFixed(2)),"Monto"]}}),(0,at.jsx)(ej,{type:"monotone",dataKey:"monto",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f97316",strokeWidth:2}})]}):(0,at.jsxs)(vj,{data:m,children:[(0,at.jsx)(gj,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,at.jsx)(tj,{dataKey:"hora",stroke:"#6b7280",fontSize:12}),(0,at.jsx)(rj,{stroke:"#6b7280",fontSize:12,tickFormatter:function(e){return"$".concat(e)}}),(0,at.jsx)(dc,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:function(e){return["$".concat(parseFloat(e).toFixed(2)),"Monto"]}}),(0,at.jsx)(jb,{dataKey:"monto",fill:"#f97316",radius:[4,4,0,0]})]})})})]}),t&&t.estado&&g.length>0&&(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,at.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,at.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Detalle de Ventas"})}),(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Pedido"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((function(e,t){return(0,at.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,at.jsx)("button",{className:"inline-flex items-center px-3 py-1 border border-orange-300 rounded-full text-sm font-medium text-orange-700 bg-orange-50 hover:bg-orange-100 transition-colors",onClick:function(){return s(e.id_pedido)},title:"Ver pedido",children:e.id_pedido})}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x(e.monto)}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.hora})]},e.id_pedido||t)}))})]})})]}),(!t||!t.estado||0===g.length)&&(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[(0,at.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,at.jsx)("i",{className:"fa fa-chart-line text-gray-400 text-2xl"})}),(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de ventas"}),(0,at.jsx)("p",{className:"text-gray-500",children:"Selecciona una fecha para ver las ventas del día"})]})]})}var _j=r(2973),Cj=r.n(_j);function Ej(e){var t=e.countListPersoInter,r=e.tbodypersoInterref,n=e.setToggleAddPersona,a=e.getPersona,o=e.personas,i=e.setPersonas,s=e.inputmodaladdpersonacarritoref,c=e.setPersonaFast,l=e.clienteInpidentificacion,u=e.setclienteInpidentificacion,d=e.clienteInpnombre,f=e.setclienteInpnombre,h=e.clienteInptelefono,p=e.setclienteInptelefono,m=e.clienteInpdireccion,g=e.setclienteInpdireccion;e.number;return D("esc",(function(){n(!1)}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("section",{className:"modal-custom",children:(0,at.jsxs)("div",{className:"modal-content modal-cantidad",children:[(0,at.jsxs)("div",{className:"modal-header",children:[(0,at.jsx)("h5",{className:"modal-title",children:"Agregar Cliente"}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return n(!1)},"aria-label":"Close"})]}),(0,at.jsxs)("div",{className:"modal-body",children:[(0,at.jsx)("div",{className:"search-container mb-4",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("span",{className:"input-group-text",children:(0,at.jsx)("i",{className:"fas fa-search"})}),(0,at.jsx)("input",{type:"text",className:"form-control",ref:s,placeholder:"Buscar cliente...",onChange:function(e){return a(e.target.value)}})]})}),(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-hover table-striped tabla_datos",children:[(0,at.jsx)("thead",{className:"table-light",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{scope:"col",children:"CÉDULA"}),(0,at.jsx)("th",{scope:"col",children:"NOMBRE Y APELLIDO"})]})}),(0,at.jsxs)("tbody",{ref:r,children:[o.length?o.map((function(e,r){return(0,at.jsxs)("tr",{tabIndex:"-1",className:"".concat(t===r?"table-primary":""," tr-producto"),onClick:i,"data-index":e.id,children:[(0,at.jsx)("td",{children:e.identificacion}),(0,at.jsx)("td",{"data-index":r,children:e.nombre})]},e.id)})):null,!o.length&&(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:"2",children:(0,at.jsx)("div",{className:"p-4",children:(0,at.jsxs)("form",{onSubmit:c,className:"w-75 mx-auto",children:[(0,at.jsxs)("div",{className:"row g-3",children:[(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"form-floating mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",id:"identificacion",value:l,onChange:function(e){return u(e.target.value)},placeholder:"C.I./RIF"}),(0,at.jsx)("label",{htmlFor:"identificacion",children:"C.I./RIF"})]})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"form-floating mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",id:"nombre",value:d,onChange:function(e){return f(e.target.value)},placeholder:"Nombres y Apellidos"}),(0,at.jsx)("label",{htmlFor:"nombre",children:"Nombres y Apellidos"})]})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"form-floating mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",id:"telefono",value:h,onChange:function(e){return p(e.target.value)},placeholder:"Teléfono"}),(0,at.jsx)("label",{htmlFor:"telefono",children:"Teléfono"})]})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"form-floating mb-3",children:[(0,at.jsx)("input",{type:"text",className:"form-control",id:"direccion",value:m,onChange:function(e){return g(e.target.value)},placeholder:"Dirección"}),(0,at.jsx)("label",{htmlFor:"direccion",children:"Dirección"})]})})]}),(0,at.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,at.jsxs)("button",{className:"btn btn-primary",type:"submit",children:[(0,at.jsx)("i",{className:"fas fa-save me-2"}),"Guardar Cliente"]})})]})})})})]})]})})]})]})}),(0,at.jsx)("div",{className:"overlay"})]})}function Sj(e){e.viewconfigcredito;var t=e.setviewconfigcredito,r=e.fechainiciocredito,n=e.setfechainiciocredito,a=e.fechavencecredito,o=e.setfechavencecredito,i=e.formatopagocredito,s=e.setformatopagocredito,c=e.datadeudacredito,l=(e.setdatadeudacredito,e.setconfigcredito),u=e.setPagoPedido,d=e.pedidoData;return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("section",{className:"modal-custom",children:[(0,at.jsx)("div",{className:"text-danger",onClick:function(){return t(!1)},children:(0,at.jsx)("span",{className:"closeModal",children:"✖"})}),(0,at.jsxs)("div",{className:"modal-content-sm modal-cantidad",children:[(0,at.jsxs)("div",{className:"",children:[d&&d.cliente?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("h5",{children:d.cliente.identificacion}),(0,at.jsx)("h2",{children:d.cliente.nombre})]}):null,(0,at.jsx)("div",{className:"text-center",children:c?c.check?(0,at.jsxs)("span",{className:"text-success fw-bold fs-4",children:["Cliente solvente (",c.diferencia,")"]}):(0,at.jsxs)("span",{className:"text-danger fw-bold fs-4",children:["Cliente presenta deuda (",c.diferencia,"), Por favor revisar."]}):null})]}),(0,at.jsxs)("form",{onSubmit:l,children:[(0,at.jsx)("h3",{children:"Parámetros del crédito"}),(0,at.jsxs)("div",{className:"form-group mb-2",children:[(0,at.jsx)("label",{htmlFor:"",children:"Fecha de inicio"}),(0,at.jsx)("input",{type:"date",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}})]}),(0,at.jsxs)("div",{className:"form-group mb-2",children:[(0,at.jsx)("label",{htmlFor:"",children:"Fecha de Vencimiento"}),(0,at.jsx)("input",{type:"date",className:"form-control",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,at.jsxs)("div",{className:"form-group mb-2",children:[(0,at.jsx)("label",{htmlFor:"",children:"Formato de pago"}),(0,at.jsxs)("select",{className:"form-control",value:i,onChange:function(e){return s(e.target.value)},children:[(0,at.jsx)("option",{value:"1",children:"Pago Completo"}),(0,at.jsx)("option",{value:"0",children:"Pago parcial"})]})]}),(0,at.jsxs)("div",{className:"form-group mb-3",children:[(0,at.jsx)("button",{className:"btn btn-outline-sinapsis",children:"Guardar configuración de crédito"}),(0,at.jsx)("span",{className:"btn btn-outline-secondary",onClick:function(){return u()},children:"Procesar pedido"})]})]})]})]}),(0,at.jsx)("div",{className:"overlay"})]})}function Aj(e){return function(e){if(Array.isArray(e))return Tj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ij(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Oj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oj(e,t){if(e){if("string"==typeof e)return Tj(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tj(e,t):void 0}}function Tj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pj(e){var t=e.addRetencionesPago,r=e.delRetencionPago,n=(e.user,e.view),a=e.changeEntregado,i=(e.setPagoPedido,e.viewconfigcredito,e.setPrecioAlternoCarrito),s=e.addRefPago,c=e.delRefPago,l=e.refPago,u=e.pedidosFast,d=e.pedidoData,f=(e.getPedido,e.debito),h=e.setDebito,p=e.efectivo,m=e.setEfectivo,g=e.transferencia,v=e.setTransferencia,x=e.credito,b=e.setCredito,y=(e.vuelto,e.setVuelto,e.number),j=e.delItemPedido,w=(e.setDescuento,e.setDescuentoUnitario),N=e.setDescuentoTotal,_=e.setCantidadCarrito,C=e.toggleAddPersona,E=e.setToggleAddPersona,S=e.toggleImprimirTicket,A=e.sendReciboFiscal,I=e.sendNotaCredito,O=e.del_pedido,T=e.facturar_pedido,P=e.inputmodaladdpersonacarritoref,k=(e.entregarVuelto,e.setclienteInpnombre),M=e.setclienteInptelefono,R=e.setclienteInpdireccion,F=e.viewReportPedido,L=e.autoCorrector,B=e.setautoCorrector,U=e.getDebito,z=e.getCredito,V=e.getTransferencia,G=e.getEfectivo,H=e.onClickEditPedido,q=e.setBiopago,W=e.biopago,Y=e.getBio,X=e.facturar_e_imprimir,$=e.moneda,Q=e.dolar,Z=e.peso,K=e.auth,J=(e.togglereferenciapago,e.setToggleAddPersonaFun),ee=e.transferirpedidoa,te=e.settransferirpedidoa,re=e.sucursalesCentral,ne=e.setexportpedido,ae=e.getSucursales,oe=e.setView,ie=e.setselectprinter,se=e.setmonedaToPrint,ce=e.selectprinter,le=e.monedaToPrint,ue=(e.setGastoOperativo,e.changeOnlyInputBulto),de=e.setchangeOnlyInputBultoFun,fe=e.printBultos,he=e.showXBulto,pe=e.setshowXBulto,me=Ij((0,o.useState)(""),2),ge=me[0],ve=me[1],xe=Ij((0,o.useState)(""),2),be=xe[0],ye=xe[1],je=Ij((0,o.useState)(""),2),we=je[0],Ne=je[1],_e=Ij((0,o.useState)(""),2),Ce=_e[0],Ee=_e[1],Se=Ij((0,o.useState)(""),2),Ae=Se[0],Ie=Se[1],Oe=Ij((0,o.useState)(""),2),Te=Oe[0],Pe=Oe[1],ke=Ij((0,o.useState)(""),2),De=ke[0],Me=ke[1],Re=Ij((0,o.useState)(""),2),Fe=Re[0],Le=Re[1],Be=function(e,t){try{return"P/U. Bs."+$(y(e)*Q)+"\nTotal Bs."+$(y(t)*Q)}catch(e){return""}},Ue=function(e,t){switch(t){case"recibido_dolar":ve(y(e));break;case"recibido_bs":ye(y(e));break;case"recibido_cop":Ne(y(e))}},ze=function(e){var t=parseFloat(window.prompt("Monto Bs"));t&&e((t/Q).toFixed(2))},Ve=function(){Ie((De*Q).toFixed(2)),Ee(""),Pe("")},Ge=function(){Ie(""),Ee(De),Pe("")},He=function(){Ie(""),Ee(""),Pe((De*Z).toFixed(2))},qe=function(e,t){e=y(e);var r=0;"Dolar"==t?(Ee(e),r=e):"Bolivares"==t?(Ie(e),r=parseFloat(e||0)/parseFloat(Q)):"Pesos"==t&&(Pe(e),r=parseFloat(e||0)/parseFloat(Z));var n=0,a=[{key:"Dolar",val:Ce,set:function(e){return Ee(e)}},{key:"Bolivares",val:Ae,set:function(e){return Ie(e)}},{key:"Pesos",val:Te,set:function(e){return Pe(e)}}];a.map((function(e){e.key!=t&&e.val&&n++}));var o=0;if(Ae&&Ce&&"Pesos"==t){var i=parseFloat(Ae)/parseFloat(Q);Ee((De-i-r).toFixed(2))}else a.map((function(e){e.key!=t&&e.val&&(o=(De-r)/n,"Dolar"==e.key?e.set(o.toFixed(2)):"Bolivares"==e.key?e.set((o*Q).toFixed(2)):"Pesos"==e.key&&e.set((o*Z).toFixed(2)))}))},We=function(e){try{if("debito"==e)return""==f?"":"Bs."+$(Q*f);if("transferencia"==e)return""==g?"":"Bs."+$(Q*g);if("biopago"==e)return""==W?"":"Bs."+$(Q*W);if("efectivo"==e)return""==p?"":"Bs."+$(Q*p)}catch(e){return""}},Ye=function(e,t){e=y(e),"Debito"==t?h(e):"Efectivo"==t?m(e):"Transferencia"==t?v(e):"Credito"==t?b(e):"Biopago"==t&&q(e);var r=0,n=[{key:"Debito",val:f,set:function(e){return h(e)}},{key:"Efectivo",val:p,set:function(e){return m(e)}},{key:"Transferencia",val:g,set:function(e){return v(e)}},{key:"Credito",val:x,set:function(e){return b(e)}},{key:"Biopago",val:W,set:function(e){return q(e)}}];n.map((function(e){e.key!=t&&e.val&&r++})),L&&n.map((function(n){n.key!=t&&n.val&&n.set(((d.clean_total-e)/r).toFixed(2))}))};(0,o.useEffect)((function(){!function(){var e=parseFloat(ge||0)+parseFloat(be||0)/parseFloat(Q)+parseFloat(we||0)/parseFloat(Z),t=ge||be||we?e-d.clean_total:"";Le(e.toFixed(2)),Ee(""!==t?t.toFixed(2):""),Ie(""),Pe(""),Me(""!==t?t.toFixed(2):"")}()}),[be,we,ge]),D("esc",(function(){C?E(!1):oe("seleccionar")}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("c",(function(){z()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("t",(function(){V()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("b",(function(){Y()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("e",(function(){G()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("d",(function(){U()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("f5",(function(){O()}),{enableOnTags:["INPUT","SELECT"]},[]),D("f4",(function(){F()}),{enableOnTags:["INPUT","SELECT"]},[]),D("f3",(function(){S()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]),D("f2",(function(){J(!0,(function(){k(""),M(""),R(""),P&&P.current&&P.current.focus()}))}),{enableOnTags:["INPUT","SELECT"]},[]),D("enter",(function(e){e.repeat||X()}),{keydown:!0,keyup:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),D("f1",(function(){oe("ModalAddListProductosInterno"===n?"pagar":"ModalAddListProductosInterno")}),{enableOnTags:["INPUT","SELECT"]},[]);var Xe=d.id,$e=void 0===Xe?null:Xe,Qe=d.created_at,Ze=void 0===Qe?"":Qe,Ke=d.cliente,Je=void 0===Ke?"":Ke,et=d.items,tt=void 0===et?[]:et,rt=d.retenciones,nt=void 0===rt?[]:rt,ot=(d.total_des,d.subtotal,d.total),it=void 0===ot?0:ot,st=d.total_porciento,ct=void 0===st?0:st,lt=d.cop,ut=void 0===lt?0:lt,ft=d.bs,ht=void 0===ft?0:ft,pt=d.editable,mt=void 0===pt?0:pt,gt=(d.vuelto_entregado,d.estado),vt=void 0===gt?0:gt,xt=(d.exento,d.gravable,d.ivas,d.monto_iva,tt.filter((function(e){return e.cantidad<0})).length);return d?(0,at.jsx)("div",{className:"container-fluid mb-5",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-auto p-0",children:(0,at.jsx)(dt,{pedidosFast:u,onClickEditPedido:H,id:$e})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"position-relative",children:[(0,at.jsxs)("div",{className:(1==vt?"bg-success-light":2==vt?"bg-danger-light":"bg-primary-light")+" d-flex justify-content-between p-3 rounded shadow-sm mb-3",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("div",{className:"me-3",children:1==vt?(0,at.jsx)("i",{className:"fa fa-check-circle text-success fa-3x"}):2==vt?(0,at.jsx)("i",{className:"fa fa-times-circle text-danger fa-3x"}):(0,at.jsx)("i",{className:"fa fa-clock-o text-primary fa-3x"})}),(0,at.jsxs)("div",{children:[(0,at.jsxs)("h4",{className:"mb-0 text-dark",children:["Pedido #",$e]}),(0,at.jsx)("small",{className:"text-muted",children:Ze})]})]}),(0,at.jsxs)("div",{className:"text-end",children:[(0,at.jsx)("h5",{className:"text-primary mb-1",children:"Total a Pagar"}),(0,at.jsx)("h3",{className:"text-dark mb-0",children:$(d.clean_total)})]})]}),(0,at.jsx)("div",{className:"table-responsive",style:{maxHeight:"calc(100vh - 300px)",overflowY:"auto"},children:(0,at.jsxs)("table",{className:"table table-hover table-striped align-middle",children:[(0,at.jsx)("thead",{className:"bg-primary text-white sticky-top",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{style:{width:"100px"},children:"Código"}),(0,at.jsx)("th",{children:"Producto"}),(0,at.jsx)("th",{style:{width:"80px",textAlign:"center"},children:"CT"}),K(1)?(0,at.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"BASE"}):null,(0,at.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"PRECIO"}),(0,at.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"SUBTOTAL"}),(0,at.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"%"}),(0,at.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"TOTAL"}),mt?(0,at.jsx)("th",{style:{width:"50px"}}):null]})}),(0,at.jsxs)("tbody",{children:[tt?tt.map((function(e,t){return e.abono&&!e.producto?(0,at.jsxs)("tr",{className:"align-middle",children:[(0,at.jsx)("td",{children:"MOV"}),(0,at.jsx)("td",{children:e.abono}),(0,at.jsx)("td",{children:e.cantidad}),(0,at.jsx)("td",{children:e.monto}),(0,at.jsx)("td",{onClick:w,"data-index":e.id,className:"pointer",children:e.descuento}),(0,at.jsx)("td",{children:e.subtotal}),(0,at.jsx)("td",{children:e.total_des}),(0,at.jsx)("th",{className:"fw-bold",children:e.total})]},e.id):(0,at.jsxs)("tr",{title:Be(e.producto.precio,e.total),className:"align-middle",children:[he?(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"text",className:"form-control form-control-sm",value:ue[e.id]?ue[e.id]:"",onChange:function(t){return de(t.target.value,e.id)}})}):null,(0,at.jsx)("td",{className:"text-nowrap",children:e.producto.codigo_barras}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[xt?(0,at.jsxs)(at.Fragment,{children:[1==e.condicion?(0,at.jsx)("span",{className:"badge bg-warning me-2",children:"Garantía"}):null,2==e.condicion||0==e.condicion?(0,at.jsx)("span",{className:"badge bg-info me-2",children:"Cambio"}):null]}):null,(0,at.jsx)("span",{className:"pointer",onClick:a,"data-id":e.id,children:e.producto.descripcion}),e.entregado?(0,at.jsx)("span",{className:"badge bg-secondary ms-2",children:"Entregado"}):null]})}),(0,at.jsxs)("td",{className:"pointer text-center",onClick:1==e.condicion?null:_,"data-index":e.id,children:[xt?e.cantidad<0?(0,at.jsx)("span",{className:"badge bg-success me-2",children:(0,at.jsx)("i",{className:"fa fa-arrow-down"})}):(0,at.jsx)("span",{className:"badge bg-danger me-2",children:(0,at.jsx)("i",{className:"fa fa-arrow-up"})}):null,e.cantidad.replace(".00","")]}),K(1)?(0,at.jsx)("th",{className:"pointer text-end",children:$(e.producto.precio_base)}):null,e.producto.precio1?(0,at.jsx)("td",{className:"text-success pointer text-end","data-iditem":e.id,onClick:i,children:e.producto.precio}):(0,at.jsx)("td",{className:"pointer text-end",children:$(e.producto.precio)}),(0,at.jsx)("td",{onClick:w,"data-index":e.id,className:"pointer text-end",children:e.subtotal}),(0,at.jsx)("td",{onClick:w,"data-index":e.id,className:"pointer text-end",children:e.descuento}),(0,at.jsx)("th",{className:"fw-bold text-end",children:e.total}),mt?(0,at.jsx)("td",{className:"text-center",children:(0,at.jsx)("i",{onClick:j,"data-index":e.id,className:"fa fa-times text-danger pointer"})}):null]},e.id)})):null,(0,at.jsxs)("tr",{className:"table-secondary",children:[(0,at.jsx)("td",{children:(0,at.jsx)("button",{className:"btn btn-outline-primary btn-sm",onDoubleClick:function(){return pe(!0)},children:tt?tt.length:null})}),(0,at.jsxs)("th",{colSpan:K(1)?"8":"7",className:"p-2",children:[Je?Je.nombre:null," ",(0,at.jsx)("b",{children:Je?Je.identificacion:null})]})]})]})]})})]})}),(0,at.jsxs)("div",{className:"col-lg-4",children:[(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsx)("div",{className:"row g-2",children:(0,at.jsx)("div",{className:"col-12",children:(0,at.jsx)("div",{className:"container-fluid p-0",children:(0,at.jsx)("div",{className:"row g-2",children:mt?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"col-6",children:(0,at.jsx)("div",{className:"card shadow-sm h-100 ".concat(""!=f?"bg-success-light":"bg-light"),children:(0,at.jsxs)("div",{className:"card-body p-2",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{className:"card-title mb-0 pointer",onClick:U,children:[(0,at.jsx)("i",{className:"fa fa-credit-card text-primary me-1"})," Débito"]}),(0,at.jsx)("span",{className:"ref pointer","data-type":"toggle",onClick:function(){return s("toggle")},children:(0,at.jsx)("i",{className:"fa fa-plus-circle text-primary"})})]}),(0,at.jsxs)("div",{className:"input-group input-group-sm mt-1",children:[(0,at.jsx)("input",{type:"text",className:"form-control",value:f,onChange:function(e){return Ye(e.target.value,"Debito")},placeholder:"D"}),(0,at.jsx)("button",{className:"btn btn-primary",onClick:function(){return ze((function(e){Ye(e,"Debito")}))},children:"Bs"})]}),""!=f&&(0,at.jsx)("div",{className:"text-primary fw-bold fs-4 mt-1",children:We("debito")})]})})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsx)("div",{className:"card shadow-sm h-100 ".concat(""!=p?"bg-success-light":"bg-light"),children:(0,at.jsxs)("div",{className:"card-body p-2",children:[(0,at.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,at.jsxs)("div",{className:"card-title mb-0 pointer",onClick:G,children:[(0,at.jsx)("i",{className:"fa fa-money text-success me-1"})," Efectivo"]})}),(0,at.jsxs)("div",{className:"input-group input-group-sm mt-1",children:[(0,at.jsx)("input",{type:"text",className:"form-control",value:p,onChange:function(e){return Ye(e.target.value,"Efectivo")},placeholder:"E"}),(0,at.jsx)("button",{className:"btn btn-success",onClick:function(){return ze((function(e){Ye(e,"Efectivo")}))},children:"Bs"})]}),""!=p&&(0,at.jsx)("div",{className:"text-success fw-bold fs-4 mt-1",children:We("efectivo")})]})})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsx)("div",{className:"card shadow-sm h-100 ".concat(""!=g?"bg-success-light":"bg-light"),children:(0,at.jsxs)("div",{className:"card-body p-2",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{className:"card-title mb-0 pointer",onClick:V,children:[(0,at.jsx)("i",{className:"fa fa-exchange text-info me-1"})," Transferencia"]}),(0,at.jsx)("span",{className:"ref pointer","data-type":"toggle",onClick:function(){return s("toggle",g,"1")},children:(0,at.jsx)("i",{className:"fa fa-plus-circle text-info"})})]}),(0,at.jsxs)("div",{className:"input-group input-group-sm mt-1",children:[(0,at.jsx)("input",{type:"text",className:"form-control",value:g,onChange:function(e){return Ye(e.target.value,"Transferencia")},placeholder:"T"}),(0,at.jsx)("button",{className:"btn btn-info",onClick:function(){return ze((function(e){Ye(e,"Transferencia")}))},children:"Bs"})]}),""!=g&&(0,at.jsx)("div",{className:"text-info fw-bold fs-4 mt-1",children:We("transferencia")})]})})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsx)("div",{className:"card shadow-sm h-100 ".concat(""!=W?"bg-success-light":"bg-light"),children:(0,at.jsxs)("div",{className:"card-body p-2",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{className:"card-title mb-0 pointer",onClick:Y,children:[(0,at.jsx)("i",{className:"fa fa-mobile text-primary me-1"})," Biopago"]}),(0,at.jsx)("span",{className:"ref pointer","data-type":"toggle",onClick:function(){return s("toggle",W,"5")},children:(0,at.jsx)("i",{className:"fa fa-plus-circle text-primary"})})]}),(0,at.jsxs)("div",{className:"input-group input-group-sm mt-1",children:[(0,at.jsx)("input",{type:"text",className:"form-control",value:W,onChange:function(e){return Ye(e.target.value,"Biopago")},placeholder:"B"}),(0,at.jsx)("button",{className:"btn btn-primary",onClick:function(){return ze((function(e){Ye(e,"Biopago")}))},children:"Bs"})]}),""!=W&&(0,at.jsx)("div",{className:"text-primary fw-bold fs-4 mt-1",children:We("biopago")})]})})}),(0,at.jsx)("div",{className:"col-6",children:(0,at.jsx)("div",{className:"card shadow-sm h-100 ".concat(""!=x?"bg-success-light":"bg-light"),children:(0,at.jsxs)("div",{className:"card-body p-2",children:[(0,at.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,at.jsxs)("div",{className:"card-title mb-0 pointer",onClick:z,children:[(0,at.jsx)("i",{className:"fa fa-calendar text-warning me-1"})," Crédito"]})}),(0,at.jsx)("div",{className:"input-group input-group-sm mt-1",children:(0,at.jsx)("input",{type:"text",className:"form-control",value:x,onChange:function(e){return Ye(e.target.value,"Credito")},placeholder:"C"})}),""!=x&&(0,at.jsx)("div",{className:"text-warning fw-bold fs-4 mt-1",children:x})]})})}),(0,at.jsx)("div",{className:"col-6",children:L?(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm scale05",onClick:function(){return B(!1)},children:"On"}):(0,at.jsx)("button",{className:"btn btn-outline-danger btn-sm scale05",onClick:function(){return B(!0)},children:"Off"})})]}):null})})})})}),(0,at.jsx)("div",{className:"card shadow-lg border-primary mb-3",children:(0,at.jsxs)("div",{className:"card-body p-3",children:[(0,at.jsxs)("div",{className:"row align-items-center",children:[(0,at.jsxs)("div",{className:"col",children:[(0,at.jsxs)("div",{className:"text-muted mb-1",children:["Total a Pagar ",(0,at.jsxs)("span",{"data-index":$e,onClick:N,className:"pointer clickme",children:["Desc. ",ct,"%"]})]}),(0,at.jsxs)("div",{className:"d-flex align-items-baseline justify-content-between",children:[(0,at.jsx)("span",{className:"text-success fw-bold display-4 me-2",children:it}),(0,at.jsxs)("span",{className:"text-primary fw-bold display-5",children:[(0,at.jsx)("small",{className:"",children:"Bs."})," ",ht]})]})]}),(0,at.jsx)("div",{className:"row mt-2",children:(0,at.jsx)("div",{className:"col text-end",children:(0,at.jsxs)("div",{className:"text-muted mb-1",children:["COP ",(0,at.jsx)("span",{"data-type":"cop",className:"fs-6 text-muted fw-bold pointer opacity-75",children:ut})]})})})]}),d.clean_total<0?(0,at.jsxs)("div",{className:"alert alert-warning mt-3 mb-0",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),"Debemos pagarle diferencia al cliente"]}):null]})}),(0,at.jsxs)("div",{className:"card shadow-sm mb-3",children:[(0,at.jsx)("div",{className:"card-header bg-light py-2",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsx)("h6",{className:"mb-0",children:"Cálculo de Vueltos"}),(0,at.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,at.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return Ge()},children:"$"}),(0,at.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return Ve()},children:"BS"}),(0,at.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return He()},children:"COP"})]})]})}),(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col-12",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text",children:"$"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:ge,onChange:function(e){return Ue(e.target.value,"recibido_dolar")},placeholder:"$"})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text",children:"BS"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:be,onChange:function(e){return Ue(e.target.value,"recibido_bs")},placeholder:"BS"})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text",children:"COP"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:we,onChange:function(e){return Ue(e.target.value,"recibido_cop")},placeholder:"COP"})]})})]})}),(0,at.jsx)("div",{className:"col-12",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text pointer",onClick:Ge,children:"$"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:Ce,onChange:function(e){return qe(e.target.value,"Dolar")},placeholder:"$"})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text pointer",onClick:Ve,children:"BS"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:Ae,onChange:function(e){return qe(e.target.value,"Bolivares")},placeholder:"BS"})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text pointer",onClick:He,children:"COP"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:Te,onChange:function(e){return qe(e.target.value,"Pesos")},placeholder:"COP"})]})})]})}),(0,at.jsx)("div",{className:"col-12",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("small",{className:"text-muted me-2",children:"Recibido:"}),(0,at.jsx)("span",{className:"text-success fw-bold",children:Fe})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("small",{className:"text-muted me-2",children:"Vuelto:"}),(0,at.jsx)("span",{className:"text-success fw-bold",children:(parseFloat(Ce||0)+parseFloat(Ae||0)/parseFloat(Q)+parseFloat(Te||0)/parseFloat(Z)).toFixed(2)})]})]})})]})})]}),l&&l.length>0&&(0,at.jsxs)("div",{className:"card shadow-sm mb-3",children:[(0,at.jsx)("div",{className:"card-header bg-light py-2",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsx)("h6",{className:"mb-0",children:"Referencias Bancarias"}),(0,at.jsxs)("button",{className:"btn btn-sm btn-success",onClick:t,children:[(0,at.jsx)("i",{className:"fa fa-plus me-1"})," Retención"]})]})}),(0,at.jsx)("div",{className:"card-body p-0",children:(0,at.jsxs)("ul",{className:"list-group list-group-flush",children:[l.map((function(e){return(0,at.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center py-2",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsxs)("span",{className:"badge bg-light text-dark me-2",children:["Ref.",e.descripcion]}),(0,at.jsxs)("small",{className:"text-muted",children:["(",e.banco,")"]})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[1==e.tipo&&0!=e.monto&&(0,at.jsxs)("span",{className:"badge bg-info me-2",children:["Trans. ",$(e.monto)]}),2==e.tipo&&0!=e.monto&&(0,at.jsxs)("span",{className:"badge bg-secondary me-2",children:["Deb. Bs.",$(e.monto)]}),5==e.tipo&&0!=e.monto&&(0,at.jsxs)("span",{className:"badge bg-primary me-2",children:["Biopago. Bs.",$(e.monto)]}),(0,at.jsx)("button",{className:"btn btn-sm btn-link text-danger p-0","data-id":e.id,onClick:c,children:(0,at.jsx)("i",{className:"fa fa-times"})})]})]},e.id)})),nt&&nt.length>0&&nt.map((function(e){return(0,at.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center py-2 bg-light",children:[(0,at.jsx)("div",{className:"d-flex align-items-center",children:(0,at.jsxs)("span",{className:"badge bg-light text-dark me-2",children:["Desc.",e.descripcion]})}),(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsxs)("span",{className:"badge bg-info me-2",children:["Monto. ",$(e.monto)]}),(0,at.jsx)("button",{className:"btn btn-sm btn-link text-danger p-0",onClick:function(){return r(e.id)},children:(0,at.jsx)("i",{className:"fa fa-times"})})]})]},e.id)}))]})})]}),(0,at.jsx)("div",{className:"mb-4",children:(0,at.jsx)("div",{className:"container-fluid p-0",children:(0,at.jsxs)("div",{className:"row g-2",children:[(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text bg-light",children:(0,at.jsx)("i",{className:"fa fa-money text-primary"})}),(0,at.jsxs)("select",{className:"form-control",value:le,onChange:function(e){return se(e.target.value)},children:[(0,at.jsx)("option",{value:"bs",children:"BS"}),(0,at.jsx)("option",{value:"$",children:"$"}),(0,at.jsx)("option",{value:"cop",children:"COP"})]})]})}),(0,at.jsx)("div",{className:"col",children:(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("span",{className:"input-group-text bg-light",children:(0,at.jsx)("i",{className:"fa fa-print text-primary"})}),(0,at.jsx)("select",{className:"form-control",value:ce,onChange:function(e){return ie(e.target.value)},children:Aj(Array(10)).map((function(e,t){return(0,at.jsxs)("option",{value:t+1,children:["CAJA ",t+1]},t+1)}))})]})})]})})}),K(1)&&(0,at.jsxs)("div",{className:"transfer-section mb-4",children:[(0,at.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,at.jsx)("i",{className:"fa fa-exchange text-primary me-2"}),(0,at.jsx)("h6",{className:"mb-0",children:"Transferir a Sucursal"})]}),(0,at.jsxs)("div",{className:"input-group input-group-sm",children:[(0,at.jsx)("button",{className:"btn btn-outline-primary",onClick:ae,children:(0,at.jsx)("i",{className:"fa fa-search"})}),(0,at.jsxs)("select",{className:"form-control",value:ee,onChange:function(e){return te(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Seleccionar Sucursal"}),re.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),(0,at.jsxs)("button",{className:"btn btn-primary",onClick:ne,children:[(0,at.jsx)("i",{className:"fa fa-paper-plane me-1"}),"Transferir"]})]})]}),(0,at.jsx)("div",{className:"position-fixed",style:{bottom:"0",left:"0",right:"0",backgroundColor:"white",padding:"1rem",boxShadow:"0 -2px 10px rgba(0,0,0,0.1)",zIndex:1e3},children:(0,at.jsx)("div",{className:"container-fluid",children:(0,at.jsxs)("div",{className:"row g-2 justify-content-center",children:[mt?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsxs)("button",{className:"btn btn-success",onClick:T,title:"Facturar e Imprimir",children:[(0,at.jsx)("i",{className:"fa fa-paper-plane"}),(0,at.jsx)("i",{className:"fa fa-print ms-1"})]})}),(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn btn-primary",onClick:X,title:"Facturar",children:(0,at.jsx)("i",{className:"fa fa-paper-plane"})})})]}):null,mt?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn btn-primary",onClick:function(){return E(!0)},title:"Cliente (F2)",children:(0,at.jsx)("i",{className:"fa fa-user"})})}),(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsxs)("button",{className:"btn btn-primary",onClick:function(){return S()},title:"Imprimir (F3)",children:[(0,at.jsx)("i",{className:"fa fa-print"})," ",d.ticked]})}),(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn btn-dark text-light",onClick:function(){return A()},title:"Recibo Fiscal",children:(0,at.jsx)("i",{className:"fa fa-file-text"})})})]}):null,1==d.fiscal?(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn text-white btn-dark text-light btn-xl me-4",title:"Nota de Crédito",onClick:function(){return I()},children:(0,at.jsx)("i",{className:"fa fa-undo"})})}):null,(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn btn-primary",onClick:function(){return F()},title:"Ver Pedido (F4)",children:(0,at.jsx)("i",{className:"fa fa-eye"})})}),(0,at.jsx)("div",{className:"col-auto",children:(0,at.jsx)("button",{className:"btn btn-warning",onClick:function(){return fe()},title:"Imprimir Bultos",children:(0,at.jsx)("i",{className:"fa fa-print"})})})]})})})]})]})}):null}function kj(e){return kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kj(e)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dj(Object(r),!0).forEach((function(t){Rj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=kj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fj(){Fj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==kj(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(kj(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Lj(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Bj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uj(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zj(e){var t=e.addRefPago,r=e.descripcion_referenciapago,n=e.setdescripcion_referenciapago,a=e.banco_referenciapago,i=e.setbanco_referenciapago,s=e.monto_referenciapago,c=e.setmonto_referenciapago,l=e.tipo_referenciapago,u=e.settipo_referenciapago,d=e.transferencia,f=e.dolar,h=e.number,p=e.bancos,m=Bj((0,o.useState)(!0),2),g=m[0],v=m[1],x=Bj((0,o.useState)({}),2),b=x[0],y=x[1],j=Bj((0,o.useState)(!1),2),w=j[0],N=j[1],_=function(){var e,n=(e=Fj().mark((function e(n){return Fj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o=void 0,o={},r&&""!==r.trim()||(o.descripcion="La referencia es obligatoria"),a&&""!==a||(o.banco="Debe seleccionar un banco"),(!s||s<=0)&&(o.monto="El monto debe ser mayor a 0"),l&&""!==l||(o.tipo="Debe seleccionar el tipo de pago"),y(o),0===Object.keys(o).length){e.next=3;break}return e.abrupt("return");case 3:return N(!0),e.prev=4,e.next=7,t("enviar");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error("Error al guardar:",e.t0);case 12:return e.prev=12,N(!1),e.finish(12);case 15:case"end":return e.stop()}var o}),e,null,[[4,9,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Lj(o,n,a,i,s,"next",e)}function s(e){Lj(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),C=function(){t("toggle")},E=function(e){"Enter"===e.key&&(e.preventDefault(),_(e))};return(0,o.useEffect)((function(){if("ZELLE"==a||"BINANCE"==a||"AirTM"==a)v(!1),c(d);else{var e=(d*f).toFixed(2);c(e),v(!0)}}),[a,d,f]),(0,o.useEffect)((function(){b.descripcion&&r&&y((function(e){return Mj(Mj({},e),{},{descripcion:null})})),b.banco&&a&&y((function(e){return Mj(Mj({},e),{},{banco:null})})),b.monto&&s>0&&y((function(e){return Mj(Mj({},e),{},{monto:null})})),b.tipo&&l&&y((function(e){return Mj(Mj({},e),{},{tipo:null})}))}),[r,a,s,l]),(0,at.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:C}),(0,at.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,at.jsxs)("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-lg bg-white shadow-xl transition-all",children:[(0,at.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Referencia Bancaria"}),(0,at.jsx)("button",{onClick:C,className:"rounded-full p-1 text-white hover:bg-white hover:bg-opacity-20 transition-colors",children:(0,at.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,at.jsx)("p",{className:"text-orange-100 text-sm mt-1",children:"Presiona Enter en cualquier campo para guardar"})]}),(0,at.jsxs)("form",{onSubmit:_,className:"px-6 py-4 space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Referencia ",(0,at.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,at.jsx)("input",{type:"text",placeholder:"Referencia completa de la transacción...",value:r,onChange:function(e){return n("ZELLE"==a?e.target.value:h(e.target.value))},onKeyPress:E,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ".concat(b.descripcion?"border-red-300":"border-gray-300")}),b.descripcion&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.descripcion})]}),(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Banco ",(0,at.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,at.jsxs)("select",{value:a,onChange:function(e){n(""),i(e.target.value)},onKeyPress:E,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ".concat(b.banco?"border-red-300":"border-gray-300"),children:[(0,at.jsx)("option",{value:"",children:"-- Seleccione un banco --"}),p.filter((function(e){return"0134 BANESCO ARABITO PUNTOS 9935"!=e.value})).filter((function(e){return"0134 BANESCO TITANIO"!=e.value})).map((function(e,t){return(0,at.jsx)("option",{value:e.value,children:e.text},t)}))]}),b.banco&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.banco})]}),(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Monto en ",g?(0,at.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Bs"}):(0,at.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"$"}),(0,at.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,at.jsx)("input",{type:"text",value:s,onChange:function(e){return c(h(e.target.value))},onKeyPress:E,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ".concat(b.monto?"border-red-300":"border-gray-300")}),b.monto&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.monto})]}),(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tipo de Pago ",(0,at.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,at.jsxs)("select",{value:l,onChange:function(e){return u(e.target.value)},onKeyPress:E,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ".concat(b.tipo?"border-red-300":"border-gray-300"),children:[(0,at.jsx)("option",{value:"",children:"-- Seleccione tipo --"}),(0,at.jsx)("option",{value:"1",children:"Transferencia"}),(0,at.jsx)("option",{value:"2",children:"Débito"}),(0,at.jsx)("option",{value:"5",children:"BioPago"})]}),b.tipo&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.tipo})]}),(0,at.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,at.jsx)("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors",children:"Cancelar"}),(0,at.jsx)("button",{type:"submit",disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:w?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,at.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,at.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,at.jsx)("span",{children:"Guardando..."})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,at.jsx)("span",{children:"Guardar"})]})})]})]})]})})]})}function Vj(e){e.view;var t=e.setView,r=(e.setsubViewInventario,e.showAjustesPuntuales);return(0,at.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[(0,at.jsx)("button",{className:"btn btn-info fs-1 mb-5",onClick:function(){return t("SelectFacturasInventario")},children:"Nueva mercancía"}),(0,at.jsx)("button",{className:"btn btn-info fs-1",onClick:function(){return r()},children:"Ajustes puntuales"})]})}function Gj(e){var t=e.setView,r=e.Invnum,n=e.setInvnum,a=(e.InvorderColumn,e.setInvorderColumn,e.InvorderBy),o=e.setInvorderBy,i=e.qBuscarInventario,s=e.setQBuscarInventario,c=e.productosInventario,l=e.inputBuscarInventario,u=e.changeInventario,d=e.categorias,f=e.proveedoresList,h=e.guardarNuevoProductoLote,p=e.addProductoFactInventario,m=function(e){return!e||"delete"===e};return(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"text-center m-3",children:(0,at.jsx)("i",{className:"fa fa-times fs-2 text-danger",onClick:function(){return t("SelectFacturasInventario")}})}),(0,at.jsxs)("div",{className:"d-flex flex-fill",children:[(0,at.jsx)("div",{className:"flex-fill",children:(0,at.jsx)("input",{type:"text",ref:l,className:"form-control",placeholder:"Buscar...(esc)",onChange:function(e){return s(e.target.value)},value:i})}),(0,at.jsx)("div",{className:"flex-fill",children:(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsxs)("select",{value:r,onChange:function(e){return n(e.target.value)},className:"form-control",children:[(0,at.jsx)("option",{value:"25",children:"Num.25"}),(0,at.jsx)("option",{value:"50",children:"Num.50"}),(0,at.jsx)("option",{value:"100",children:"Num.100"}),(0,at.jsx)("option",{value:"500",children:"Num.500"}),(0,at.jsx)("option",{value:"2000",children:"Num.2000"}),(0,at.jsx)("option",{value:"10000",children:"Num.100000"})]}),(0,at.jsxs)("select",{value:a,onChange:function(e){return o(e.target.value)},className:"form-control",children:[(0,at.jsx)("option",{value:"asc",children:"Orden Asc"}),(0,at.jsx)("option",{value:"desc",children:"Orden Desc"})]}),(0,at.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){return u(null,null,null,"add")},children:["Nuevo (f2) ",(0,at.jsx)("i",{className:"fa fa-plus"})]}),(0,at.jsx)("button",{className:"btn btn-success text-light",onClick:h,children:"Guardar (f1)"})]})})]}),(0,at.jsx)("table",{className:"table",children:(0,at.jsx)("tbody",{children:c.length?c.map((function(e,t){return(0,at.jsx)("tr",{className:"pointer",onClick:function(){return p(e.id)},children:m(e.type)?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{className:"cell1",children:e.codigo_proveedor}),(0,at.jsx)("td",{className:"cell1",children:e.codigo_barras}),(0,at.jsx)("td",{className:"cell05",children:e.unidad}),(0,at.jsx)("td",{className:"cell2",children:e.descripcion}),(0,at.jsxs)("td",{className:"cell15",children:[e.categoria?e.categoria.descripcion:null," ",(0,at.jsx)("br",{})," ",e.proveedor?e.proveedor.descripcion:null]}),(0,at.jsx)("td",{className:"cell05",children:e.iva})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("td",{className:"cell1",children:(0,at.jsx)("input",{type:"text",disabled:m(e.type),className:"form-control form-control-sm",value:e.codigo_proveedor?e.codigo_proveedor:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","codigo_proveedor")},placeholder:"codigo_proveedor..."})}),(0,at.jsx)("td",{className:"cell1",children:(0,at.jsx)("input",{type:"text",required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.codigo_barras?null:"invalid"),value:e.codigo_barras?e.codigo_barras:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","codigo_barras")},placeholder:"codigo_barras..."})}),(0,at.jsx)("td",{className:"cell05",children:(0,at.jsxs)("select",{disabled:m(e.type),className:"form-control form-control-sm "+(e.unidad?null:"invalid"),value:e.unidad?e.unidad:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","unidad")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),(0,at.jsx)("option",{value:"UND",children:"UND"}),(0,at.jsx)("option",{value:"PAR",children:"PAR"}),(0,at.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,at.jsx)("option",{value:"PQT",children:"PQT"}),(0,at.jsx)("option",{value:"MTR",children:"MTR"}),(0,at.jsx)("option",{value:"KG",children:"KG"}),(0,at.jsx)("option",{value:"GRS",children:"GRS"}),(0,at.jsx)("option",{value:"LTR",children:"LTR"}),(0,at.jsx)("option",{value:"ML",children:"ML"})]})}),(0,at.jsx)("td",{className:"cell2",children:(0,at.jsx)("textarea",{type:"text",required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.descripcion?null:"invalid"),value:e.descripcion?e.descripcion:"",onChange:function(e){return u(e.target.value.replace("\n",""),t,e.id,"changeInput","descripcion")},placeholder:"descripcion..."})}),(0,at.jsxs)("td",{className:"cell15",children:[(0,at.jsxs)("select",{required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.id_categoria?null:"invalid"),value:e.id_categoria?e.id_categoria:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","id_categoria")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),d.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]}),(0,at.jsx)("br",{}),(0,at.jsxs)("select",{required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.id_proveedor?null:"invalid"),value:e.id_proveedor?e.id_proveedor:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","id_proveedor")},children:[(0,at.jsx)("option",{value:"",children:"--Select--"}),f.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]})]}),(0,at.jsx)("td",{className:"cell05",children:(0,at.jsx)("input",{type:"text",disabled:m(e.type),className:"form-control form-control-sm",value:e.iva?e.iva:"",onChange:function(e){return u(number(e.target.value,2),t,e.id,"changeInput","iva")},placeholder:"iva..."})})]})},t)})):null})})]})}function Hj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qj(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wj(e){var t=e.inputsetclaveadminref,r=e.valinputsetclaveadmin,n=e.setvalinputsetclaveadmin,a=e.closemodalsetclave,i=e.sendClavemodal,s=e.typingTimeout,c=e.setTypingTimeout,l=Hj((0,o.useState)(!1),2),u=l[0],d=l[1],f=Hj((0,o.useState)(""),2),h=f[0],p=f[1];(0,o.useEffect)((function(){t.current&&t.current.focus()}),[]);return D("esc",(function(e){a()}),{filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("section",{className:"modal-custom",children:(0,at.jsxs)("div",{className:"modal-content-supersm shadow-lg",children:[(0,at.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,at.jsxs)("h5",{className:"modal-title",children:[(0,at.jsx)("i",{className:"fa fa-lock text-primary me-2"}),"Acceso Administrativo"]}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:a,"aria-label":"Cerrar"})]}),(0,at.jsx)("div",{className:"modal-body",children:(0,at.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?i():p("Por favor ingrese la clave")},children:[(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label text-muted",children:"Ingrese la clave de administrador"}),(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("input",{type:u?"text":"password",className:"form-control form-control-lg ".concat(h?"is-invalid":""),ref:t,value:r,onChange:function(e){n(e.target.value),function(){0!=s&&clearTimeout(s);var e=window.setTimeout((function(){n(""),p("")}),300);c(e)}(),p("")},onBlur:function(){setTimeout((function(){n("")}),100)},onPaste:function(e){return e.preventDefault(),!1},onCopy:function(e){return e.preventDefault(),!1},onCut:function(e){return e.preventDefault(),!1},onContextMenu:function(e){return e.preventDefault(),!1},onDrag:function(e){return e.preventDefault(),!1},onDrop:function(e){return e.preventDefault(),!1},autoComplete:"new-password",autoSave:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false","data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true","data-bwignore":"true","data-kwignore":"true",placeholder:"Ingrese la clave",autoFocus:!0}),(0,at.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return d(!u)},children:(0,at.jsx)("i",{className:"fa ".concat(u?"fa-eye-slash":"fa-eye")})})]}),h&&(0,at.jsx)("div",{className:"invalid-feedback d-block",children:h})]}),(0,at.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,at.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:"Cancelar"}),(0,at.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,at.jsx)("i",{className:"fa fa-check me-1"}),"Acceder"]})]})]})})]})}),(0,at.jsx)("div",{className:"overlay"}),(0,at.jsx)("style",{jsx:!0,children:"\n                .modal-custom {\n                    position: fixed;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                    z-index: 1050;\n                }\n                .modal-content-supersm {\n                    background: white;\n                    border-radius: 0.5rem;\n                    padding: 1.5rem;\n                    min-width: 400px;\n                }\n                .overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(0, 0, 0, 0.5);\n                    backdrop-filter: blur(4px);\n                    z-index: 1040;\n                }\n                .form-control:focus {\n                    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);\n                }\n                .btn-close:focus {\n                    box-shadow: none;\n                }\n            "})]})}function Yj(e){var t=e.devolucionMotivo,r=e.setdevolucionMotivo,n=(e.devolucion_cantidad_salida,e.setdevolucion_cantidad_salida,e.devolucion_motivo_salida,e.setdevolucion_motivo_salida,e.devolucion_ci_cajero),a=e.setdevolucion_ci_cajero,o=e.devolucion_ci_autorizo,i=e.setdevolucion_ci_autorizo,s=e.devolucion_dias_desdecompra,c=e.setdevolucion_dias_desdecompra,l=e.devolucion_ci_cliente,u=e.setdevolucion_ci_cliente,d=e.devolucion_telefono_cliente,f=e.setdevolucion_telefono_cliente,h=e.devolucion_nombre_cliente,p=e.setdevolucion_nombre_cliente,m=e.devolucion_nombre_cajero,g=e.setdevolucion_nombre_cajero,v=e.devolucion_nombre_autorizo,x=e.setdevolucion_nombre_autorizo,b=e.devolucion_trajo_factura,y=e.setdevolucion_trajo_factura,j=e.devolucion_motivonotrajofact,w=e.setdevolucion_motivonotrajofact,N=e.number,_=e.setviewGarantiaFormato,C=e.addCarritoRequestInterno,E=e.devolucion_numfactoriginal,S=e.setdevolucion_numfactoriginal;return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("section",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,at.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,at.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,at.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"FORMATO DE GARANTÍA"}),(0,at.jsx)("button",{onClick:function(){return _(!1)},className:"text-gray-500 hover:text-red-500 transition-colors",children:(0,at.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,at.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C(null,!1)},className:"p-6 space-y-6",children:[(0,at.jsx)("p",{className:"text-center text-gray-600 font-medium",children:"Explicar DETALLADAMENTE"}),(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,at.jsxs)("div",{className:"col-span-full",children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NÚMERO DE FACTURA ORIGINAL"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:E,required:!0,onChange:function(e){return S(N(e.target.value))}})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CÉDULA CAJERO"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:n,required:!0,onChange:function(e){return a(N(e.target.value))}})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO CAJERO"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:m,required:!0,onChange:function(e){return g(e.target.value)}})]})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CÉDULA AUTORIZÓ"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:o,required:!0,onChange:function(e){return i(N(e.target.value))}})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO AUTORIZÓ"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:v,required:!0,onChange:function(e){return x(e.target.value)}})]})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CÉDULA CLIENTE"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:l,required:!0,onChange:function(e){return u(N(e.target.value))}})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO CLIENTE"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:h,required:!0,onChange:function(e){return p(e.target.value)}})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"TELÉFONO CLIENTE"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:d,required:!0,onChange:function(e){return f(e.target.value)}})]})]})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"MOTIVO DETALLADO"}),(0,at.jsx)("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[100px]",value:t,required:!0,onChange:function(e){return r(e.target.value)}})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"DÍAS TRANSCURRIDOS DESDE LA COMPRA"}),(0,at.jsx)("input",{type:"text",className:"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:s,required:!0,onChange:function(e){return c(N(e.target.value))}})]})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"¿TRAJO FACTURA?"}),(0,at.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",value:b,required:!0,onChange:function(e){return y(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"-"}),(0,at.jsx)("option",{value:"si",children:"SÍ"}),(0,at.jsx)("option",{value:"no",children:"NO"})]})]}),"no"===b&&(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"EN CASO DE NO TENER FACTURA, EXPLIQUE EL MOTIVO"}),(0,at.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:j,required:!0,onChange:function(e){return w(e.target.value)}})]})]}),(0,at.jsx)("div",{className:"flex justify-center pt-4",children:(0,at.jsx)("button",{type:"submit",className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:"ENVIAR"})})]})]})}),(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"})]})}const Xj=function(e){var t=e.steps,r=e.currentStep,n=function(e){return e<r?"completed":e===r?"active":"upcoming"},a=function(e,t){return"completed"===t?(0,at.jsx)("i",{className:"fa fa-check"}):e};return(0,at.jsxs)("div",{className:"step-indicator",children:[(0,at.jsx)("div",{className:"hidden md:block",children:(0,at.jsx)("div",{className:"flex justify-between items-start",children:t.map((function(e,r){return(0,at.jsx)("div",{className:"flex-1 relative",children:(0,at.jsxs)("div",{className:"step-item text-center",children:[r<t.length-1&&(0,at.jsx)("div",{className:"step-line ".concat("completed"===n(e.number)?"completed":"")}),(0,at.jsx)("div",{className:"step-circle ".concat(n(e.number)),title:e.description,children:a(e.number,n(e.number))}),(0,at.jsxs)("div",{className:"step-info",children:[(0,at.jsx)("div",{className:"step-title ".concat("active"===n(e.number)?"text-primary fw-bold":""),children:e.title}),(0,at.jsx)("div",{className:"step-description text-muted small",children:e.description})]})]})},e.number)}))})}),(0,at.jsx)("div",{className:"hidden sm:block md:hidden",children:(0,at.jsx)("div",{className:"flex justify-between items-start",children:t.map((function(e,r){return(0,at.jsx)("div",{className:"flex-1 relative",children:(0,at.jsxs)("div",{className:"step-item text-center",children:[r<t.length-1&&(0,at.jsx)("div",{className:"step-line-tablet ".concat("completed"===n(e.number)?"completed":"")}),(0,at.jsx)("div",{className:"step-circle-tablet ".concat(n(e.number)),title:e.description,children:a(e.number,n(e.number))}),(0,at.jsx)("div",{className:"step-info-tablet",children:(0,at.jsx)("div",{className:"step-title-tablet ".concat("active"===n(e.number)?"text-primary fw-bold":""),children:e.title})})]})},e.number)}))})}),(0,at.jsx)("div",{className:"sm:hidden",children:(0,at.jsx)("div",{className:"flex justify-between items-center",children:t.map((function(e,r){return(0,at.jsx)("div",{className:"flex-1 relative",children:(0,at.jsxs)("div",{className:"step-item-mobile text-center",children:[r<t.length-1&&(0,at.jsx)("div",{className:"step-line-mobile ".concat("completed"===n(e.number)?"completed":"")}),(0,at.jsx)("div",{className:"step-circle-mobile ".concat(n(e.number)),title:e.title,children:a(e.number,n(e.number))}),(0,at.jsx)("div",{className:"step-info-mobile",children:(0,at.jsx)("div",{className:"step-number-mobile ".concat("active"===n(e.number)?"text-primary fw-bold":""),children:e.number})})]})},e.number)}))})}),(0,at.jsx)("style",{jsx:!0,children:"\n                .step-indicator {\n                    position: relative;\n                    padding: 20px 0;\n                }\n\n                /* Desktop Layout */\n                .step-item {\n                    position: relative;\n                    z-index: 1;\n                }\n\n                .step-line {\n                    position: absolute;\n                    top: 25px;\n                    left: 60%;\n                    right: -40%;\n                    height: 2px;\n                    background-color: #dee2e6;\n                    z-index: 0;\n                }\n\n                .step-line.completed {\n                    background-color: #28a745;\n                }\n\n                .step-circle {\n                    width: 50px;\n                    height: 50px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 10px;\n                    font-weight: bold;\n                    font-size: 16px;\n                    border: 2px solid;\n                    background-color: white;\n                    transition: all 0.3s ease;\n                }\n\n                .step-circle.upcoming {\n                    border-color: #dee2e6;\n                    color: #6c757d;\n                    background-color: #f8f9fa;\n                }\n\n                .step-circle.active {\n                    border-color: #007bff;\n                    color: #007bff;\n                    background-color: #fff;\n                    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n                }\n\n                .step-circle.completed {\n                    border-color: #28a745;\n                    color: white;\n                    background-color: #28a745;\n                }\n\n                .step-title {\n                    font-size: 14px;\n                    font-weight: 500;\n                    margin-bottom: 4px;\n                }\n\n                .step-description {\n                    font-size: 12px;\n                    line-height: 1.3;\n                }\n\n                .step-info {\n                    max-width: 120px;\n                    margin: 0 auto;\n                }\n\n                /* Tablet Layout */\n                .step-line-tablet {\n                    position: absolute;\n                    top: 20px;\n                    left: 60%;\n                    right: -40%;\n                    height: 2px;\n                    background-color: #dee2e6;\n                    z-index: 0;\n                }\n\n                .step-line-tablet.completed {\n                    background-color: #28a745;\n                }\n\n                .step-circle-tablet {\n                    width: 40px;\n                    height: 40px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 8px;\n                    font-weight: bold;\n                    font-size: 14px;\n                    border: 2px solid;\n                    background-color: white;\n                    transition: all 0.3s ease;\n                }\n\n                .step-circle-tablet.upcoming {\n                    border-color: #dee2e6;\n                    color: #6c757d;\n                    background-color: #f8f9fa;\n                }\n\n                .step-circle-tablet.active {\n                    border-color: #007bff;\n                    color: #007bff;\n                    background-color: #fff;\n                    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n                }\n\n                .step-circle-tablet.completed {\n                    border-color: #28a745;\n                    color: white;\n                    background-color: #28a745;\n                }\n\n                .step-title-tablet {\n                    font-size: 12px;\n                    font-weight: 500;\n                    line-height: 1.2;\n                }\n\n                .step-info-tablet {\n                    max-width: 80px;\n                    margin: 0 auto;\n                }\n\n                /* Mobile Layout */\n                .step-item-mobile {\n                    position: relative;\n                    z-index: 1;\n                }\n\n                .step-line-mobile {\n                    position: absolute;\n                    top: 15px;\n                    left: 60%;\n                    right: -40%;\n                    height: 2px;\n                    background-color: #dee2e6;\n                    z-index: 0;\n                }\n\n                .step-line-mobile.completed {\n                    background-color: #28a745;\n                }\n\n                .step-circle-mobile {\n                    width: 30px;\n                    height: 30px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 6px;\n                    font-weight: bold;\n                    font-size: 12px;\n                    border: 2px solid;\n                    background-color: white;\n                    transition: all 0.3s ease;\n                }\n\n                .step-circle-mobile.upcoming {\n                    border-color: #dee2e6;\n                    color: #6c757d;\n                    background-color: #f8f9fa;\n                }\n\n                .step-circle-mobile.active {\n                    border-color: #007bff;\n                    color: #007bff;\n                    background-color: #fff;\n                    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n                }\n\n                .step-circle-mobile.completed {\n                    border-color: #28a745;\n                    color: white;\n                    background-color: #28a745;\n                }\n\n                .step-number-mobile {\n                    font-size: 10px;\n                    font-weight: 500;\n                    color: #6c757d;\n                }\n\n                .step-number-mobile.text-primary {\n                    color: #007bff !important;\n                }\n\n                .step-info-mobile {\n                    max-width: 30px;\n                    margin: 0 auto;\n                }\n\n                /* Responsive adjustments */\n                @media (max-width: 640px) {\n                    .step-indicator {\n                        padding: 15px 0;\n                    }\n                    \n                    .step-circle-mobile {\n                        width: 28px;\n                        height: 28px;\n                        font-size: 11px;\n                    }\n                    \n                    .step-line-mobile {\n                        top: 14px;\n                    }\n                }\n            "})]})};function $j(e){return $j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$j(e)}function Qj(){Qj=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==$j(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError($j(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(r),!0).forEach((function(t){Jj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=$j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ew(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function tw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ew(o,n,a,i,s,"next",e)}function s(e){ew(o,n,a,i,s,"throw",e)}i(void 0)}))}}function rw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const aw=function(e){var t=e.formData,r=e.updateNestedFormData,n=e.errors,a=e.db,i=rw((0,o.useState)("cliente"),2),s=i[0],c=i[1],l=rw((0,o.useState)({}),2),u=l[0],d=l[1],f=rw((0,o.useState)({}),2),h=f[0],p=f[1],m=rw((0,o.useState)({}),2),g=m[0],v=m[1],x=rw((0,o.useState)({}),2),b=x[0],y=x[1],j=rw((0,o.useState)({}),2),w=j[0],N=j[1],_=5!==t.caso_uso,C=[{id:"cliente",label:"Cliente",icon:"fa-user",disabled:!_},{id:"cajero",label:"Cajero",icon:"fa-cash-register",disabled:!1},{id:"supervisor",label:"Supervisor",icon:"fa-user-shield",disabled:!1},{id:"dici",label:"DICI",icon:"fa-user-cog",disabled:!1}];(0,o.useEffect)((function(){var e={};C.forEach((function(t){t.disabled||(e[t.id]=!0)})),d(e)}),[]);var E=function(){var e=tw(Qj().mark((function e(t,r){var n,o;return Qj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!(r.length<2)){e.next=3;break}return p((function(e){return Kj(Kj({},e),{},Jj({},t,[]))})),e.abrupt("return");case 3:return y((function(e){return Kj(Kj({},e),{},Jj({},t,!0))})),e.prev=4,e.next=7,a.searchResponsables({tipo:t,termino:r,limit:10});case 7:n=e.sent,200===(o=n.data).status?p((function(e){return Kj(Kj({},e),{},Jj({},t,o.data||[]))})):p((function(e){return Kj(Kj({},e),{},Jj({},t,[]))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),p((function(e){return Kj(Kj({},e),{},Jj({},t,[]))}));case 15:return e.prev=15,y((function(e){return Kj(Kj({},e),{},Jj({},t,!1))})),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=tw(Qj().mark((function e(n){var o,i,s;return Qj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=t[n]).nombre&&o.apellido&&o.cedula){e.next=4;break}return alert("Por favor complete los campos obligatorios (nombre, apellido y cédula)"),e.abrupt("return");case 4:return N((function(e){return Kj(Kj({},e),{},Jj({},n,!0))})),e.prev=5,e.next=8,a.saveResponsable({tipo:n,nombre:o.nombre,apellido:o.apellido,cedula:o.cedula,telefono:o.telefono||"",correo:o.correo||"",direccion:o.direccion||""});case 8:i=e.sent,200===(s=i.data).status?(r(n,"id",s.data.id),alert("Responsable guardado exitosamente")):alert("Error al guardar responsable: "+s.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),alert("Error al guardar responsable");case 16:return e.prev=16,N((function(e){return Kj(Kj({},e),{},Jj({},n,!1))})),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){d((function(t){return Kj(Kj({},t),{},Jj({},e,!t[e]))})),["id","nombre","apellido","cedula","telefono","correo","direccion"].forEach((function(t){r(e,t,"")})),v((function(t){return Kj(Kj({},t),{},Jj({},e,""))})),p((function(t){return Kj(Kj({},t),{},Jj({},e,[]))}))},I=function(e){var t;return(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsxs)("label",{className:"form-label",children:["Buscar ",null===(t=C.find((function(t){return t.id===e})))||void 0===t?void 0:t.label]}),(0,at.jsxs)("div",{className:"input-group",children:[(0,at.jsx)("input",{type:"text",className:"form-control",value:g[e]||"",onChange:function(t){return function(e,t){v((function(r){return Kj(Kj({},r),{},Jj({},e,t))}))}(e,t.target.value)},onKeyPress:function(t){return function(e,t){"Enter"===e.key&&(e.preventDefault(),E(t,g[t]))}(t,e)},placeholder:"Buscar por nombre, apellido o cédula... (Presiona Enter)"}),(0,at.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return function(e){E(e,g[e])}(e)},disabled:b[e]||!g[e]||g[e].length<2,children:b[e]?(0,at.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Buscando..."})}):(0,at.jsx)("i",{className:"fa fa-search"})})]}),h[e]&&h[e].length>0&&(0,at.jsxs)("div",{className:"mt-2",children:[(0,at.jsxs)("small",{className:"text-muted",children:["Resultados encontrados (",h[e].length,"):"]}),(0,at.jsx)("div",{className:"list-group mt-1",children:h[e].map((function(t,n){return(0,at.jsx)("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(){return function(e,t){r(e,"id",t.id),r(e,"nombre",t.nombre),r(e,"apellido",t.apellido),r(e,"cedula",t.cedula),r(e,"telefono",t.telefono||""),r(e,"correo",t.correo||""),r(e,"direccion",t.direccion||""),r(e,"tipo",t.tipo),v((function(t){return Kj(Kj({},t),{},Jj({},e,""))})),p((function(t){return Kj(Kj({},t),{},Jj({},e,[]))}))}(e,t)},children:(0,at.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h6",{className:"mb-1",children:[t.nombre," ",t.apellido]}),(0,at.jsxs)("p",{className:"mb-1 text-muted",children:["CI: ",t.cedula]}),t.telefono&&(0,at.jsxs)("small",{children:["Tel: ",t.telefono]})]}),(0,at.jsx)("small",{className:"text-muted",children:t.tipo})]})},t.id||n)}))})]}),g[e]&&g[e].length>=2&&h[e]&&0===h[e].length&&!b[e]&&(0,at.jsxs)("div",{className:"alert alert-info mt-2",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),'No se encontraron responsables con "',g[e],'"']})]})},O=function(e,t,a,o){var i,s=function(t){return n["".concat(e,"_").concat(t)]},c=t.id&&!u[e];return(0,at.jsxs)("div",{className:"person-form",children:[(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsx)("h5",{className:"text-primary mb-2",children:a}),(0,at.jsx)("p",{className:"text-muted small",children:o})]}),(i=e,(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,at.jsxs)("button",{type:"button",className:"btn ".concat(u[i]?"btn-primary":"btn-outline-primary"),onClick:function(){return u[i]||A(i)},children:[(0,at.jsx)("i",{className:"fa fa-plus me-2"}),"Crear Nuevo"]}),(0,at.jsxs)("button",{type:"button",className:"btn ".concat(u[i]?"btn-outline-success":"btn-success"),onClick:function(){return!u[i]||A(i)},children:[(0,at.jsx)("i",{className:"fa fa-search me-2"}),"Seleccionar Existente"]})]})})),!u[e]&&I(e),(0,at.jsxs)("div",{className:"".concat(c?"border rounded p-3 bg-light":""),children:[c&&(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsxs)("span",{className:"badge bg-success",children:[(0,at.jsx)("i",{className:"fa fa-check me-1"}),"Responsable Seleccionado"]})}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("label",{className:"form-label",children:["Nombre ",(0,at.jsx)("span",{className:"text-danger",children:"*"})]}),(0,at.jsx)("input",{type:"text",className:"form-control ".concat(s("nombre")?"is-invalid":""),value:t.nombre||"",onChange:function(t){return r(e,"nombre",t.target.value)},placeholder:"Ingrese el nombre",readOnly:c}),s("nombre")&&(0,at.jsx)("div",{className:"invalid-feedback",children:s("nombre")})]})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("label",{className:"form-label",children:["Apellido ",(0,at.jsx)("span",{className:"text-danger",children:"*"})]}),(0,at.jsx)("input",{type:"text",className:"form-control ".concat(s("apellido")?"is-invalid":""),value:t.apellido||"",onChange:function(t){return r(e,"apellido",t.target.value)},placeholder:"Ingrese el apellido",readOnly:c}),s("apellido")&&(0,at.jsx)("div",{className:"invalid-feedback",children:s("apellido")})]})})]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("label",{className:"form-label",children:["Cédula ",(0,at.jsx)("span",{className:"text-danger",children:"*"})]}),(0,at.jsx)("input",{type:"text",className:"form-control ".concat(s("cedula")?"is-invalid":""),value:t.cedula||"",onChange:function(t){return r(e,"cedula",t.target.value)},placeholder:"Ej: 12345678",readOnly:c}),s("cedula")&&(0,at.jsx)("div",{className:"invalid-feedback",children:s("cedula")})]})}),"cliente"===e&&(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Teléfono"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:t.telefono||"",onChange:function(t){return r(e,"telefono",t.target.value)},placeholder:"Ej: 04241234567",readOnly:c})]})})]}),"cliente"===e&&(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Correo Electrónico"}),(0,at.jsx)("input",{type:"email",className:"form-control",value:t.correo||"",onChange:function(t){return r(e,"correo",t.target.value)},placeholder:"ejemplo@correo.com",readOnly:c})]})}),(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Dirección"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:t.direccion||"",onChange:function(t){return r(e,"direccion",t.target.value)},placeholder:"Dirección completa",readOnly:c})]})})]})}),(0,at.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,at.jsx)("div",{children:c&&(0,at.jsxs)("button",{type:"button",className:"btn btn-outline-sinapsis",onClick:function(){return A(e)},children:[(0,at.jsx)("i",{className:"fa fa-edit me-2"}),"Cambiar Selección"]})}),(0,at.jsx)("div",{children:u[e]&&t.nombre&&t.apellido&&t.cedula&&(0,at.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return S(e)},disabled:w[e],children:w[e]?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Guardando..."})}),"Guardando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-save me-2"}),"Guardar Responsable"]})})})]})]})]})},T=function(e,t){if(!t.nombre||!t.cedula)return(0,at.jsx)("span",{className:"text-muted",children:"Sin completar"});var r=t.id&&!u[e];return(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("i",{className:"fa ".concat(r?"fa-database":"fa-check-circle"," text-success me-2")}),(0,at.jsxs)("span",{children:[t.nombre," ",t.apellido," - ",t.cedula]}),r&&(0,at.jsx)("small",{className:"text-muted ms-2",children:"(Guardado)"})]})};return(0,at.jsxs)("div",{className:"responsables-step",children:[(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsxs)("h4",{className:"text-primary mb-3",children:[(0,at.jsx)("i",{className:"fa fa-users me-2"}),"Información de Responsables"]}),(0,at.jsx)("p",{className:"text-muted",children:"Seleccione responsables existentes o registre nuevos. La información se guarda en el sistema central para uso futuro."})]}),!_&&(0,at.jsxs)("div",{className:"alert alert-warning mb-4",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),(0,at.jsx)("strong",{children:"Producto dañado interno:"})," No se requiere información del cliente para este caso."]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-3",children:(0,at.jsx)("div",{className:"nav flex-column nav-pills",role:"tablist",children:C.map((function(e){return(0,at.jsxs)("button",{className:"nav-link text-start ".concat(s===e.id?"active":""," ").concat(e.disabled?"disabled":""),onClick:function(){return!e.disabled&&c(e.id)},type:"button",disabled:e.disabled,children:[(0,at.jsx)("i",{className:"fa ".concat(e.icon," me-2")}),e.label,(0,at.jsx)("div",{className:"mt-1",children:e.disabled?(0,at.jsx)("small",{className:"text-muted",children:"No requerido"}):(0,at.jsx)("small",{children:T(e.id,t[e.id])})})]},e.id)}))})}),(0,at.jsx)("div",{className:"col-md-9",children:(0,at.jsx)("div",{className:"card",children:(0,at.jsxs)("div",{className:"card-body",children:["cliente"===s&&_&&O("cliente",t.cliente,"Datos del Cliente","Persona que solicita la garantía o devolución"),"cliente"===s&&!_&&(0,at.jsxs)("div",{className:"text-center text-muted py-5",children:[(0,at.jsx)("i",{className:"fa fa-ban fa-3x mb-3"}),(0,at.jsx)("h6",{children:"No se requiere información del cliente"}),(0,at.jsx)("p",{children:"Para el caso de producto dañado interno no hay cliente involucrado"})]}),"cajero"===s&&O("cajero",t.cajero,"Datos del Cajero","Persona que atiende la solicitud en caja"),"supervisor"===s&&O("supervisor",t.supervisor,"Datos del Supervisor","Supervisor que autoriza la garantía o devolución"),"dici"===s&&O("dici",t.dici,"Datos del DICI","Persona del departamento de inventario y control interno")]})})})]}),(0,at.jsxs)("div",{className:"card mt-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-list me-2"}),"Resumen de Responsables"]})}),(0,at.jsx)("div",{className:"card-body",children:(0,at.jsx)("div",{className:"row",children:C.map((function(e){return(0,at.jsx)("div",{className:"col-md-6 mb-3",children:(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("div",{className:"me-3",children:(0,at.jsx)("i",{className:"fa ".concat(e.icon," text-muted")})}),(0,at.jsxs)("div",{className:"flex-grow-1",children:[(0,at.jsxs)("strong",{children:[e.label,":"]}),(0,at.jsx)("div",{className:"small",children:e.disabled?(0,at.jsx)("span",{className:"text-muted",children:"No requerido"}):T(e.id,t[e.id])})]})]})},e.id)}))})})]}),Object.keys(n).some((function(e){return e.includes("_")}))&&(0,at.jsxs)("div",{className:"alert alert-danger mt-3",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),(0,at.jsx)("strong",{children:"Hay errores en los datos:"}),(0,at.jsx)("ul",{className:"mb-0 mt-2",children:Object.entries(n).filter((function(e){return rw(e,1)[0].includes("_")})).map((function(e){var t=rw(e,2),r=t[0],n=t[1];return(0,at.jsx)("li",{children:n},r)}))})]})]})};function ow(e){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(e)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iw(Object(r),!0).forEach((function(t){cw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ow(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ow(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lw(){lw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ow(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ow(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function uw(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function dw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){uw(o,n,a,i,s,"next",e)}function s(e){uw(o,n,a,i,s,"throw",e)}i(void 0)}))}}function fw(e){return function(e){if(Array.isArray(e))return mw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||pw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pw(e,t){if(e){if("string"==typeof e)return mw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mw(e,t):void 0}}function mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const gw=function(e){var t=e.onCarritoChange,r=e.onValidacionChange,n=(e.factura,e.sucursalConfig),a=void 0===n?null:n,i=e.initialData,s=void 0===i?null:i,c=e.db,l=void 0===c?null:c,u=(e.metodosPagoConfigurados,e.tasasCambio,e.modoValidacion,e.productosFacturados),d=void 0===u?[]:u,f=e.modoTrasladoInterno,h=void 0!==f&&f,p=hw((0,o.useState)([]),2),m=p[0],g=p[1],v=hw((0,o.useState)([]),2),x=v[0],b=v[1],y=hw((0,o.useState)(""),2),j=y[0],w=y[1],N=hw((0,o.useState)("descripcion"),2),_=N[0],C=(N[1],hw((0,o.useState)([]),2)),E=C[0],S=C[1],A=hw((0,o.useState)(!1),2),I=A[0],O=A[1],T=hw((0,o.useState)(!1),2),P=T[0],k=T[1],D=hw((0,o.useState)({caso_uso:null,descripcion_caso:"",diferencia_pago:0,balance_tipo:"equilibrio",total_entradas:0,total_salidas:0,productos_entrada:0,productos_salida:0,errores:[]}),2),M=D[0],R=D[1];(0,o.useEffect)((function(){s&&(s.entradas&&g(s.entradas),s.salidas&&b(s.salidas))}),[s]),(0,o.useEffect)((function(){m.length>0||x.length>0?U():L()}),[m,x]);var F=(0,o.useCallback)((function(){var e={entradas:m,salidas:x,resumen:M,total_productos:m.length+x.length},n=m.length>0||x.length>0,a=fw(M.errores);t&&t(e),r&&r({esValido:0===a.length&&n,errores:a,requiereMetodosPago:!1,diferencia_pago:M.diferencia_pago})}),[m,x,M.caso_uso,M.diferencia_pago,M.errores,M]);(0,o.useEffect)((function(){(m.length>0||x.length>0)&&F()}),[F]);var L=function(){R({caso_uso:null,descripcion_caso:"",diferencia_pago:0,balance_tipo:"equilibrio",total_entradas:0,total_salidas:0,productos_entrada:0,productos_salida:0,errores:[]})},B=function(){var e=dw(lw().mark((function e(t){var r,n,o,i,s,c,u=arguments;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"descripcion",t&&!(t.length<2)){e.next=4;break}return S([]),e.abrupt("return");case 4:if(l&&l.searchProductosInventario){e.next=8;break}return console.error("Base de datos no disponible o función searchProductosInventario no encontrada"),S([]),e.abrupt("return");case 8:return O(!0),e.prev=9,n={term:t,field:r,sucursal_id:(null==a?void 0:a.id)||null},e.next=13,l.searchProductosInventario(n);case 13:o=e.sent,200===(i=o.data).status&&i.data?(h?s=i.data:(c=[].concat(fw(m),fw(x)),s=i.data.filter((function(e){return!c.some((function(t){return t.id===e.id}))}))),S(s)):S([]),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),console.error("Error al buscar productos:",e.t0),S([]);case 22:return e.prev=22,O(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[9,18,22,25]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=dw(lw().mark((function e(){var t,r,n,a,o,i,s,c,l,u,d,f,p,g,v,b;return lw().wrap((function(e){for(var y,j=function(){switch(e.prev=e.next){case 0:if(0!==m.length||0!==x.length){e.next=2;break}return{v:e.abrupt("return")};case 2:k(!0);try{t=m.reduce((function(e,t){return e+parseFloat(t.precio)*parseInt(t.cantidad)}),0),r=x.reduce((function(e,t){return e+parseFloat(t.precio)*parseInt(t.cantidad)}),0),a="equilibrio",(n=t-r)>.01?a="favor_cliente":n<-.01&&(a="favor_empresa"),o=1,i="Garantía Simple",s=m.some((function(e){return"DAÑADO"===e.estado})),c=m.some((function(e){return"BUENO"===e.estado})),l=x.length>0,u=Math.abs(n)>.01,s&&c?(o=5,i="Caso Mixto - Garantías y devoluciones combinadas"):s&&!c?l&&!u?(o=1,i="Garantía Simple - Intercambio directo"):l&&u?(o=2,i="Garantía con Diferencia de Pago"):!l&&u?(o=4,i="Garantía - Devolución de Dinero"):(o=1,i="Garantía - Caso no definido"):c&&!s?l&&!u?(o=3,i="Devolución - Producto por Producto"):l&&u?(o=3,i="Devolución - Con Diferencia de Pago"):!l&&u?(o=4,i="Devolución - Reembolso de Dinero"):(o=3,i="Devolución - Caso no definido"):(o=1,i="Sin productos de entrada"),d=[],h&&m.length>0&&x.length>0&&(f=m.map((function(e){return e.id})).sort(),p=x.map((function(e){return e.id})).sort(),JSON.stringify(f)!==JSON.stringify(p)&&d.push("En traslados internos, el producto que entra debe ser el mismo que sale"),g=m.reduce((function(e,t){return e+t.cantidad}),0),v=x.reduce((function(e,t){return e+t.cantidad}),0),g!==v&&d.push("En traslados internos, la cantidad que entra debe ser igual a la que sale")),0===m.length&&d.push("Debe agregar al menos un producto de entrada (garantía o devolución)"),1===o&&(s||d.push("Garantía Simple requiere productos dañados de entrada"),l||d.push("Garantía Simple requiere productos de salida (intercambio)"),u&&d.push("Garantía Simple no debe tener diferencia de pago significativa")),2===o&&(s||d.push("Garantía con Diferencia requiere productos dañados de entrada"),l||d.push("Garantía con Diferencia requiere productos de salida"),u||d.push("Garantía con Diferencia requiere diferencia de pago")),3===o&&(c||d.push("Devolución requiere productos en buen estado de entrada"),s&&d.push("Devolución no debe incluir productos dañados (use caso mixto)")),4===o&&(0===m.length&&d.push("Devolución de dinero requiere productos de entrada"),l&&d.push("Devolución de dinero no debe incluir productos de salida"),u||d.push("Devolución de dinero requiere diferencia de pago")),5===o&&(s&&c||d.push("Caso Mixto requiere productos dañados Y productos buenos de entrada")),b={caso_uso:o,descripcion_caso:i,diferencia_pago:n,balance_tipo:a,total_entradas:t,total_salidas:r,productos_entrada:m.length,productos_salida:x.length,errores:d},R(b)}catch(e){console.error("Error procesando carrito:",e),R((function(t){return sw(sw({},t),{},{errores:["Error procesando carrito: "+e.message]})}))}finally{k(!1)}case 4:case"end":return{v:e.stop()}}};;)if(y=j())return y.v}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BUENO";if("entrada"===t&&!h){if(!d||0===d.length)return void alert("⚠️ No se pueden procesar entradas\n\nNo hay información de productos facturados disponible.\n\nPor favor valide la factura primero.");var a=d.find((function(t){return t.id===e.id}));if(!a)return void alert('⚠️ Producto no válido para garantía/devolución\n\nEl producto "'.concat(e.descripcion,'" no se encuentra en la factura original.\n\n✅ Solo se pueden procesar productos que fueron facturados originalmente.'));var o=a.cantidad,i=m.filter((function(t){return t.id===e.id})).reduce((function(e,t){return e+t.cantidad}),0);if(i>=o)return void alert("⚠️ Cantidad máxima alcanzada\n\nYa se ha agregado la cantidad máxima disponible de este producto.\n\nCantidad facturada: ".concat(o,"\nCantidad ya agregada: ").concat(i))}if("salida"===t&&h&&!m.find((function(t){return t.id===e.id&&"DAÑADO"===t.estado})))return void alert('⚠️ Producto no disponible para salida\n\nEn traslados internos, primero debe agregar "'.concat(e.descripcion,'" como producto dañado en la entrada antes de poder agregarlo como salida.'));var s=parseFloat(e.precio)||0,c={id:e.id,descripcion:e.descripcion,codigo_barras:e.codigo_barras||"",codigo_proveedor:e.codigo_proveedor||"",precio:s,precio_original:s,stock_disponible:parseInt(e.stock)||0,cantidad:1,estado:n,subtotal:s,tipo:t,categoria:e.categoria||"",proveedor:e.proveedor||"",cantidad_facturada:"entrada"===t?(null===(r=d.find((function(t){return t.id===e.id})))||void 0===r?void 0:r.cantidad)||0:null};"entrada"===t?g((function(e){return[].concat(fw(e),[c])})):b((function(e){return[].concat(fw(e),[c])})),w(""),S([])},V=function(e,t,r){var n=Math.max(1,parseInt(r)||1);if("entrada"===t){var a=d.find((function(t){return t.id===e}));if(a){var o=a.cantidad,i=m.filter((function(t){return t.id===e&&t!==m.find((function(t){return t.id===e}))})).reduce((function(e,t){return e+t.cantidad}),0);if(n+i>o)return void alert("⚠️ Cantidad excede la facturada\n\nNo puede agregar más de ".concat(o," unidades de este producto.\n\nCantidad facturada: ").concat(o))}}"entrada"===t?g((function(t){return t.map((function(t){return t.id===e?sw(sw({},t),{},{cantidad:n,subtotal:t.precio*n}):t}))})):b((function(t){return t.map((function(t){return t.id===e?sw(sw({},t),{},{cantidad:n,subtotal:t.precio*n}):t}))}))},G=function(e,t){"entrada"===t?g((function(t){return t.filter((function(t){return t.id!==e}))})):b((function(t){return t.filter((function(t){return t.id!==e}))}))};return(0,at.jsxs)("div",{className:"carrito-dinamico space-y-6",children:[(0,at.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[(0,at.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"🔍 Buscar y Agregar Productos"}),h?(0,at.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 mb-4",children:(0,at.jsxs)("div",{className:"flex",children:[(0,at.jsx)("div",{className:"flex-shrink-0",children:(0,at.jsx)("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,at.jsxs)("div",{className:"ml-3",children:[(0,at.jsxs)("p",{className:"text-sm text-orange-700 mb-2",children:[(0,at.jsx)("strong",{children:"🔄 Modo Traslado Interno Activado:"})," No se requiere validación de factura."]}),(0,at.jsxs)("div",{className:"text-xs text-orange-600 space-y-1",children:[(0,at.jsx)("p",{children:(0,at.jsx)("strong",{children:"Instrucciones:"})}),(0,at.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,at.jsxs)("li",{children:["1. Busque y agregue el producto ",(0,at.jsx)("strong",{children:"dañado"})," en la entrada (botón amarillo)"]}),(0,at.jsxs)("li",{children:["2. Luego agregue el mismo producto ",(0,at.jsx)("strong",{children:"bueno"})," en la salida (botón verde)"]}),(0,at.jsx)("li",{children:"3. El sistema validará que sea el mismo producto y cantidades equilibradas"})]})]})]})]})}):d&&0!==d.length?l?(0,at.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3 mb-4",children:(0,at.jsxs)("div",{className:"flex",children:[(0,at.jsx)("div",{className:"flex-shrink-0",children:(0,at.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,at.jsx)("div",{className:"ml-3",children:(0,at.jsxs)("p",{className:"text-sm text-green-700",children:[(0,at.jsx)("strong",{children:"✅ Factura validada:"})," ",d.length," producto",1!==d.length?"s":""," disponible",1!==d.length?"s":""," para procesar."]})})]})}):(0,at.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,at.jsxs)("div",{className:"flex",children:[(0,at.jsx)("div",{className:"flex-shrink-0",children:(0,at.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,at.jsx)("div",{className:"ml-3",children:(0,at.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,at.jsx)("strong",{children:"Base de datos no disponible."})," Verifique la conexión."]})})]})}):(0,at.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 mb-4",children:(0,at.jsxs)("div",{className:"flex",children:[(0,at.jsx)("div",{className:"flex-shrink-0",children:(0,at.jsx)("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,at.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,at.jsx)("div",{className:"ml-3",children:(0,at.jsxs)("p",{className:"text-sm text-orange-700",children:[(0,at.jsx)("strong",{children:"⚠️ Debe validar una factura primero"})," para procesar garantías/devoluciones."]})})]})}),(0,at.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:(0,at.jsxs)("div",{className:"md:col-span-4",children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Buscar Producto ",(0,at.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,at.jsx)("input",{type:"text",value:j,onChange:function(e){var t=e.target.value;w(t),B(t,_)},placeholder:l?"Escriba el nombre del producto...":"Base de datos no disponible",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(l?"border-gray-300 focus:ring-blue-500":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),disabled:!l})]})}),(0,at.jsxs)("div",{className:"relative",children:[I&&(0,at.jsxs)("div",{className:"text-center py-4",children:[(0,at.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando productos..."})]}),!I&&j.length>=2&&0===E.length&&(0,at.jsx)("div",{className:"text-center py-4",children:(0,at.jsx)("div",{className:"text-gray-500",children:(0,at.jsxs)("p",{children:['No se encontraron productos que coincidan con "',j,'"']})})}),E.length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Resultados de búsqueda (",E.length,"):"]}),I?(0,at.jsxs)("div",{className:"p-4 text-center",children:[(0,at.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando productos..."})]}):0===E.length?j.length>=2?(0,at.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,at.jsx)("p",{children:"No se encontraron productos"})}):null:(0,at.jsx)("div",{className:"border rounded-lg shadow-lg bg-white max-h-80 overflow-y-auto",children:E.map((function(e){var t=h?null:d.find((function(t){return t.id===e.id})),r=!!h||!!t,n=(null==t?void 0:t.cantidad)||0,a=h?m.find((function(t){return t.id===e.id&&"DAÑADO"===t.estado})):null,o=!h||!!a;return(0,at.jsxs)("div",{className:"p-3 border-b hover:bg-gray-50 ".concat(r?"":"bg-gray-50"),children:[(0,at.jsxs)("div",{className:"hidden md:flex justify-between items-start",children:[(0,at.jsxs)("div",{className:"flex-1",children:[(0,at.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,at.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.descripcion}),h?(0,at.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full whitespace-nowrap",children:"🔄 Traslado interno"}):r?(0,at.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full whitespace-nowrap",children:"✅ En factura"}):(0,at.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full whitespace-nowrap",children:"❌ No facturado"})]}),(0,at.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.codigo_barras&&(0,at.jsxs)("span",{children:["CB: ",e.codigo_barras," | "]}),e.codigo_proveedor&&(0,at.jsxs)("span",{children:["CP: ",e.codigo_proveedor," | "]}),"Categoría: ",e.categoria||"Sin categoría"]}),(0,at.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Precio: $",(parseFloat(e.precio)||0).toFixed(2)," | Stock: ",e.stock||"N/A",!h&&r&&(0,at.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["| Facturado: ",n," uds"]}),h&&a&&(0,at.jsx)("span",{className:"ml-2 text-orange-600 font-medium",children:"| Ya agregado como dañado"})]})]}),(0,at.jsxs)("div",{className:"flex space-x-2 ml-4 flex-shrink-0",children:[(0,at.jsx)("button",{onClick:function(){return z(e,"entrada","DAÑADO")},disabled:!r,className:"px-3 py-1 rounded text-sm transition-colors whitespace-nowrap ".concat(r?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto dañado (traslado interno)":r?"Agregar como producto dañado (garantía)":"Producto no disponible - No está en la factura",children:"Producto dañado"}),(0,at.jsx)("button",{onClick:function(){return z(e,"entrada","BUENO")},disabled:!r,className:"px-3 py-1 rounded text-sm transition-colors whitespace-nowrap ".concat(r?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto bueno (traslado interno)":r?"Agregar como producto bueno (devolución)":"Producto no disponible - No está en la factura",children:"Producto bueno"}),(0,at.jsx)("button",{onClick:function(){return z(e,"salida","BUENO")},disabled:h&&!o,className:"px-3 py-1 rounded text-sm transition-colors whitespace-nowrap ".concat(h&&!o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"),title:h&&!o?"Primero debe agregar este producto como dañado en la entrada":"Agregar como producto a entregar",children:"Producto a entregar"})]})]}),(0,at.jsxs)("div",{className:"md:hidden",children:[(0,at.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,at.jsx)("div",{className:"flex-1 min-w-0",children:(0,at.jsx)("p",{className:"font-medium text-gray-900 text-sm leading-tight",children:e.descripcion})}),(0,at.jsx)("div",{className:"ml-2 flex-shrink-0",children:h?(0,at.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full whitespace-nowrap",children:"🔄 Traslado"}):r?(0,at.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full whitespace-nowrap",children:"✅ Factura"}):(0,at.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full whitespace-nowrap",children:"❌ No facturado"})})]}),(0,at.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,at.jsxs)("div",{className:"text-xs text-gray-600",children:[e.codigo_barras&&(0,at.jsxs)("span",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,at.jsxs)("span",{className:"ml-2",children:["CP: ",e.codigo_proveedor]})]}),(0,at.jsxs)("div",{className:"text-xs text-gray-500",children:["Categoría: ",e.categoria||"Sin categoría"]}),(0,at.jsxs)("div",{className:"text-xs text-gray-500",children:["Precio: $",(parseFloat(e.precio)||0).toFixed(2)," | Stock: ",e.stock||"N/A",!h&&r&&(0,at.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["| Facturado: ",n," uds"]}),h&&a&&(0,at.jsx)("span",{className:"ml-2 text-orange-600 font-medium",children:"| Ya agregado como dañado"})]})]}),(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("button",{onClick:function(){return z(e,"entrada","DAÑADO")},disabled:!r,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(r?"bg-yellow-500 text-white hover:bg-yellow-600 active:bg-yellow-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto dañado (traslado interno)":r?"Agregar como producto dañado (garantía)":"Producto no disponible - No está en la factura",children:"🟡 Producto dañado"}),(0,at.jsx)("button",{onClick:function(){return z(e,"entrada","BUENO")},disabled:!r,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(r?"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto bueno (traslado interno)":r?"Agregar como producto bueno (devolución)":"Producto no disponible - No está en la factura",children:"🔵 Producto bueno"}),(0,at.jsx)("button",{onClick:function(){return z(e,"salida","BUENO")},disabled:h&&!o,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(h&&!o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600 active:bg-green-700"),title:h&&!o?"Primero debe agregar este producto como dañado en la entrada":"Agregar como producto a entregar",children:"🟢 Producto a entregar"})]})]})]},e.id)}))})]})]})]}),(0,at.jsxs)("div",{className:"space-y-6",children:[(0,at.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,at.jsx)("h3",{className:"font-semibold text-yellow-800 mb-4",children:"📥 ENTRADAS - Lo que recibe la empresa"}),0===m.length?(0,at.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,at.jsx)("p",{children:"No hay productos en ENTRADAS"}),(0,at.jsx)("p",{className:"text-sm",children:'Use los botones "Producto dañado" o "Producto bueno" para agregar productos'})]}):(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,at.jsx)("thead",{className:"bg-yellow-100",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Producto"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Códigos"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Estado"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Cantidad"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Precio Unit."}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Subtotal"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Acciones"})]})}),(0,at.jsx)("tbody",{children:m.map((function(e){return(0,at.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"font-medium text-gray-900",children:e.descripcion}),(0,at.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{className:"text-sm text-gray-600",children:[e.codigo_barras&&(0,at.jsxs)("div",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,at.jsxs)("div",{children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,at.jsx)("div",{className:"text-gray-400",children:"Sin códigos"})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{className:"text-sm",children:[(0,at.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat("DAÑADO"===e.estado?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.estado}),(0,at.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"DAÑADO"===e.estado?"Garantía":"Devolución"})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,at.jsx)("input",{type:"number",value:e.cantidad,onChange:function(t){return V(e.id,"entrada",t.target.value)},className:"w-16 px-2 py-1 border rounded text-center text-sm",min:"1"})}),(0,at.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-medium",children:["$",(parseFloat(e.precio)||0).toFixed(2)]}),(0,at.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,at.jsx)("button",{onClick:function(){return G(e.id,"entrada")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Eliminar producto",children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)}))})]})})]}),(0,at.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,at.jsx)("h3",{className:"font-semibold text-green-800 mb-4",children:"📤 SALIDAS - Lo que entrega la empresa"}),0===x.length?(0,at.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,at.jsx)("p",{children:"No hay productos en SALIDAS"}),(0,at.jsx)("p",{className:"text-sm",children:'Use el botón "Entregar Producto" para agregar productos'})]}):(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,at.jsx)("thead",{className:"bg-green-100",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Producto"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Códigos"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Estado"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Cantidad"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Precio Unit."}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Subtotal"}),(0,at.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Acciones"})]})}),(0,at.jsx)("tbody",{children:x.map((function(e){return(0,at.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"font-medium text-gray-900",children:e.descripcion}),(0,at.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{className:"text-sm text-gray-600",children:[e.codigo_barras&&(0,at.jsxs)("div",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,at.jsxs)("div",{children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,at.jsx)("div",{className:"text-gray-400",children:"Sin códigos"})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,at.jsxs)("div",{className:"text-sm",children:[(0,at.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.estado}),(0,at.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"A entregar"})]})}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,at.jsx)("input",{type:"number",value:e.cantidad,onChange:function(t){return V(e.id,"salida",t.target.value)},className:"w-16 px-2 py-1 border rounded text-center text-sm",min:"1"})}),(0,at.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-medium",children:["$",(parseFloat(e.precio)||0).toFixed(2)]}),(0,at.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]}),(0,at.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,at.jsx)("button",{onClick:function(){return G(e.id,"salida")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Eliminar producto",children:(0,at.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,at.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)}))})]})})]})]}),(0,at.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,at.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"📊 Resumen del Carrito"}),P&&(0,at.jsxs)("div",{className:"text-center py-4",children:[(0,at.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Procesando carrito..."})]}),!P&&(0,at.jsxs)("div",{className:"space-y-3",children:[M.caso_uso&&(0,at.jsx)("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded",children:(0,at.jsxs)("p",{className:"text-sm font-medium text-blue-700",children:["🎯 Caso ",M.caso_uso,": ",M.descripcion_caso]})}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-600",children:"Total Entradas"}),(0,at.jsxs)("p",{className:"font-semibold",children:["$",(parseFloat(M.total_entradas)||0).toFixed(2)]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{className:"text-sm text-gray-600",children:"Total Salidas"}),(0,at.jsxs)("p",{className:"font-semibold",children:["$",(parseFloat(M.total_salidas)||0).toFixed(2)]})]})]}),(0,at.jsx)("div",{className:"p-3 rounded ".concat("equilibrio"===M.balance_tipo?"bg-green-50":"favor_cliente"===M.balance_tipo?"bg-blue-50":"bg-yellow-50"),children:(0,at.jsx)("div",{className:"flex justify-between items-center",children:(0,at.jsxs)("div",{children:[(0,at.jsxs)("p",{className:"text-sm font-medium",children:["equilibrio"===M.balance_tipo&&"⚖️ Balance equilibrado","favor_cliente"===M.balance_tipo&&"💰 A favor del cliente","favor_empresa"===M.balance_tipo&&"📈 A favor de la empresa"]}),0!==M.diferencia_pago&&(0,at.jsxs)("p",{className:"text-sm text-gray-600",children:["Diferencia: $",(parseFloat(Math.abs(M.diferencia_pago))||0).toFixed(2)]})]})})}),M.errores.length>0&&(0,at.jsxs)("div",{className:"bg-red-50 p-3 rounded",children:[(0,at.jsx)("p",{className:"text-sm font-medium text-red-700 mb-2",children:"⚠️ Errores:"}),(0,at.jsx)("ul",{className:"text-sm text-red-600 space-y-1",children:M.errores.map((function(e,t){return(0,at.jsxs)("li",{children:["• ",e]},t)}))})]})]})]})]})};function vw(e){return function(e){if(Array.isArray(e))return yw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||bw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bw(e,t){if(e){if("string"==typeof e)return yw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yw(e,t):void 0}}function yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const jw=function(e){var t=e.formData,r=e.updateFormData,n=(e.errors,xw((0,o.useState)(!1),2)),a=n[0],i=n[1],s=xw((0,o.useState)(!1),2),c=s[0],l=s[1],u=function(e){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?i(!0):"dragleave"===e.type&&i(!1)},d=function(e){var t,r=[],n=["image/jpeg","image/png","image/gif","image/webp"],a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=bw(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.includes(o.type)?o.size>5242880?alert("El archivo ".concat(o.name," es demasiado grande (máximo 5MB)")):r.push(o):alert("El archivo ".concat(o.name," no es una imagen válida"))}}catch(e){a.e(e)}finally{a.f()}r.length>0&&f(r)},f=function(e){l(!0);var n=[],a=0;e.forEach((function(o){var i=new FileReader;i.onload=function(i){if(n.push({file:o,preview:i.target.result,name:o.name,size:o.size,type:o.type,description:""}),++a===e.length){var s=t.fotos_productos||[],c=[].concat(vw(s),n);r("fotos_productos",c),l(!1)}},i.readAsDataURL(o)}))},h=5!==t.caso_uso;return(0,at.jsxs)("div",{className:"fotos-step",children:[(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsxs)("h4",{className:"text-primary mb-3",children:[(0,at.jsx)("i",{className:"fa fa-camera me-2"}),"Fotos de Evidencia"]}),(0,at.jsx)("p",{className:"text-muted",children:"Sube fotos como evidencia de la garantía o devolución. Las fotos son opcionales pero recomendadas."})]}),h&&(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-file-invoice me-2"}),"Foto de la Factura"]})}),(0,at.jsx)("div",{className:"card-body",children:t.foto_factura?(0,at.jsx)("div",{className:"uploaded-factura",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-md-4",children:(0,at.jsx)("img",{src:t.foto_factura.preview,alt:"Factura",className:"img-fluid rounded",style:{maxHeight:"200px",objectFit:"cover"}})}),(0,at.jsxs)("div",{className:"col-md-8",children:[(0,at.jsxs)("h6",{className:"text-success",children:[(0,at.jsx)("i",{className:"fa fa-check-circle me-2"}),"Foto de Factura Cargada"]}),(0,at.jsxs)("p",{className:"mb-2",children:[(0,at.jsx)("strong",{children:"Archivo:"})," ",t.foto_factura.name]}),(0,at.jsxs)("p",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Tamaño:"})," ",(t.foto_factura.size/1024).toFixed(2)," KB"]}),(0,at.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){r("foto_factura",null)},children:[(0,at.jsx)("i",{className:"fa fa-trash me-1"}),"Eliminar"]})]})]})}):(0,at.jsxs)("div",{className:"upload-area text-center p-4 border border-dashed rounded",children:[(0,at.jsx)("i",{className:"fa fa-cloud-upload-alt fa-3x text-muted mb-3"}),(0,at.jsx)("h6",{children:"Subir Foto de Factura"}),(0,at.jsx)("p",{className:"text-muted",children:"Opcional - Foto clara de la factura original"}),(0,at.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0],n=new FileReader;n.onload=function(e){r("foto_factura",{file:t,preview:e.target.result,name:t.name,size:t.size,type:t.type})},n.readAsDataURL(t)}},className:"form-control",id:"facturaFileInput"})]})})]}),(0,at.jsxs)("div",{className:"card",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-images me-2"}),"Fotos de Productos"]})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsx)("div",{className:"upload-area text-center p-4 border border-dashed rounded ".concat(a?"border-primary bg-light":""),onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:function(e){e.preventDefault(),e.stopPropagation(),i(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&d(e.dataTransfer.files)},children:c?(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Subiendo..."})}),(0,at.jsx)("p",{children:"Procesando fotos..."})]}):(0,at.jsxs)("div",{children:[(0,at.jsx)("i",{className:"fa fa-cloud-upload-alt fa-3x text-muted mb-3"}),(0,at.jsx)("h6",{children:"Arrastra fotos aquí o haz clic para seleccionar"}),(0,at.jsx)("p",{className:"text-muted",children:"Formatos: JPG, PNG, GIF, WebP | Tamaño máximo: 5MB por foto"}),(0,at.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:function(e){e.target.files&&d(e.target.files)},className:"form-control",id:"productFileInput"})]})})}),t.fotos_productos&&t.fotos_productos.length>0&&(0,at.jsxs)("div",{className:"uploaded-photos",children:[(0,at.jsxs)("h6",{className:"mb-3",children:[(0,at.jsx)("i",{className:"fa fa-check-circle text-success me-2"}),"Fotos Subidas (",t.fotos_productos.length,")"]}),(0,at.jsx)("div",{className:"row",children:t.fotos_productos.map((function(e,n){return(0,at.jsx)("div",{className:"col-md-6 col-lg-4 mb-3",children:(0,at.jsxs)("div",{className:"card",children:[(0,at.jsx)("img",{src:e.preview,alt:"Producto ".concat(n+1),className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("h6",{className:"card-title text-truncate",children:e.name}),(0,at.jsxs)("p",{className:"card-text small text-muted",children:[(e.size/1024).toFixed(2)," KB"]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("label",{className:"form-label small",children:"Descripción:"}),(0,at.jsx)("textarea",{className:"form-control form-control-sm",rows:"2",value:e.description||"",onChange:function(e){return function(e,n){var a=vw(t.fotos_productos||[]);a[e].description=n,r("fotos_productos",a)}(n,e.target.value)},placeholder:"Describe qué se ve en la foto..."})]}),(0,at.jsxs)("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:function(){return function(e){var n=(t.fotos_productos||[]).filter((function(t,r){return r!==e}));r("fotos_productos",n)}(n)},children:[(0,at.jsx)("i",{className:"fa fa-trash me-1"}),"Eliminar"]})]})]})},n)}))})]}),(0,at.jsxs)("div",{className:"mt-4",children:[(0,at.jsxs)("h6",{className:"text-info",children:[(0,at.jsx)("i",{className:"fa fa-lightbulb me-2"}),"Consejos para las Fotos"]}),(0,at.jsxs)("ul",{className:"list-unstyled small text-muted",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Toma fotos claras y bien iluminadas"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Enfoca los daños o defectos claramente"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Incluye fotos del producto completo y detalles"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Agrega descripciones explicativas"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"La foto de factura debe ser legible"]})]})]})]})]}),(0,at.jsx)("div",{className:"alert alert-info mt-4",children:(0,at.jsxs)("div",{className:"d-flex align-items-start",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2 mt-1"}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h6",{className:"alert-heading",children:"Información Importante"}),(0,at.jsxs)("ul",{className:"mb-0 small",children:[(0,at.jsx)("li",{children:"Las fotos son opcionales pero muy recomendadas como evidencia"}),(0,at.jsx)("li",{children:"Puedes subir múltiples fotos del producto"}),(0,at.jsx)("li",{children:"Las fotos se almacenan de forma segura en el sistema"}),(0,at.jsx)("li",{children:"Máximo 5MB por foto, formatos JPG, PNG, GIF, WebP"}),(0,at.jsx)("li",{children:"Puedes agregar descripciones para cada foto"})]})]})]})})]})};function ww(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _w=function(e){var t,r,n,a,o,i,s=e.formData,c=e.loading,l=e.onSubmit,u=e.errors,d=e.casoUso,f=e.carritoData,h=[{id:1,titulo:"Garantía - Producto por Producto",descripcion:"Producto dañado → Producto bueno"},{id:2,titulo:"Garantía - Producto por Dinero",descripcion:"Producto dañado → Dinero"},{id:3,titulo:"Devolución - Producto por Producto",descripcion:"Producto bueno → Producto bueno"},{id:4,titulo:"Devolución - Producto por Dinero",descripcion:"Producto bueno → Dinero"},{id:5,titulo:"Producto Dañado Interno",descripcion:"Producto dañado → Dar de baja"}].find((function(e){return e.id===s.caso_uso}))||d,p=5!==s.caso_uso,m=Math.abs((null==f||null===(t=f.resumen)||void 0===t?void 0:t.diferencia_pago)||0),g=m>.01,v=s.metodos_devolucion&&s.metodos_devolucion.length>0,x=function(e,t){return null!=e&&e.nombre&&null!=e&&e.cedula?(0,at.jsxs)("div",{children:[(0,at.jsxs)("div",{className:"d-flex align-items-center text-success mb-1",children:[(0,at.jsx)("i",{className:"fa fa-check-circle me-2"}),(0,at.jsxs)("strong",{children:[e.nombre," ",e.apellido]})]}),(0,at.jsxs)("div",{className:"small text-muted",children:[(0,at.jsxs)("div",{children:["CI: ",e.cedula]}),e.telefono&&(0,at.jsxs)("div",{children:["Tel: ",e.telefono]}),e.correo&&(0,at.jsxs)("div",{children:["Email: ",e.correo]}),e.direccion&&(0,at.jsxs)("div",{children:["Dir: ",e.direccion]})]})]}):(0,at.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,at.jsx)("i",{className:"fa fa-times-circle me-2"}),(0,at.jsx)("span",{children:"Sin información"})]})},b=Object.keys(u).length>0;return(0,at.jsxs)("div",{className:"revision-step",children:[(0,at.jsxs)("div",{className:"mb-4",children:[(0,at.jsxs)("h4",{className:"text-primary mb-3",children:[(0,at.jsx)("i",{className:"fa fa-check-square me-2"}),"Revisión Final"]}),(0,at.jsx)("p",{className:"text-muted",children:"Revisa cuidadosamente todos los datos antes de enviar la solicitud de garantía."})]}),g&&(0,at.jsx)("div",{className:"alert alert-warning border-warning mb-4",style:{borderWidth:"3px",backgroundColor:"#fff3cd",boxShadow:"0 4px 8px rgba(255,193,7,0.3)"},children:(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("div",{className:"me-3",children:(0,at.jsx)("i",{className:"fa fa-exclamation-triangle fa-3x text-sinapsis"})}),(0,at.jsxs)("div",{className:"flex-grow-1",children:[(0,at.jsxs)("h5",{className:"alert-heading mb-2 text-sinapsis",children:[(0,at.jsx)("i",{className:"fa fa-money-bill-wave me-2"}),"¡ATENCIÓN! DEVOLUCIÓN DE DINERO"]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("strong",{children:"Diferencia de pago a procesar: "}),(0,at.jsxs)("span",{className:"badge bg-danger fs-6 px-3 py-2",children:[(0,at.jsx)("i",{className:"fa fa-dollar-sign me-1"}),"$",m.toFixed(2)," USD"]}),(null==f||null===(r=f.resumen)||void 0===r?void 0:r.balance_tipo)&&(0,at.jsxs)("div",{className:"mt-1 small",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-1"}),"favor_cliente"===f.resumen.balance_tipo?"Cliente debe recibir reembolso":"Cliente debe pagar diferencia"]})]}),(0,at.jsxs)("div",{className:"small",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-1"}),(0,at.jsx)("strong",{children:"IMPORTANTE:"})," Esta solicitud será ",(0,at.jsx)("strong",{children:"enviada para aprobación en central"}),". NO ENTREGAR DINERO hasta recibir confirmación de aprobación."]})]})]})}),b&&(0,at.jsxs)("div",{className:"alert alert-danger",children:[(0,at.jsxs)("h6",{className:"alert-heading",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),"Hay errores que debes corregir"]}),(0,at.jsx)("ul",{className:"mb-0",children:Object.entries(u).map((function(e){var t=ww(e,2),r=t[0],n=t[1];return(0,at.jsx)("li",{children:n},r)}))})]}),(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-clipboard-list me-2"}),"Información del Caso",g&&(0,at.jsxs)("span",{className:"badge bg-warning ms-2",children:[(0,at.jsx)("i",{className:"fa fa-money-bill-wave me-1"}),"Devolución de Dinero"]})]})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Caso de Uso:"}),(0,at.jsxs)("div",{className:"text-success mb-2",children:[(0,at.jsx)("i",{className:"fa fa-check-circle me-2"}),null==h?void 0:h.titulo,g&&(0,at.jsx)("span",{className:"badge bg-warning ms-2",children:"💰 Dinero"})]}),(0,at.jsx)("div",{className:"small text-muted mb-3",children:null==h?void 0:h.descripcion})]}),(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Tipo de Solicitud:"}),(0,at.jsx)("div",{className:"mb-2",children:(0,at.jsx)("span",{className:"badge ".concat("GARANTIA"===s.tipo_solicitud?"bg-warning":"bg-info"),children:s.tipo_solicitud})})]})]}),p&&(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Número de Factura:"}),(0,at.jsx)("div",{className:"mb-2",children:s.factura_venta_id||"No especificado"})]}),(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Días desde compra:"}),(0,at.jsx)("div",{className:"mb-2",children:s.dias_transcurridos_compra||"No especificado"})]})]})]})]}),(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-users me-2"}),"Responsables"]})}),(0,at.jsx)("div",{className:"card-body",children:(0,at.jsxs)("div",{className:"row",children:[p&&(0,at.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,at.jsx)("strong",{children:"Cliente:"}),x(s.cliente)]}),(0,at.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,at.jsx)("strong",{children:"Cajero:"}),x(s.cajero)]}),(0,at.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,at.jsx)("strong",{children:"Supervisor:"}),x(s.supervisor)]}),(0,at.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,at.jsx)("strong",{children:"DICI:"}),x(s.dici)]})]})})]}),(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-box me-2"}),"Productos (",(null===(n=s.productos_carrito)||void 0===n?void 0:n.length)||0,")"]})}),(0,at.jsx)("div",{className:"card-body",children:s.productos_carrito&&s.productos_carrito.length>0?(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Producto"}),(0,at.jsx)("th",{children:"Cantidad"}),(0,at.jsx)("th",{children:"Precio Unit."}),(null==h||null===(a=h.campos_requeridos)||void 0===a?void 0:a.includes("cantidad_salida"))&&(0,at.jsx)("th",{children:"Cant. Salida"}),(null==h||null===(o=h.campos_requeridos)||void 0===o?void 0:o.includes("monto_devolucion"))&&(0,at.jsx)("th",{children:"Monto Devolución"})]})}),(0,at.jsx)("tbody",{children:s.productos_carrito.map((function(e,t){var r,n;return(0,at.jsxs)("tr",{children:[(0,at.jsxs)("td",{children:[(0,at.jsx)("strong",{children:e.descripcion}),(0,at.jsx)("br",{}),(0,at.jsxs)("small",{className:"text-muted",children:["ID: ",e.id]})]}),(0,at.jsx)("td",{children:e.cantidad}),(0,at.jsxs)("td",{children:["$",(e.precio||0).toFixed(2)]}),(null==h||null===(r=h.campos_requeridos)||void 0===r?void 0:r.includes("cantidad_salida"))&&(0,at.jsx)("td",{children:e.cantidad_salida||0}),(null==h||null===(n=h.campos_requeridos)||void 0===n?void 0:n.includes("monto_devolucion"))&&(0,at.jsxs)("td",{className:"text-danger",children:[(0,at.jsxs)("strong",{children:["$",(e.monto_devolucion_unitario||0).toFixed(2)]}),(0,at.jsx)("br",{}),(0,at.jsxs)("small",{children:["Total: $",((e.monto_devolucion_unitario||0)*e.cantidad).toFixed(2)]})]})]},t)}))}),g&&(0,at.jsx)("tfoot",{children:(0,at.jsx)("tr",{className:"table-warning",children:(0,at.jsxs)("td",{colSpan:"4",className:"text-end",children:[(0,at.jsxs)("strong",{children:["DIFERENCIA A PROCESAR: $",m.toFixed(2)," USD"]}),(null==f||null===(i=f.resumen)||void 0===i?void 0:i.balance_tipo)&&(0,at.jsxs)("div",{className:"small",children:["(","favor_cliente"===f.resumen.balance_tipo?"Reembolso al cliente":"Pago del cliente",")"]})]})})})]})}):(0,at.jsxs)("div",{className:"text-center text-muted py-3",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x mb-2"}),(0,at.jsx)("p",{children:"No hay productos seleccionados"})]})})]}),v&&(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-credit-card me-2"}),"Métodos de Pago - Diferencia (",s.metodos_devolucion.length,")"]})}),(0,at.jsx)("div",{className:"card-body",children:(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Método"}),(0,at.jsx)("th",{children:"Monto"}),(0,at.jsx)("th",{children:"Moneda"}),(0,at.jsx)("th",{children:"Detalles"})]})}),(0,at.jsx)("tbody",{children:s.metodos_devolucion.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge bg-secondary",children:e.tipo.toUpperCase()})}),(0,at.jsx)("td",{className:"text-success",children:(0,at.jsx)("strong",{children:e.monto.toFixed(2)})}),(0,at.jsx)("td",{children:e.moneda}),(0,at.jsxs)("td",{children:["transferencia"===e.tipo&&(0,at.jsxs)("div",{className:"small",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("strong",{children:"Banco:"})," ",e.banco]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("strong",{children:"Ref:"})," ",e.referencia]}),e.telefono&&(0,at.jsxs)("div",{children:[(0,at.jsx)("strong",{children:"Tel:"})," ",e.telefono]})]}),("debito"===e.tipo||"biopago"===e.tipo)&&e.cuenta&&(0,at.jsxs)("div",{className:"small",children:[(0,at.jsx)("strong",{children:"Cuenta:"})," ",e.cuenta]}),"efectivo"===e.tipo&&(0,at.jsx)("span",{className:"text-muted small",children:"Efectivo"})]})]},t)}))})]})})})]}),(s.motivo||s.motivo_devolucion||s.detalles_adicionales)&&(0,at.jsxs)("div",{className:"card mb-4",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-comment me-2"}),"Motivos y Observaciones"]})}),(0,at.jsxs)("div",{className:"card-body",children:[s.motivo&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Motivo:"}),(0,at.jsx)("div",{className:"mt-1",children:s.motivo})]}),s.motivo_devolucion&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Motivo de devolución:"}),(0,at.jsx)("div",{className:"mt-1",children:s.motivo_devolucion})]}),s.detalles_adicionales&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Detalles adicionales:"}),(0,at.jsx)("div",{className:"mt-1",children:s.detalles_adicionales})]})]})]}),(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("button",{onClick:l,disabled:c||b,className:"btn btn-lg px-5 ".concat(c||b?"btn-secondary":g?"btn-warning":"btn-success"),children:c?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Cargando..."})}),"Enviando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa ".concat(g?"fa-paper-plane":"fa-check"," me-2")}),g?"Enviar para Aprobación":"Crear Garantía"]})}),g&&(0,at.jsxs)("div",{className:"mt-2 small text-sinapsis",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-1"}),"Esta solicitud será enviada a central para aprobación"]})]}),u.submit&&(0,at.jsxs)("div",{className:"alert alert-danger mt-3",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),u.submit]})]})};function Cw(e){return Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ew(Object(r),!0).forEach((function(t){Aw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Cw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iw(){Iw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Cw(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Cw(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Ow(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Tw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ow(o,n,a,i,s,"next",e)}function s(e){Ow(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Pw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Dw=function(e){var t=e.onSuccess,r=e.sucursalConfig,n=e.db,a=Pw((0,o.useState)(1),2),i=a[0],s=a[1],c=Pw((0,o.useState)({bs_to_usd:37,cop_to_usd:1}),2),l=c[0],u=c[1],d=Pw((0,o.useState)(!1),2),f=d[0],h=(d[1],Pw((0,o.useState)(null),2)),p=h[0],m=h[1],g=Pw((0,o.useState)(!1),2),v=g[0],x=g[1],b=Pw((0,o.useState)(!1),2),y=b[0],j=b[1],w=Pw((0,o.useState)(!1),2),N=w[0],_=w[1],C=Pw((0,o.useState)({tipo_solicitud:"",caso_uso:null,factura_venta_id:"",numfact_original:"",dias_transcurridos_compra:"",cliente:{nombre:"",apellido:"",cedula:"",telefono:"",direccion:"",correo:""},cajero:{nombre:"",apellido:"",cedula:""},supervisor:{nombre:"",apellido:"",cedula:""},dici:{nombre:"",apellido:"",cedula:""},id_producto:"",producto_nombre:"",cantidad:1,cantidad_salida:0,monto_devolucion_dinero:0,motivo:"",motivo_devolucion:"",detalles_adicionales:"",metodos_devolucion:[],foto_factura:null,fotos_productos:[],fotos_descripciones:[],productos_carrito:[]}),2),E=C[0],S=C[1],A=Pw((0,o.useState)(!1),2),I=A[0],O=A[1],T=Pw((0,o.useState)(!1),2),P=T[0],k=T[1],D=Pw((0,o.useState)({}),2),M=D[0],R=D[1],F=Pw((0,o.useState)(null),2),L=F[0],B=F[1],U=Pw((0,o.useState)({esValido:!1,errores:[],requiereMetodosPago:!1,diferencia_pago:0}),2),z=U[0],V=U[1],G=[{number:1,title:"Validar Factura",description:"Verificar número de factura y cargar datos"},{number:2,title:"Responsables",description:"Información de las personas involucradas"},{number:3,title:"Carrito Dinámico",description:"Agregar productos y métodos de pago"},{number:4,title:"Motivos y Detalles",description:"Describir el motivo y detalles del proceso"},{number:5,title:"Fotos",description:"Subir evidencias fotográficas"},{number:6,title:"Revisión",description:"Verificar y enviar la solicitud"}];(0,o.useEffect)((function(){var e=function(){var e=Tw(Iw().mark((function e(){var t,r;return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/garantias/tasas-cambio");case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:r=e.sent,u(r.tasas||{bs_to_usd:37,cop_to_usd:1});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn("Error al obtener tasas de cambio, usando por defecto");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var H=[{id:1,tipo:"GARANTIA",titulo:"Garantía - Producto por Producto",descripcion:"El cliente trae un producto dañado y se le entrega un producto bueno",icono:"🔄",campos_requeridos:["producto","cantidad_salida"],flujo:"Entra: Producto dañado → Sale: Producto bueno",requiere_devolucion_dinero:!1},{id:2,tipo:"GARANTIA",titulo:"Garantía - Producto por Dinero",descripcion:"El cliente trae un producto dañado y se le devuelve el dinero",icono:"💰",campos_requeridos:["producto","monto_devolucion"],flujo:"Entra: Producto dañado → Sale: Dinero",requiere_devolucion_dinero:!0},{id:3,tipo:"DEVOLUCION",titulo:"Devolución - Producto por Producto",descripcion:"El cliente devuelve un producto bueno y se le entrega otro producto",icono:"↔️",campos_requeridos:["producto","cantidad_salida"],flujo:"Entra: Producto bueno → Sale: Producto bueno",requiere_devolucion_dinero:!1},{id:4,tipo:"DEVOLUCION",titulo:"Devolución - Producto por Dinero",descripcion:"El cliente devuelve un producto bueno y se le devuelve el dinero",icono:"💵",campos_requeridos:["producto","monto_devolucion"],flujo:"Entra: Producto bueno → Sale: Dinero",requiere_devolucion_dinero:!0},{id:5,tipo:"GARANTIA",titulo:"Producto Dañado Interno",descripcion:"Producto dañado encontrado internamente (sin cliente)",icono:"🔧",campos_requeridos:["producto"],flujo:"Producto dañado → Dar de baja",requiere_devolucion_dinero:!1}],q=function(){var e=Tw(Iw().mark((function e(){var t,r;return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.factura_venta_id){e.next=3;break}return R({factura_venta_id:"Número de factura es obligatorio"}),e.abrupt("return");case 3:return x(!0),R({}),e.prev=5,e.next=8,n.validateFactura({numfact:E.factura_venta_id});case 8:200===(t=e.sent).status?(r=t.data).exists?(m({pedido:r.pedido,metodos_pago:r.metodos_pago||[],productos_facturados:r.productos_facturados||[]}),r.pedido.cliente_nombre&&(Y("cliente","nombre",r.pedido.cliente_nombre),Y("cliente","cedula",r.pedido.cliente_identificacion||"")),void 0!==r.pedido.dias_transcurridos_compra&&W("dias_transcurridos_compra",r.pedido.dias_transcurridos_compra),j(!0)):(R({factura_venta_id:"Esta factura no existe en el sistema"}),m(null),j(!1)):(R({factura_venta_id:"Error al validar la factura"}),m(null),j(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),R({factura_venta_id:"Error al validar la factura"}),m(null),j(!1);case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,12,17,20]])})));return function(){return e.apply(this,arguments)}}(),W=function(e,t){S((function(r){return Sw(Sw({},r),{},Aw({},e,t))}))},Y=function(e,t,r){S((function(n){return Sw(Sw({},n),{},Aw({},e,Sw(Sw({},n[e]),{},Aw({},t,r))))}))},X=function(e){if(B(e),e&&e.resumen){W("caso_uso",e.resumen.caso_uso),W("tipo_solicitud",e.resumen.caso_uso<=2?"GARANTIA":"DEVOLUCION");var t=[];e.entradas.forEach((function(e){t.push({id:e.id,descripcion:e.descripcion,precio:e.precio,cantidad:e.cantidad,estado:e.estado,tipo:"entrada",subtotal:e.subtotal})})),e.salidas.forEach((function(e){t.push({id:e.id,descripcion:e.descripcion,precio:e.precio,cantidad:e.cantidad,estado:e.estado,tipo:"salida",subtotal:e.subtotal})})),W("productos_carrito",t)}},$=function(e){V(e)};(0,o.useEffect)((function(){L&&(L.entradas.length>0||L.salidas.length>0)&&X(L)}),[E.metodos_devolucion]);var Q=function(){var e=Tw(Iw().mark((function e(t){var r,n;return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=t,e.next=1===e.t0?4:2===e.t0?6:3===e.t0?14:4===e.t0?25:5===e.t0?29:30;break;case 4:return E.factura_venta_id||N?y||N||(n.factura_validacion="Debe validar la factura antes de continuar"):n.factura_venta_id="Número de factura es obligatorio",e.abrupt("break",30);case 6:return E.cliente.nombre||(n.cliente_nombre="Nombre del cliente requerido"),E.cliente.apellido||(n.cliente_apellido="Apellido del cliente requerido"),E.cliente.cedula||(n.cliente_cedula="Cédula del cliente requerida"),E.cajero.nombre||(n.cajero_nombre="Nombre del cajero requerido"),E.cajero.cedula||(n.cajero_cedula="Cédula del cajero requerida"),E.supervisor.nombre||(n.supervisor_nombre="Nombre del supervisor requerido"),E.supervisor.cedula||(n.supervisor_cedula="Cédula del supervisor requerida"),e.abrupt("break",30);case 14:if(L&&(0!==L.entradas.length||0!==L.salidas.length)){e.next=17;break}return n.productos_carrito="Debe agregar al menos un producto al carrito",e.abrupt("break",30);case 17:if(L.resumen&&L.resumen.caso_uso){e.next=20;break}return n.caso_uso="No se pudo determinar el caso de uso automáticamente",e.abrupt("break",30);case 20:if(z.esValido){e.next=24;break}return n.carrito="El carrito no es válido. Por favor revise los errores.",z.errores.forEach((function(e,t){e.includes("Se requieren métodos de")||(n["carrito_error_".concat(t)]=e)})),e.abrupt("break",30);case 24:case 29:return e.abrupt("break",30);case 25:return"GARANTIA"===((null==L||null===(r=L.resumen)||void 0===r?void 0:r.caso_uso)<=2?"GARANTIA":"DEVOLUCION")?E.motivo&&""!==E.motivo.trim()||(n.motivo="El motivo de la garantía es obligatorio"):E.motivo_devolucion&&""!==E.motivo_devolucion.trim()||(n.motivo_devolucion="El motivo de la devolución es obligatorio"),!E.detalles_adicionales||E.detalles_adicionales.trim(),e.abrupt("break",30);case 30:return R(n),e.abrupt("return",0===Object.keys(n).length);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Tw(Iw().mark((function e(){return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,Q(i);case 4:e.sent&&s((function(e){return Math.min(e+1,G.length)}));case 6:return e.prev=6,k(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Tw(Iw().mark((function e(){var r,n,a,o,s,c,l,u,d,f,h,p,m,g,v,x,b,y;return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(i);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return O(!0),e.prev=5,o=new FormData,s=(null==L||null===(r=L.resumen)||void 0===r?void 0:r.caso_uso)||E.caso_uso,o.append("caso_uso",s),o.append("factura_venta_id",parseInt(E.factura_venta_id)||0),o.append("modo_traslado_interno",N),L&&(o.append("entradas",JSON.stringify(L.entradas)),o.append("salidas",JSON.stringify(L.salidas)),o.append("resumen_carrito",JSON.stringify(L.resumen))),c=(null===(n=E.productos_carrito)||void 0===n?void 0:n.map((function(e){return{id_producto:e.id,cantidad:e.cantidad,monto_devolucion_unitario:e.monto_devolucion_unitario||0,tipo:e.tipo||"entrada",estado:e.estado||"BUENO"}})))||[],o.append("productos",JSON.stringify(c)),l={motivo:E.motivo||E.motivo_devolucion||"",dias_desdecompra:E.dias_transcurridos_compra||0,cantidad_salida:E.cantidad_salida||0,motivo_salida:E.motivo_salida||"",detalles_adicionales:E.detalles_adicionales||"",cliente:{cedula:E.cliente.cedula||"",nombre:E.cliente.nombre||"",apellido:E.cliente.apellido||"",telefono:E.cliente.telefono||"",direccion:E.cliente.direccion||"",correo:E.cliente.correo||""},cajero:{cedula:E.cajero.cedula||"",nombre:E.cajero.nombre||"",apellido:E.cajero.apellido||""},supervisor:{cedula:E.supervisor.cedula||"",nombre:E.supervisor.nombre||"",apellido:E.supervisor.apellido||""},dici:E.dici?{cedula:E.dici.cedula||"",nombre:E.dici.nombre||"",apellido:E.dici.apellido||""}:null},o.append("garantia_data",JSON.stringify(l)),u=E.metodos_devolucion&&E.metodos_devolucion.length>0&&E.metodos_devolucion||[],o.append("metodos_devolucion",JSON.stringify(u)),E.foto_factura&&E.foto_factura.file&&o.append("foto_factura",E.foto_factura.file),E.fotos_productos&&E.fotos_productos.length>0&&E.fotos_productos.forEach((function(e,t){e.file&&o.append("fotos_productos[".concat(t,"]"),e.file)})),E.fotos_productos&&E.fotos_productos.length>0&&E.fotos_productos.forEach((function(e,t){var r=e.description||"Foto del producto";o.append("fotos_descripciones[".concat(t,"]"),r)})),d=localStorage.getItem("session_token"),e.next=24,fetch("/api/garantias/registrar-solicitud",{method:"POST",headers:{"X-CSRF-TOKEN":(null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content"))||"","X-Session-Token":d||""},body:o});case 24:if((f=e.sent).ok){e.next=39;break}return h="Error ".concat(f.status,": ").concat(f.statusText),e.prev=27,e.next=30,f.json();case 30:(p=e.sent).message?h=p.message:p.error?h=p.error:p.errors&&(m=Object.values(p.errors).flat(),h=m.join("\n")),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(27),console.error("Error parsing response:",e.t0);case 37:return R({submit:h}),e.abrupt("return");case 39:return e.next=41,f.json();case 41:(g=e.sent).success?(v="✅ Solicitud de garantía/devolución enviada exitosamente!\n\n",g.data&&g.data.solicitud_id&&(v+="🆔 ID Solicitud: ".concat(g.data.solicitud_id,"\n")),g.data&&g.data.monto_total_devolucion&&(v+="💰 Monto Total: ".concat(g.data.monto_total_devolucion," USD\n")),v+="\n⏳ La solicitud está PENDIENTE DE APROBACIÓN en central.\n",v+="🚫 NO SE CREA PEDIDO hasta recibir aprobación.\n",g.metodos_devolucion&&g.metodos_devolucion.length>0?(v+="💵 NO ENTREGAR DINERO hasta recibir aprobación.\n\n",v+="📊 Métodos de devolución configurados:\n",g.metodos_devolucion.forEach((function(e,t){v+="".concat(t+1,". ").concat(e.tipo.toUpperCase(),": ").concat(e.monto_original," ").concat(e.moneda_original,"\n")}))):v+="📦 Caso sin devolución de dinero - Solo productos.\n",alert(v),t()):(x="Error al crear la solicitud",g.message?x=g.message:g.error?x=g.error:g.errors&&(b=Object.values(g.errors).flat(),x=b.join("\n")),R({submit:x})),e.next=51;break;case 45:e.prev=45,e.t1=e.catch(5),console.error("Error en submitForm:",e.t1),y="Error de conexión. Intente nuevamente.","TypeError"===e.t1.name&&e.t1.message.includes("fetch")?y="No se pudo conectar con el servidor. Verifique su conexión a internet.":e.t1.message&&(y="Error: ".concat(e.t1.message)),R({submit:y});case 51:return e.prev=51,O(!1),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[5,45,51,54],[27,34]])})));return function(){return e.apply(this,arguments)}}();return(0,at.jsx)("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-4 lg:px-6",children:(0,at.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,at.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-6 border-b border-gray-200",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,at.jsxs)("div",{className:"flex-1",children:[(0,at.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 leading-tight",children:"Nueva Solicitud de Garantía/Devolución"}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mt-1 sm:mt-2",children:"Siga los pasos para crear una nueva solicitud"})]}),(0,at.jsx)("div",{className:"sm:hidden",children:(0,at.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,at.jsxs)("span",{className:"font-medium",children:["Paso ",i]}),(0,at.jsxs)("span",{className:"text-gray-400",children:["de ",G.length]})]})})]})}),(0,at.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 border-b border-gray-200",children:(0,at.jsx)(Xj,{steps:G,currentStep:i})}),(0,at.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-6",children:(0,at.jsx)("div",{className:"max-w-none",children:function(){var e,t,a,o;switch(i){case 1:return(0,at.jsxs)("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 mb-2 sm:mb-3 lg:mb-4",children:"Validar Factura"}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mb-3 sm:mb-4",children:"Ingrese el número de factura para validar y cargar los datos del cliente."})]}),(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Factura *"}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,at.jsx)("input",{type:"text",value:E.factura_venta_id,onChange:function(e){W("factura_venta_id",e.target.value),y&&(j(!1),m(null)),(M.factura_venta_id||M.factura_validacion)&&R((function(e){var t=Sw({},e);return delete t.factura_venta_id,delete t.factura_validacion,t}))},className:"w-full px-3 py-2 sm:py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(M.factura_venta_id?"border-red-500":"border-gray-300"),placeholder:"Ej: 123456",disabled:v||N}),(0,at.jsx)("button",{type:"button",onClick:q,disabled:!E.factura_venta_id||v||N,className:"w-full sm:w-auto px-6 py-3 sm:py-2 rounded-md font-medium text-white transition-colors ".concat(!E.factura_venta_id||v||N?"bg-gray-400 cursor-not-allowed":y?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:v?(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,at.jsx)("span",{children:"Validando..."})]}):y?(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("span",{children:"✅"}),(0,at.jsx)("span",{children:"Validada"})]}):(0,at.jsx)("span",{children:"Validar Factura"})})]}),M.factura_venta_id&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.factura_venta_id}),M.factura_validacion&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.factura_validacion})]}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,at.jsx)("button",{type:"button",onClick:function(){_(!N),N||(j(!1),m(null),W("factura_venta_id",""),R((function(e){var t=Sw({},e);return delete t.factura_venta_id,delete t.factura_validacion,t})))},className:"w-full sm:w-auto px-4 py-3 sm:py-2 rounded-md font-medium transition-colors ".concat(N?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:N?(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("i",{className:"fa fa-toggle-on"}),(0,at.jsx)("span",{children:"Traslado Interno Activado"})]}):(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("i",{className:"fa fa-toggle-off"}),(0,at.jsx)("span",{children:"Activar Traslado Interno"})]})}),N&&(0,at.jsxs)("div",{className:"text-sm text-orange-600 text-center sm:text-left",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-1"}),"Traslado interno"]})]}),p&&!N&&(0,at.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,at.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2 sm:mb-3",children:"✅ Factura Válida"}),(0,at.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 lg:gap-4 text-sm",children:[(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[(0,at.jsx)("span",{className:"text-green-600 font-medium",children:"Cliente:"}),(0,at.jsx)("span",{className:"text-gray-900",children:p.pedido.cliente||"N/A"})]}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[(0,at.jsx)("span",{className:"text-green-600 font-medium",children:"Fecha:"}),(0,at.jsx)("span",{className:"text-gray-900",children:new Date(p.pedido.created_at).toLocaleDateString()})]}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[(0,at.jsx)("span",{className:"text-green-600 font-medium",children:"Total:"}),(0,at.jsxs)("span",{className:"text-gray-900 font-semibold",children:["$",p.pedido.monto_total]})]}),(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[(0,at.jsx)("span",{className:"text-green-600 font-medium",children:"Estado:"}),(0,at.jsx)("span",{className:"text-gray-900",children:p.pedido.estado_text})]})]})]}),p.metodos_pago.length>0&&(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2 sm:mb-3",children:"💳 Cómo pagó el cliente:"}),(0,at.jsx)("div",{className:"space-y-2 sm:space-y-3",children:p.metodos_pago.map((function(e,t){return(0,at.jsx)("div",{className:"bg-white p-2 sm:p-3 rounded border",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,at.jsxs)("div",{className:"flex items-center gap-2",children:[(0,at.jsx)("span",{className:"text-lg",children:e.icono||"💳"}),(0,at.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.descripcion})]}),(0,at.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded self-start sm:self-auto",children:["ID: ",e.tipo]})]}),(0,at.jsxs)("div",{className:"text-left sm:text-right",children:[(0,at.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["$",e.monto.toFixed(2)]}),void 0!==e.cuenta&&null!==e.cuenta&&(0,at.jsx)("div",{className:"text-xs text-gray-500",children:1===e.cuenta?"Crédito":"Abono"})]})]})},t)}))}),(0,at.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:(0,at.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,at.jsx)("span",{className:"font-medium text-blue-800",children:"Total pagado:"}),(0,at.jsxs)("span",{className:"font-bold text-blue-900",children:["$",p.metodos_pago.reduce((function(e,t){return e+t.monto}),0).toFixed(2)]})]})})]}),p.productos_facturados.length>0&&(0,at.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 sm:p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-purple-800 mb-2 sm:mb-3",children:"📦 Productos que se llevó el cliente:"}),(0,at.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2 sm:space-y-3",children:p.productos_facturados.map((function(e,t){return(0,at.jsx)("div",{className:"bg-white p-2 sm:p-3 rounded border",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[(0,at.jsxs)("div",{className:"flex-1",children:[(0,at.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.descripcion}),(0,at.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.codigo_barras&&(0,at.jsxs)("span",{children:["CB: ",e.codigo_barras," | "]}),e.codigo_proveedor&&(0,at.jsxs)("span",{children:["CP: ",e.codigo_proveedor]})]})]}),(0,at.jsxs)("div",{className:"text-right text-sm",children:[(0,at.jsxs)("div",{className:"font-medium text-gray-900",children:[e.cantidad," uds"]}),(0,at.jsxs)("div",{className:"text-gray-600",children:["$",e.precio_unitario.toFixed(2)," c/u"]}),(0,at.jsxs)("div",{className:"text-purple-700 font-medium",children:["$",e.subtotal.toFixed(2)]})]})]})},t)}))})]})]}),!y&&!N&&(0,at.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,at.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,at.jsx)("strong",{children:"Instrucciones:"}),' Ingrese el número de factura y haga clic en "Validar Factura" para verificar la información y continuar al siguiente paso.']})}),N&&(0,at.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-orange-800 mb-2",children:"🔄 Modo Traslado Interno Activado"}),(0,at.jsxs)("p",{className:"text-sm text-orange-700 mb-3",children:[(0,at.jsx)("strong",{children:"Casos de uso:"})," Productos dañados internamente, traslados entre sucursales, o situaciones donde no existe factura de venta."]}),(0,at.jsx)("div",{className:"text-sm text-orange-700",children:(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Validación especial:"})," El carrito dinámico validará que el producto que entra sea el mismo que sale, manteniendo el balance equilibrado."]})})]}),y&&!N&&(0,at.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,at.jsxs)("p",{className:"text-sm text-green-800",children:[(0,at.jsx)("strong",{children:"✅ Factura validada exitosamente."})," El sistema detectará automáticamente el tipo de garantía/devolución basado en los productos que agregue en el siguiente paso."]})})]})]});case 2:return(0,at.jsx)(aw,{formData:E,updateNestedFormData:Y,errors:M,casoUso:E.caso_uso,db:n});case 3:return(0,at.jsxs)("div",{className:"space-y-6",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Carrito Dinámico de Productos"}),(0,at.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Agregue los productos usando los botones ",(0,at.jsx)("strong",{children:"Garantía"})," (productos dañados),",(0,at.jsx)("strong",{children:"Devolución"})," (productos buenos) o ",(0,at.jsx)("strong",{children:"Entregar"})," (productos a entregar). El caso de uso se determinará automáticamente."]})]}),(0,at.jsx)(gw,{onCarritoChange:X,onValidacionChange:$,factura:{numero:E.factura_venta_id},sucursalConfig:r,initialData:L,db:n,metodosPagoConfigurados:E.metodos_devolucion||[],tasasCambio:l,modoValidacion:f,productosFacturados:(null==p?void 0:p.productos_facturados)||[],modoTrasladoInterno:N}),0!==z.diferencia_pago&&(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,at.jsx)("h4",{className:"text-lg font-semibold text-blue-900 mb-4",children:"💳 Métodos de Pago (Opcional)"}),(0,at.jsxs)("p",{className:"text-sm text-blue-700 mb-4",children:["Se detectó una diferencia de pago de ",(0,at.jsxs)("strong",{children:["$",Math.abs(z.diferencia_pago||0).toFixed(2)]}),". Puede configurar métodos de pago opcionalmente para procesar esta diferencia."]})]}),Object.keys(M).length>0&&(0,at.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Errores de validación del wizard:"}),(0,at.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:Object.entries(M).map((function(e){var t=Pw(e,2),r=t[0],n=t[1];return(0,at.jsxs)("li",{children:["• ",(0,at.jsxs)("strong",{children:[r,":"]})," ",n]},r)}))})]}),z.errores.length>0&&(0,at.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Errores de validación del carrito:"}),(0,at.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:z.errores.map((function(e,t){return(0,at.jsxs)("li",{children:["• ",e]},t)}))})]}),L&&L.resumen&&L.resumen.caso_uso&&(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,at.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"🎯 Caso de uso detectado automáticamente:"}),(0,at.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,at.jsxs)("strong",{children:["Caso ",L.resumen.caso_uso,":"]})," ",L.resumen.descripcion_caso]})]})]});case 4:var s=(null==L||null===(e=L.resumen)||void 0===e?void 0:e.caso_uso)<=2?"GARANTIA":"DEVOLUCION",c=H.find((function(e){var t;return e.id===(null==L||null===(t=L.resumen)||void 0===t?void 0:t.caso_uso)}));return(0,at.jsxs)("div",{className:"space-y-6",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Motivos y Detalles del Proceso"}),(0,at.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Describa el motivo y proporcione detalles adicionales sobre ","GARANTIA"===s?"la garantía":"la devolución","."]})]}),c&&(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,at.jsxs)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:["📋 Caso de uso: ",c.titulo]}),(0,at.jsx)("p",{className:"text-sm text-blue-700",children:c.descripcion})]}),(0,at.jsx)("div",{className:"bg-white border border-gray-300 rounded-lg p-6",children:(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["GARANTIA"===s?"Motivo de la Garantía":"Motivo de la Devolución",(0,at.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,at.jsx)("textarea",{value:"GARANTIA"===s?E.motivo||"":E.motivo_devolucion||"",onChange:function(e){return W("GARANTIA"===s?"motivo":"motivo_devolucion",e.target.value)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(("GARANTIA"===s?M.motivo:M.motivo_devolucion)?"border-red-500":"border-gray-300"),rows:3,placeholder:"GARANTIA"===s?"Describa el problema o defecto del producto...":"Describa el motivo de la devolución..."}),("GARANTIA"===s?M.motivo:M.motivo_devolucion)&&(0,at.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"GARANTIA"===s?M.motivo:M.motivo_devolucion})]}),(0,at.jsxs)("div",{children:[(0,at.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Detalles Adicionales",(0,at.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:"(Opcional pero recomendado)"})]}),(0,at.jsx)("textarea",{value:E.detalles_adicionales||"",onChange:function(e){return W("detalles_adicionales",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Proporcione detalles adicionales como: circunstancias del daño, tiempo de uso, condiciones ambientales, observaciones especiales, etc."})]}),(0,at.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,at.jsx)("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:"Información de contexto:"}),(0,at.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,at.jsxs)("div",{children:["• Factura: #",E.factura_venta_id]}),(0,at.jsxs)("div",{children:["• Cliente: ",E.cliente.nombre," ",E.cliente.apellido]}),(0,at.jsxs)("div",{children:["• Tipo de proceso: ","GARANTIA"===s?"Garantía":"Devolución"]}),(0,at.jsxs)("div",{children:["• Balance: ","favor_cliente"===(null==L||null===(t=L.resumen)||void 0===t?void 0:t.balance_tipo)?"A favor del cliente":"favor_empresa"===(null==L||null===(a=L.resumen)||void 0===a?void 0:a.balance_tipo)?"A favor de la empresa":"Equilibrado"]})]})]})]})})]});case 5:return(0,at.jsx)(jw,{formData:E,updateFormData:W,errors:M});case 6:var u=(null==L||null===(o=L.resumen)||void 0===o?void 0:o.caso_uso)||E.caso_uso;return(0,at.jsx)(_w,{formData:E,casoUso:H.find((function(e){return e.id===u})),onSubmit:K,loading:I,errors:M,carritoData:L});default:return null}}()})}),(0,at.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 border-t border-gray-200",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-between",children:[(0,at.jsx)("div",{className:"order-2 sm:order-1",children:(0,at.jsxs)("button",{onClick:function(){s((function(e){return Math.max(e-1,1)})),R({})},disabled:1===i,className:"w-full sm:w-auto px-4 py-3 sm:py-2 rounded-md font-medium transition-colors ".concat(1===i?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 active:bg-gray-400"),children:[(0,at.jsx)("span",{className:"hidden sm:inline",children:"← Anterior"}),(0,at.jsx)("span",{className:"sm:hidden",children:"← Volver"})]})}),(0,at.jsx)("div",{className:"order-1 sm:order-2",children:i<G.length?(0,at.jsx)("button",{onClick:Z,disabled:P,className:"w-full sm:w-auto px-6 py-3 sm:py-2 rounded-md font-medium text-white transition-colors ".concat(P?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:bg-blue-800"),children:P?(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,at.jsx)("span",{children:"Validando..."})]}):(0,at.jsx)("span",{children:"Siguiente →"})}):(0,at.jsx)("button",{onClick:K,disabled:I,className:"w-full sm:w-auto px-6 py-3 sm:py-2 rounded-md font-medium text-white transition-colors ".concat(I?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 active:bg-green-800"),children:I?(0,at.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,at.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,at.jsx)("span",{children:"Enviando..."})]}):(0,at.jsx)("span",{children:"Crear Garantía"})})})]})}),M.submit&&(0,at.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 bg-red-50 border-l-4 border-red-400",children:(0,at.jsx)("p",{className:"text-red-700 text-sm sm:text-base",children:M.submit})})]})})};function Mw(e){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(e)}function Rw(){Rw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Mw(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Mw(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Fw(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Lw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Fw(o,n,a,i,s,"next",e)}function s(e){Fw(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(r),!0).forEach((function(t){zw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Mw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Hw=function(e){var t,r,n=e.garantias,a=e.onReload,i=e.sucursalConfig,s=e.db,c=Vw((0,o.useState)(!1),2),l=c[0],u=c[1],d=Vw((0,o.useState)(null),2),f=d[0],h=d[1],p=Vw((0,o.useState)("todas"),2),m=p[0],g=p[1],v=Vw((0,o.useState)(new Set),2),x=v[0],b=v[1],y=Vw((0,o.useState)("garantias"),2),j=y[0],w=(y[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return e&&"[]"!==e&&"{}"!==e?JSON.parse(e):t}catch(r){return console.error("Error parsing JSON:",r,"String:",e),t}}),N=function(e){var t=w(e.garantia_data,{}),r=w(e.productos_data,[]);return Uw(Uw({},t),{},{productos:e.productos_con_datos||r.map((function(e){var t;return Uw(Uw({},e),{},{descripcion:(null===(t=e.producto)||void 0===t?void 0:t.descripcion)||"Producto no encontrado"})}))})},_=function(e){return{1:"Producto por producto",2:"Producto por dinero",3:"Dinero por producto",4:"Dinero por dinero",5:"Transferencia entre sucursales"}[e]||"Caso ".concat(e)},C=function(e){return e?"".concat(e.nombre||""," ").concat(e.apellido||"").trim():"N/A"},E=Vw((0,o.useState)([]),2),S=E[0],A=E[1],I=Vw((0,o.useState)([]),2),O=I[0],T=I[1],P=Vw((0,o.useState)(""),2),k=P[0],D=P[1],M=Vw((0,o.useState)("codigo_barras"),2),R=M[0],F=M[1],L=Vw((0,o.useState)(""),2),B=L[0],U=L[1],z=Vw((0,o.useState)([]),2),V=z[0],G=z[1],H=Vw((0,o.useState)(null),2),q=H[0],W=H[1],Y=Vw((0,o.useState)(!1),2),X=Y[0],$=Y[1],Q=Vw((0,o.useState)(!1),2),Z=Q[0],K=Q[1],J=Vw((0,o.useState)(!1),2),ee=J[0],te=J[1],re=Vw((0,o.useState)(null),2),ne=re[0],ae=re[1],oe=Vw((0,o.useState)([]),2),ie=oe[0],se=oe[1],ce=Vw((0,o.useState)(1),2),le=ce[0],ue=ce[1],de=Vw((0,o.useState)({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),2),fe=de[0],he=de[1];(0,o.useEffect)((function(){"inventario"===j&&(Ie(),Oe(),Te())}),[j,B]);var pe,me,ge,ve,xe,be,ye,je,we,Ne,_e,Ce,Ee,Se,Ae,Ie=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,s.getInventarioGarantiasCentral({tipo_inventario:B,page:1,per_page:100});case 4:(t=e.sent).data.success?A(t.data.data):console.error("Error al cargar inventario:",t.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar inventario de garantías:",e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getTiposInventarioGarantia();case 3:(t=e.sent).data.success&&T(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar tipos de inventario:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getSucursales();case 3:(t=e.sent).data&&G(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar sucursales:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.trim()){e.next=3;break}return Ie(),e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,s.searchInventarioGarantias({search_term:k,search_type:R,tipo_inventario:B});case 7:(t=e.sent).data.success?A(t.data.data):console.error("Error en búsqueda:",t.data.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al buscar productos:",e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&fe.sucursal_destino){e.next=3;break}return alert("Seleccione un producto y sucursal destino"),e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,s.transferirProductoGarantiaSucursal({producto_id:q.id,sucursal_destino:fe.sucursal_destino,cantidad:fe.cantidad,tipo_inventario:q.tipo_inventario,motivo:fe.motivo,solicitado_por:fe.solicitado_por});case 7:(t=e.sent).data.success?(alert("Solicitud de transferencia enviada correctamente"),$(!1),W(null),he({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),Ie()):alert("Error en transferencia: "+t.data.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al transferir:",e.t0),alert("Error de conexión al transferir");case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&fe.sucursal_destino){e.next=3;break}return alert("Seleccione un producto y sucursal destino"),e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,s.transferirGarantiaVentaNormal({producto_id:q.id,sucursal_destino:fe.sucursal_destino,cantidad:fe.cantidad,tipo_inventario:q.tipo_inventario,autorizado_por:fe.solicitado_por,observaciones:fe.motivo});case 7:(t=e.sent).data.success?(alert("Producto transferido a inventario de venta"),K(!1),W(null),he({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),Ie()):alert("Error en transferencia: "+t.data.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al transferir a venta:",e.t0),alert("Error de conexión al transferir a venta");case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),Me=function(e){switch(e){case"PENDIENTE":return"bg-warning text-dark";case"APROBADA":return"bg-success text-white";case"RECHAZADA":return"bg-danger text-white";case"FINALIZADA":return"bg-secondary text-white";default:return"bg-light text-dark"}},Re=function(){var e=Lw(Rw().mark((function e(t){var r,n,o,i;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,r=t.solicitud_central_id||t.id,e.next=5,s.ejecutarSolicitudGarantiaModerna(r);case 5:if(200!==(n=e.sent).status||!n.data.success){e.next=11;break}alert("Solicitud de garantía ejecutada exitosamente usando el sistema moderno"),a(),e.next=23;break;case 11:return console.warn("Método moderno falló, intentando método legacy..."),e.prev=12,e.next=15,s.ejecutarGarantia(t.id);case 15:200===(o=e.sent).status&&o.data.success?(alert("Garantía ejecutada exitosamente (método legacy)"),a()):alert("Error al ejecutar garantía: "+(o.data.message||"Error desconocido")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(12),console.error("Error en método legacy:",e.t0),alert("Error al ejecutar garantía: "+(n.data.message||"Error desconocido"));case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(1),console.error("Error al ejecutar garantía:",e.t1),alert("Error de conexión al ejecutar garantía: "+((null===(i=e.t1.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||e.t1.message));case 29:return e.prev=29,u(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,25,29,32],[12,19]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Lw(Rw().mark((function e(){var t;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,s.syncGarantias();case 4:200===(t=e.sent).status&&t.data.success?a():alert("Error en sincronización: "+(t.data.error||"Error desconocido")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error en sincronización:",e.t0),alert("Error de conexión durante sincronización");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Lw(Rw().mark((function e(){var t,r;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/get-cajas-disponibles",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});case 3:return t=e.sent,e.next=6,t.json();case 6:(r=e.sent).success?(se(r.cajas),r.cajas.length>0&&ue(r.cajas[0].id)):console.error("Error al cargar cajas:",r.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error al cargar cajas disponibles:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Lw(Rw().mark((function e(t){return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(t.ejecutada||"FINALIZADA"===t.estatus)){e.next=3;break}return alert("Solo se pueden imprimir tickets de solicitudes finalizadas"),e.abrupt("return");case 3:return e.next=5,Le();case 5:ae(t),te(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Lw(Rw().mark((function e(){var t,r;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.prev=3,e.next=6,fetch("/api/imprimir-ticket-garantia",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({solicitud_id:ne.id,printer:le})});case 6:return t=e.sent,e.next=9,t.json();case 9:(r=e.sent).success?(alert("Ticket impreso exitosamente en Caja ".concat(le," (").concat(r.tipo_impresion," #").concat(r.numero_impresion,")")),te(!1),ae(null)):alert("Error al imprimir ticket: "+r.message),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error al imprimir ticket:",e.t0),alert("Error al imprimir ticket: "+e.t0.message);case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),ze="todas"===m?n:n.filter((function(e){return"pendientes"===m?"PENDIENTE"===e.estatus:"aprobadas"===m?"APROBADA"===e.estatus&&!e.ejecutada:"rechazadas"===m?"RECHAZADA"===e.estatus:"finalizadas"!==m||e.ejecutada||"FINALIZADA"===e.estatus}));return(0,at.jsxs)("div",{className:"garantia-list",children:["garantias"===j&&(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"row mb-4",children:(0,at.jsx)("div",{className:"flex flex-col gap-3 w-full",children:(0,at.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,at.jsxs)("div",{className:"hidden sm:flex flex-row items-center gap-1 text-sm",children:[(0,at.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("todas"===m?"bg-blue-600 text-white":"bg-white border border-blue-600 text-blue-600 hover:bg-blue-50"," transition"),onClick:function(){return g("todas")},children:["Todas (",n.length,")"]}),(0,at.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("pendientes"===m?"bg-sinapsis text-white":"bg-white border border-sinapsis text-sinapsis hover:bg-sinapsis/10"," transition"),onClick:function(){return g("pendientes")},children:["Pendientes (",n.filter((function(e){return"PENDIENTE"===e.estatus})).length,")"]}),(0,at.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("aprobadas"===m?"bg-green-600 text-white":"bg-white border border-green-600 text-green-600 hover:bg-green-50"," transition"),onClick:function(){return g("aprobadas")},children:["Por Ejecutar (",n.filter((function(e){return"APROBADA"===e.estatus&&!e.ejecutada})).length,")"]}),(0,at.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("finalizadas"===m?"bg-gray-600 text-white":"bg-white border border-gray-600 text-gray-600 hover:bg-gray-50"," transition"),onClick:function(){return g("finalizadas")},children:["Finalizadas (",n.filter((function(e){return e.ejecutada||"FINALIZADA"===e.estatus})).length,")"]}),(0,at.jsx)("button",{className:"px-3 py-1.5 rounded bg-sky-500 text-white hover:bg-sky-600 transition flex items-center gap-1",onClick:Fe,disabled:l,children:(0,at.jsx)("i",{className:"fa fa-sync"})})]}),(0,at.jsxs)("div",{className:"sm:hidden",children:[(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,at.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("todas"===m?"bg-blue-600 text-white":"bg-white border border-blue-600 text-blue-600 hover:bg-blue-50"," transition"),onClick:function(){return g("todas")},children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"font-semibold",children:"Todas"}),(0,at.jsxs)("div",{className:"text-xs opacity-75",children:["(",n.length,")"]})]})}),(0,at.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("pendientes"===m?"bg-sinapsis text-white":"bg-white border border-sinapsis text-sinapsis hover:bg-sinapsis/10"," transition"),onClick:function(){return g("pendientes")},children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"font-semibold",children:"Pendientes"}),(0,at.jsxs)("div",{className:"text-xs opacity-75",children:["(",n.filter((function(e){return"PENDIENTE"===e.estatus})).length,")"]})]})}),(0,at.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("aprobadas"===m?"bg-green-600 text-white":"bg-white border border-green-600 text-green-600 hover:bg-green-50"," transition"),onClick:function(){return g("aprobadas")},children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"font-semibold",children:"Por Ejecutar"}),(0,at.jsxs)("div",{className:"text-xs opacity-75",children:["(",n.filter((function(e){return"APROBADA"===e.estatus&&!e.ejecutada})).length,")"]})]})}),(0,at.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("finalizadas"===m?"bg-gray-600 text-white":"bg-white border border-gray-600 text-gray-600 hover:bg-gray-50"," transition"),onClick:function(){return g("finalizadas")},children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"font-semibold",children:"Finalizadas"}),(0,at.jsxs)("div",{className:"text-xs opacity-75",children:["(",n.filter((function(e){return e.ejecutada||"FINALIZADA"===e.estatus})).length,")"]})]})})]}),(0,at.jsx)("div",{className:"mt-2",children:(0,at.jsxs)("button",{className:"w-full px-3 py-2 rounded bg-sky-500 text-white hover:bg-sky-600 transition flex items-center justify-center gap-2 text-sm font-medium",onClick:Fe,disabled:l,children:[(0,at.jsx)("i",{className:"fa fa-sync"}),(0,at.jsx)("span",{children:"Sincronizar con Central"})]})})]})]})})}),l&&(0,at.jsx)("div",{className:"text-center py-3",children:(0,at.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}),!l&&0===ze.length&&(0,at.jsxs)("div",{className:"alert alert-info text-center",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),"No hay garantías en esta categoría"]}),!l&&ze.length>0&&(0,at.jsx)("div",{className:"list-group",children:ze.map((function(e){return(0,at.jsx)("div",{className:"list-group-item list-group-item-action",children:(0,at.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:(0,at.jsxs)("div",{className:"flex-grow-1",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-shield-alt me-2 text-primary"}),"Garantía #",e.id,e.solicitud_central_id&&(0,at.jsxs)("small",{className:"text-muted ms-2",children:["(Central: #",e.solicitud_central_id,")"]}),e.id_pedido_insucursal&&(0,at.jsxs)("small",{className:"text-info ms-2",children:["(Pedido: #",e.id_pedido_insucursal,")"]})]}),(0,at.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,at.jsx)("span",{className:"badge ".concat(Me(e.estatus)),children:e.estatus}),(0,at.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return t=e.id,(r=new Set(x)).has(t)?r.delete(t):r.add(t),void b(r);var t,r},children:(0,at.jsx)("i",{className:"fa fa-chevron-".concat(x.has(e.id)?"up":"down")})})]})]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("small",{className:"text-muted",children:"Productos:"}),(0,at.jsx)("div",{children:(r=N(e),r.productos&&r.productos.length>0?r.productos.length>1?"".concat(r.productos.length," productos"):(null===(t=r.productos[0].producto)||void 0===t?void 0:t.descripcion)||"N/A":"N/A")})]}),(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("small",{className:"text-muted",children:"Caso de uso:"}),(0,at.jsx)("div",{children:_(e.caso_uso)})]}),(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("small",{className:"text-muted",children:"Fecha:"}),(0,at.jsx)("div",{children:new Date(e.created_at).toLocaleDateString()})]})]}),x.has(e.id)&&(0,at.jsx)("div",{className:"mt-3 pt-3 border-top",children:function(t,r,n,a,o){var s,c=N(e),u=w(e.metodos_devolucion,[]);return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("h6",{children:"Detalles"}),(0,at.jsxs)("ul",{className:"list-unstyled small",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Motivo:"})," ",c.motivo||e.motivo_devolucion||"N/A"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Tipo:"})," ",e.tipo_solicitud]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Sucursal:"})," ",(null===(t=e.sucursal)||void 0===t?void 0:t.nombre)||"N/A"]}),e.id_pedido_insucursal&&(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Pedido ID:"})," #",e.id_pedido_insucursal]}),e.monto_devolucion_dinero&&(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Monto devolución:"})," $",e.monto_devolucion_dinero]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Días desde compra:"})," ",c.dias_desdecompra||e.dias_transcurridos_compra||"N/A"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Trajo factura:"})," ",e.trajo_factura?"Sí":"No"]})]})]}),(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("h6",{children:"Responsables"}),(0,at.jsxs)("ul",{className:"list-unstyled small",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Cliente:"})," ",C(e.cliente)," - ",(null===(r=e.cliente)||void 0===r?void 0:r.cedula)||"N/A"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Cajero:"})," ",C(e.cajero)," - ",(null===(n=e.cajero)||void 0===n?void 0:n.cedula)||"N/A"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Supervisor:"})," ",C(e.supervisor)," - ",(null===(a=e.supervisor)||void 0===a?void 0:a.cedula)||"N/A"]}),e.dici&&(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"DICI:"})," ",C(e.dici)," - ",(null===(o=e.dici)||void 0===o?void 0:o.cedula)||"N/A"]})]})]})]}),c.productos&&c.productos.length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Productos"}),(0,at.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Descripción"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Estado"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Tipo"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Cantidad"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Precio"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Código"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.productos.map((function(t,r){var n,a,o,i,s=w(e.productos_data,[]).find((function(e){return e.id_producto===t.id_producto&&e.estado===t.estado&&e.tipo})),c=(null==s?void 0:s.tipo)||"N/A";return(0,at.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs truncate",title:(null===(n=t.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:(null===(a=t.producto)||void 0===a?void 0:a.descripcion)||"N/A"}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("DAÑADO"===t.estado?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:t.estado||"BUENO"})}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm",children:"N/A"!==c?(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("entrada"===c?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:c.toUpperCase()}):(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"N/A"})}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:t.cantidad||1}),(0,at.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:["$",(null===(o=t.producto)||void 0===o?void 0:o.precio)||0]}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:(null===(i=t.producto)||void 0===i?void 0:i.codigo_barras)||"N/A"})]},r)}))})]})}),(0,at.jsx)("div",{className:"md:hidden space-y-3",children:c.productos.map((function(t,r){var n,a,o,i,s=w(e.productos_data,[]).find((function(e){return e.id_producto===t.id_producto&&e.estado===t.estado&&e.tipo})),c=(null==s?void 0:s.tipo)||"N/A";return(0,at.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,at.jsxs)("div",{className:"space-y-2",children:[(0,at.jsx)("div",{children:(0,at.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",title:(null===(n=t.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:(null===(a=t.producto)||void 0===a?void 0:a.descripcion)||"N/A"})}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Estado:"}),(0,at.jsx)("span",{className:"ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("DAÑADO"===t.estado?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:t.estado||"BUENO"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Tipo:"}),"N/A"!==c?(0,at.jsx)("span",{className:"ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("entrada"===c?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:c.toUpperCase()}):(0,at.jsx)("span",{className:"ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"N/A"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Cantidad:"}),(0,at.jsx)("span",{className:"ml-1 font-medium",children:t.cantidad||1})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Precio:"}),(0,at.jsxs)("span",{className:"ml-1 font-medium",children:["$",(null===(o=t.producto)||void 0===o?void 0:o.precio)||0]})]})]}),(0,at.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,at.jsx)("span",{className:"text-gray-500 text-xs",children:"Código:"}),(0,at.jsx)("span",{className:"ml-1 text-xs font-mono text-gray-700",children:(null===(i=t.producto)||void 0===i?void 0:i.codigo_barras)||"N/A"})]})]})},r)}))})]}),u.length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{children:"Métodos de Devolución"}),(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm table-striped",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Monto"}),(0,at.jsx)("th",{children:"Moneda"})]})}),(0,at.jsx)("tbody",{children:u.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.tipo||"N/A"}),(0,at.jsx)("td",{children:e.monto_original||0}),(0,at.jsx)("td",{children:e.moneda_original||"N/A"})]},t)}))})]})})]}),(s=function(e){w(e.metodos_devolucion,[]);var t=w(e.productos_data,[]),r=0;t.filter((function(e){return"entrada"===e.tipo})).forEach((function(t){var n,a,o=null===(n=e.productos_con_datos)||void 0===n?void 0:n.find((function(e){return e.id_producto===t.id_producto})),i=(null==o||null===(a=o.producto)||void 0===a?void 0:a.precio)||0;r+=i*(t.cantidad||1)}));var n=0;t.filter((function(e){return"salida"===e.tipo})).forEach((function(t){var r,a,o=null===(r=e.productos_con_datos)||void 0===r?void 0:r.find((function(e){return e.id_producto===t.id_producto})),i=(null==o||null===(a=o.producto)||void 0===a?void 0:a.precio)||0;n+=i*(t.cantidad||1)}));var a=n-r;return{valorEntrada:r,valorSalida:n,diferencia:a,aFavorCliente:a>0,aFavorEmpresa:a<0,sinDiferencia:0===a}}(e),(0,at.jsx)("div",{className:"mt-3",children:(0,at.jsx)("div",{className:"card border-0 shadow-sm ".concat(s.aFavorCliente?"border-start border-4 border-success":s.aFavorEmpresa?"border-start border-4 border-danger":"border-start border-4 border-info"),children:(0,at.jsxs)("div",{className:"card-body p-3",children:[(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h6",{className:"card-title mb-1",children:[(0,at.jsx)("i",{className:"fa ".concat(s.aFavorCliente?"fa-arrow-up text-success":s.aFavorEmpresa?"fa-arrow-down text-danger":"fa-equals text-info"," me-2")}),"Diferencia en Movimiento"]}),(0,at.jsx)("p",{className:"card-text small text-muted mb-0",children:s.aFavorCliente?"Cliente debe pagar diferencia":s.aFavorEmpresa?"Empresa debe devolver diferencia":"Sin diferencia - Intercambio equitativo"})]}),(0,at.jsxs)("div",{className:"text-end",children:[(0,at.jsxs)("div",{className:"h5 mb-0 ".concat(s.aFavorCliente?"text-success":s.aFavorEmpresa?"text-danger":"text-info"),children:["$",Math.abs(s.diferencia).toFixed(2)]}),(0,at.jsx)("small",{className:"text-muted",children:s.aFavorCliente?"A favor del cliente":s.aFavorEmpresa?"A favor de la empresa":"Sin diferencia"})]})]}),(0,at.jsxs)("div",{className:"row mt-2 pt-2 border-top",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted d-block",children:"Valor Entrada:"}),(0,at.jsxs)("span",{className:"fw-bold",children:["$",s.valorEntrada.toFixed(2)]})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsx)("small",{className:"text-muted d-block",children:"Valor Salida:"}),(0,at.jsxs)("span",{className:"fw-bold",children:["$",s.valorSalida.toFixed(2)]})]})]})]})})})),(c.detalles_adicionales||e.detalles_adicionales)&&(0,at.jsxs)("div",{className:"mt-2",children:[(0,at.jsx)("strong",{children:"Detalles adicionales:"}),(0,at.jsx)("div",{className:"text-muted small",children:c.detalles_adicionales||e.detalles_adicionales})]}),(0,at.jsxs)("div",{className:"mt-3 pt-2 border-top",children:["APROBADA"===e.estatus&&!e.ejecutada&&(0,at.jsxs)("button",{className:"btn btn-success btn-sm me-2",onClick:function(){return Re(e)},disabled:l,children:[(0,at.jsx)("i",{className:"fa fa-play me-1"}),"Ejecutar Garantía"]}),(e.ejecutada||"FINALIZADA"===e.estatus)&&(0,at.jsxs)("button",{className:"btn btn-warning btn-sm me-2",onClick:function(){return Be(e)},disabled:l,children:[(0,at.jsx)("i",{className:"fa fa-print me-1"}),"Imprimir Ticket"]}),e.solicitud_central_id&&(0,at.jsxs)("button",{className:"btn btn-info btn-sm me-2",onClick:function(){return window.open("".concat(i.central_url||"https://phplaravel-1009655-3565285.cloudwaysapps.com","/dashboard/garantias/").concat(e.solicitud_central_id),"_blank")},children:[(0,at.jsx)("i",{className:"fa fa-external-link-alt me-1"}),"Ver en Central"]}),(0,at.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return h(e)},children:[(0,at.jsx)("i",{className:"fa fa-eye me-1"}),"Ver Detalles"]})]})]})}()})]})})},e.id);var t,r}))})]}),"inventario"===j&&(0,at.jsxs)("div",{children:[(0,at.jsxs)("div",{className:"row mb-4",children:[(0,at.jsx)("div",{className:"col-md-3",children:(0,at.jsxs)("select",{className:"form-select",value:B,onChange:function(e){return U(e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Todos los tipos"}),O.map((function(e){return(0,at.jsx)("option",{value:e.nombre,children:e.descripcion},e.id)}))]})}),(0,at.jsx)("div",{className:"col-md-3",children:(0,at.jsxs)("select",{className:"form-select",value:R,onChange:function(e){return F(e.target.value)},children:[(0,at.jsx)("option",{value:"codigo_barras",children:"Código de Barras"}),(0,at.jsx)("option",{value:"descripcion",children:"Descripción"}),(0,at.jsx)("option",{value:"codigo_proveedor",children:"Código Proveedor"})]})}),(0,at.jsx)("div",{className:"col-md-4",children:(0,at.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar producto...",value:k,onChange:function(e){return D(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Pe()}})}),(0,at.jsx)("div",{className:"col-md-2",children:(0,at.jsxs)("button",{className:"btn btn-primary w-100",onClick:Pe,disabled:l,children:[(0,at.jsx)("i",{className:"fa fa-search me-1"}),"Buscar"]})})]}),l&&(0,at.jsx)("div",{className:"text-center py-3",children:(0,at.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}),!l&&0===S.length&&(0,at.jsxs)("div",{className:"alert alert-info text-center",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),"No se encontraron productos en inventario de garantías"]}),!l&&S.length>0&&(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-striped",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Código"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Disponible"}),(0,at.jsx)("th",{children:"Reservado"}),(0,at.jsx)("th",{children:"Recuperado"}),(0,at.jsx)("th",{children:"Acciones"})]})}),(0,at.jsx)("tbody",{children:S.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.codigo_barras}),(0,at.jsx)("td",{children:e.descripcion}),(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge ".concat("disponible"===e.tipo_inventario?"bg-success":"reservado"===e.tipo_inventario?"bg-warning":"bg-info"),children:e.tipo_inventario})}),(0,at.jsx)("td",{className:"text-center",children:(0,at.jsx)("span",{className:"badge bg-success",children:e.cantidad_disponible||0})}),(0,at.jsx)("td",{className:"text-center",children:(0,at.jsx)("span",{className:"badge bg-warning",children:e.cantidad_reservada||0})}),(0,at.jsx)("td",{className:"text-center",children:(0,at.jsx)("span",{className:"badge bg-info",children:e.cantidad_recuperada||0})}),(0,at.jsx)("td",{children:(0,at.jsxs)("div",{className:"btn-group",role:"group",children:[(0,at.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){W(e),$(!0)},children:[(0,at.jsx)("i",{className:"fa fa-exchange-alt me-1"}),"Transferir"]}),(0,at.jsxs)("button",{className:"btn btn-sm btn-outline-success",onClick:function(){W(e),K(!0)},children:[(0,at.jsx)("i",{className:"fa fa-store me-1"}),"A Venta"]})]})})]},e.id)}))})]})})]}),X&&(0,at.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,at.jsx)("div",{className:"modal-dialog",children:(0,at.jsxs)("div",{className:"modal-content",children:[(0,at.jsxs)("div",{className:"modal-header",children:[(0,at.jsx)("h5",{className:"modal-title",children:"Transferir Producto"}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return $(!1)}})]}),(0,at.jsxs)("div",{className:"modal-body",children:[(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Producto:"}),(0,at.jsx)("p",{className:"form-control-plaintext",children:null==q?void 0:q.descripcion})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Sucursal Destino:"}),(0,at.jsxs)("select",{className:"form-select",value:fe.sucursal_destino,onChange:function(e){return he(Uw(Uw({},fe),{},{sucursal_destino:e.target.value}))},children:[(0,at.jsx)("option",{value:"",children:"Seleccionar sucursal"}),V.map((function(e){return(0,at.jsx)("option",{value:e.codigo,children:e.nombre},e.id)}))]})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Cantidad:"}),(0,at.jsx)("input",{type:"number",className:"form-control",value:fe.cantidad,onChange:function(e){return he(Uw(Uw({},fe),{},{cantidad:parseInt(e.target.value)}))},min:"1"})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Motivo:"}),(0,at.jsx)("textarea",{className:"form-control",value:fe.motivo,onChange:function(e){return he(Uw(Uw({},fe),{},{motivo:e.target.value}))},rows:"3"})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Solicitado por:"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:fe.solicitado_por,onChange:function(e){return he(Uw(Uw({},fe),{},{solicitado_por:e.target.value}))}})]})]}),(0,at.jsxs)("div",{className:"modal-footer",children:[(0,at.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return $(!1)},children:"Cancelar"}),(0,at.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ke,disabled:l,children:"Transferir"})]})]})})}),Z&&(0,at.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,at.jsx)("div",{className:"modal-dialog",children:(0,at.jsxs)("div",{className:"modal-content",children:[(0,at.jsxs)("div",{className:"modal-header",children:[(0,at.jsx)("h5",{className:"modal-title",children:"Transferir a Venta Normal"}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return K(!1)}})]}),(0,at.jsxs)("div",{className:"modal-body",children:[(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Producto:"}),(0,at.jsx)("p",{className:"form-control-plaintext",children:null==q?void 0:q.descripcion})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Sucursal Destino:"}),(0,at.jsxs)("select",{className:"form-select",value:fe.sucursal_destino,onChange:function(e){return he(Uw(Uw({},fe),{},{sucursal_destino:e.target.value}))},children:[(0,at.jsx)("option",{value:"",children:"Seleccionar sucursal"}),V.map((function(e){return(0,at.jsx)("option",{value:e.codigo,children:e.nombre},e.id)}))]})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Cantidad:"}),(0,at.jsx)("input",{type:"number",className:"form-control",value:fe.cantidad,onChange:function(e){return he(Uw(Uw({},fe),{},{cantidad:parseInt(e.target.value)}))},min:"1"})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Autorizado por:"}),(0,at.jsx)("input",{type:"text",className:"form-control",value:fe.solicitado_por,onChange:function(e){return he(Uw(Uw({},fe),{},{solicitado_por:e.target.value}))}})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("label",{className:"form-label",children:"Observaciones:"}),(0,at.jsx)("textarea",{className:"form-control",value:fe.motivo,onChange:function(e){return he(Uw(Uw({},fe),{},{motivo:e.target.value}))},rows:"3"})]})]}),(0,at.jsxs)("div",{className:"modal-footer",children:[(0,at.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return K(!1)},children:"Cancelar"}),(0,at.jsx)("button",{type:"button",className:"btn btn-success",onClick:De,disabled:l,children:"Transferir a Venta"})]})]})})}),f&&(0,at.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,at.jsx)("div",{className:"modal-dialog modal-fullscreen-lg-down",style:{maxWidth:"95%"},children:(0,at.jsxs)("div",{className:"modal-content",children:[(0,at.jsxs)("div",{className:"modal-header",children:[(0,at.jsxs)("h5",{className:"modal-title",children:["Detalles de Solicitud #",f.id]}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return h(null)}})]}),(0,at.jsx)("div",{className:"modal-body",children:(Se=N(f),Ae=w(f.metodos_devolucion,[]),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-8",children:[(0,at.jsx)("h6",{children:"Información General"}),(0,at.jsx)("table",{className:"table table-sm",children:(0,at.jsxs)("tbody",{children:[(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Estado:"})}),(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge ".concat(Me(f.estatus)),children:f.estatus})})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Caso de uso:"})}),(0,at.jsx)("td",{children:_(f.caso_uso)})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Tipo:"})}),(0,at.jsx)("td",{children:f.tipo_solicitud})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Sucursal:"})}),(0,at.jsxs)("td",{children:[(null===(pe=f.sucursal)||void 0===pe?void 0:pe.nombre)||"N/A"," (",(null===(me=f.sucursal)||void 0===me?void 0:me.codigo)||"N/A",")"]})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Fecha creación:"})}),(0,at.jsx)("td",{children:new Date(f.created_at).toLocaleString()})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Motivo:"})}),(0,at.jsx)("td",{children:Se.motivo||f.motivo_devolucion||"N/A"})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Días desde compra:"})}),(0,at.jsx)("td",{children:Se.dias_desdecompra||f.dias_transcurridos_compra||"N/A"})]}),(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Trajo factura:"})}),(0,at.jsx)("td",{children:f.trajo_factura?"Sí":"No"})]}),f.monto_devolucion_dinero&&(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:"Monto devolución:"})}),(0,at.jsxs)("td",{children:["$",f.monto_devolucion_dinero]})]})]})}),(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{children:"Responsables"}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Cliente:"})," ",C(f.cliente)," - ",(null===(ge=f.cliente)||void 0===ge?void 0:ge.cedula)||"N/A"]}),(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Cajero:"})," ",C(f.cajero)," - ",(null===(ve=f.cajero)||void 0===ve?void 0:ve.cedula)||"N/A"]})]}),(0,at.jsxs)("div",{className:"col-6",children:[(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Supervisor:"})," ",C(f.supervisor)," - ",(null===(xe=f.supervisor)||void 0===xe?void 0:xe.cedula)||"N/A"]}),f.dici&&(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"DICI:"})," ",C(f.dici)," - ",(null===(be=f.dici)||void 0===be?void 0:be.cedula)||"N/A"]})]})]})]}),Se.productos&&Se.productos.length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{children:"Productos"}),(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm table-striped",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Código"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Estado"}),(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Cantidad"}),(0,at.jsx)("th",{children:"Precio"}),(0,at.jsx)("th",{children:"Total"})]})}),(0,at.jsx)("tbody",{children:Se.productos.map((function(e,t){var r,n,a,o,i,s=(null===(r=e.producto)||void 0===r?void 0:r.precio)||0,c=e.cantidad||1,l=s*c,u=w(f.productos_data,[]).find((function(t){return t.id_producto===e.id_producto})),d=(null==u?void 0:u.tipo)||"N/A";return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge bg-light text-dark",children:(null===(n=e.producto)||void 0===n?void 0:n.codigo_barras)||(null===(a=e.producto)||void 0===a?void 0:a.codigo_proveedor)||(null===(o=e.producto)||void 0===o?void 0:o.id)||"N/A"})}),(0,at.jsx)("td",{children:(0,at.jsx)("strong",{children:(null===(i=e.producto)||void 0===i?void 0:i.descripcion)||"N/A"})}),(0,at.jsx)("td",{children:e.estado?(0,at.jsx)("span",{className:"badge ".concat("MALO"===e.estado||"DAÑADO"===e.estado?"bg-danger":"bg-success"),children:"MALO"===e.estado?"DAÑADO":e.estado}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"N/A"})}),(0,at.jsx)("td",{children:"N/A"!==d?(0,at.jsx)("span",{className:"badge ".concat("entrada"===d?"bg-success":"bg-danger"),children:d.toUpperCase()}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"N/A"})}),(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge bg-primary",children:c})}),(0,at.jsx)("td",{children:(0,at.jsxs)("span",{className:"text-primary fw-bold",children:["$",s.toFixed(2)]})}),(0,at.jsx)("td",{children:(0,at.jsxs)("strong",{className:"text-success",children:["$",l.toFixed(2)]})})]},t)}))})]})})]}),f.garantia_data&&(f.garantia_data.entradas||f.garantia_data.salidas)&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("h6",{children:[(0,at.jsx)("i",{className:"fa fa-shopping-cart me-2"}),"Carrito de ",f.tipo_solicitud," (Sistema Nuevo)",f.caso_uso&&(0,at.jsx)("span",{className:"badge bg-info ms-2",children:_(f.caso_uso)})]}),(0,at.jsxs)("div",{className:"row",children:[f.garantia_data.entradas&&f.garantia_data.entradas.length>0&&(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"card border-warning",children:[(0,at.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-arrow-down me-2"}),"Entradas (",f.garantia_data.entradas.length,")"]}),(0,at.jsx)("small",{children:"Lo que recibe la tienda"})]}),(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm mb-0",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Estado"}),(0,at.jsx)("th",{children:"Movimiento"}),(0,at.jsx)("th",{children:"Cantidad/Monto"}),(0,at.jsx)("th",{children:"Valor"})]})}),(0,at.jsx)("tbody",{children:f.garantia_data.entradas.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge ".concat("PRODUCTO"===e.tipo?"bg-warning":"bg-success"),children:"PRODUCTO"===e.tipo?"PRODUCTO":"DINERO"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("strong",{children:e.descripcion||"Producto #".concat(e.producto_id)}):(0,at.jsxs)("div",{children:[(0,at.jsx)("strong",{children:"Pago Cliente"}),(0,at.jsx)("div",{children:(0,at.jsx)("span",{className:"badge bg-info badge-sm",children:e.metodo||"EFECTIVO"})})]})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?e.estado?(0,at.jsx)("span",{className:"badge ".concat("MALO"===e.estado||"DAÑADO"===e.estado?"bg-danger":"bg-success"),children:"MALO"===e.estado||"DAÑADO"===e.estado?"DAÑADO":"BUENO"}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"N/A"}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("span",{className:"badge bg-success",children:"↗️ ENTRADA"}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("span",{className:"badge bg-primary",children:e.cantidad}):(0,at.jsxs)("span",{className:"text-success fw-bold",children:["$",e.monto_usd]})}),(0,at.jsx)("td",{children:(0,at.jsxs)("strong",{className:"text-warning",children:["$","PRODUCTO"===e.tipo?((e.cantidad||0)*(e.precio_unitario||0)).toFixed(2):(e.monto_usd||0).toFixed(2)]})})]},t)}))})]})})})]})}),f.garantia_data.salidas&&f.garantia_data.salidas.length>0&&(0,at.jsx)("div",{className:"col-md-6",children:(0,at.jsxs)("div",{className:"card border-success",children:[(0,at.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-arrow-up me-2"}),"Salidas (",f.garantia_data.salidas.length,")"]}),(0,at.jsx)("small",{children:"Lo que entrega la tienda"})]}),(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm mb-0",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Estado"}),(0,at.jsx)("th",{children:"Movimiento"}),(0,at.jsx)("th",{children:"Cantidad/Monto"}),(0,at.jsx)("th",{children:"Valor"})]})}),(0,at.jsx)("tbody",{children:f.garantia_data.salidas.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("span",{className:"badge ".concat("PRODUCTO"===e.tipo?"bg-primary":"bg-danger"),children:"PRODUCTO"===e.tipo?"PRODUCTO":"DINERO"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("strong",{children:e.descripcion||"Producto #".concat(e.producto_id)}):(0,at.jsxs)("div",{children:[(0,at.jsx)("strong",{children:"Devolución"}),(0,at.jsx)("div",{children:(0,at.jsx)("span",{className:"badge bg-info badge-sm",children:e.metodo||"EFECTIVO"})})]})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?e.estado?(0,at.jsx)("span",{className:"badge bg-success",children:e.estado}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"N/A"}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("span",{className:"badge bg-danger",children:"↙️ SALIDA"}):(0,at.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,at.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,at.jsx)("span",{className:"badge bg-primary",children:e.cantidad}):(0,at.jsxs)("span",{className:"text-danger fw-bold",children:["$",e.monto_usd]})}),(0,at.jsx)("td",{children:(0,at.jsxs)("strong",{className:"text-success",children:["$","PRODUCTO"===e.tipo?((e.cantidad||0)*(e.precio_unitario||0)).toFixed(2):(e.monto_usd||0).toFixed(2)]})})]},t)}))})]})})})]})})]}),f.garantia_data&&(f.garantia_data.entradas||f.garantia_data.salidas)&&(0,at.jsx)("div",{className:"mt-3",children:(0,at.jsxs)("div",{className:"card bg-light",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-calculator me-2"}),"Resumen del Carrito"]})}),(0,at.jsx)("div",{className:"card-body",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("strong",{children:"Total Entradas:"}),(0,at.jsxs)("div",{className:"text-warning fs-5",children:["$",(f.garantia_data.entradas||[]).reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0).toFixed(2)]})]}),(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("strong",{children:"Total Salidas:"}),(0,at.jsxs)("div",{className:"text-success fs-5",children:["$",(f.garantia_data.salidas||[]).reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0).toFixed(2)]})]}),(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsx)("strong",{children:"Balance:"}),(0,at.jsxs)("div",{className:"fs-5 ".concat((_e=f.garantia_data.entradas||[],Ce=f.garantia_data.salidas||[],Ee=_e.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-Ce.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0),Math.abs(Ee)<.01?"text-muted":Ee>0?"text-primary":"text-danger")),children:["$",function(){var e=f.garantia_data.entradas||[],t=f.garantia_data.salidas||[];return(e.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-t.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)).toFixed(2)}()]}),(0,at.jsx)("small",{className:"text-muted",children:function(){var e=f.garantia_data.entradas||[],t=f.garantia_data.salidas||[],r=e.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-t.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0);return Math.abs(r)<.01?"Equilibrado":r>0?"A favor del cliente":"A favor de la empresa"}()})]})]})})]})})]}),Ae.length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{children:"Métodos de Devolución"}),(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-sm table-striped",children:[(0,at.jsx)("thead",{children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Monto"}),(0,at.jsx)("th",{children:"Moneda"})]})}),(0,at.jsx)("tbody",{children:Ae.map((function(e,t){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.tipo||"N/A"}),(0,at.jsx)("td",{children:e.monto_original||0}),(0,at.jsx)("td",{children:e.moneda_original||"N/A"})]},t)}))})]})})]}),(Se.detalles_adicionales||f.detalles_adicionales)&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsx)("h6",{children:"Detalles Adicionales"}),(0,at.jsx)("div",{className:"alert alert-info",children:Se.detalles_adicionales||f.detalles_adicionales})]}),Object.keys(Se).length>0&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("h6",{children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),"Información de Garantía"]}),(0,at.jsxs)("div",{className:"row",children:[void 0!==Se.dias_desdecompra&&(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Días desde compra:"}),(0,at.jsxs)("span",{className:"badge bg-primary ms-2",children:[Se.dias_desdecompra," días"]})]}),void 0!==Se.cantidad_salida&&(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Cantidad salida:"}),(0,at.jsx)("span",{className:"badge bg-info ms-2",children:Se.cantidad_salida})]}),Se.motivo_salida&&(0,at.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,at.jsx)("strong",{children:"Motivo salida:"}),(0,at.jsx)("div",{className:"alert alert-secondary mt-1 mb-0 py-2",children:Se.motivo_salida})]})]})]}),(void 0!==f.puede_ejecutarse||f.inventario_afectado)&&(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("h6",{children:[(0,at.jsx)("i",{className:"fa fa-cogs me-2"}),"Estado de Ejecución"]}),(0,at.jsxs)("div",{className:"row",children:[void 0!==f.puede_ejecutarse&&(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Puede Ejecutarse:"}),(0,at.jsx)("span",{className:"badge ms-2 ".concat(f.puede_ejecutarse?"bg-success":"bg-danger"),children:f.puede_ejecutarse?"Sí":"No"})]}),f.inventario_afectado&&(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("strong",{children:"Inventario Afectado:"}),(0,at.jsx)("span",{className:"badge bg-warning ms-2",children:"Sí"})]}),f.fecha_ejecucion&&(0,at.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,at.jsx)("strong",{children:"Fecha de Ejecución:"}),(0,at.jsx)("span",{className:"text-success ms-2",children:new Date(f.fecha_ejecucion).toLocaleString()})]})]})]})]}),(0,at.jsxs)("div",{className:"col-md-4",children:[(0,at.jsxs)("h6",{children:[(0,at.jsx)("i",{className:"fa fa-images me-2"}),"Galería de Fotos"]}),f.foto_factura_url&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("h6",{className:"text-info",children:[(0,at.jsx)("i",{className:"fa fa-receipt me-2"}),"Foto de Factura"]}),(0,at.jsxs)("div",{className:"card",children:[(0,at.jsxs)("div",{className:"position-relative",children:[(0,at.jsx)("img",{src:"".concat(i.central_url||"http://127.0.0.1:8001","/storage/").concat(f.foto_factura_url),alt:"Foto de Factura",className:"card-img-top",style:{height:"200px",objectFit:"cover",cursor:"pointer"},onClick:function(){return window.open("".concat(i.central_url||"http://127.0.0.1:8001","/storage/").concat(f.foto_factura_url),"_blank")},onError:function(e){e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,at.jsx)("div",{className:"d-none position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",style:{height:"200px"},children:(0,at.jsxs)("div",{className:"text-center text-muted",children:[(0,at.jsx)("i",{className:"fa fa-receipt fa-3x mb-2"}),(0,at.jsx)("p",{children:"Factura no disponible"}),(0,at.jsx)("small",{children:f.foto_factura_url})]})}),(0,at.jsx)("div",{className:"position-absolute top-0 end-0 m-2",children:(0,at.jsx)("span",{className:"badge bg-info",children:"Factura"})})]}),(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("small",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-1"}),"Factura #",f.factura_venta_id||"N/A"]})})]})]}),f.fotos&&f.fotos.length>0&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("h6",{className:"text-success",children:[(0,at.jsx)("i",{className:"fa fa-camera me-2"}),"Fotos de Productos (",f.fotos.length,")"]}),(0,at.jsx)("div",{className:"row",children:f.fotos.map((function(e,t){var r=e.url_completa||e.foto_url_completa||"".concat(i.central_url||"http://127.0.0.1:8001","/storage/").concat(e.foto_url);return(0,at.jsx)("div",{className:"col-12 mb-3",children:(0,at.jsxs)("div",{className:"card",children:[(0,at.jsxs)("div",{className:"position-relative",children:[(0,at.jsx)("img",{src:r,alt:"Foto Producto ".concat(t+1),className:"card-img-top",style:{height:"200px",objectFit:"cover",cursor:"pointer"},onClick:function(){return window.open(r,"_blank")},onError:function(e){console.error("Error cargando foto de producto:",r),e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,at.jsx)("div",{className:"d-none position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",style:{height:"200px"},children:(0,at.jsxs)("div",{className:"text-center text-muted",children:[(0,at.jsx)("i",{className:"fa fa-image fa-3x mb-2"}),(0,at.jsx)("p",{children:"Imagen no disponible"}),(0,at.jsx)("small",{children:e.foto_url})]})}),(0,at.jsx)("div",{className:"position-absolute top-0 end-0 m-2",children:(0,at.jsxs)("span",{className:"badge bg-primary",children:["#",t+1]})})]}),e.descripcion&&(0,at.jsx)("div",{className:"card-body p-2",children:(0,at.jsxs)("small",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fa fa-comment me-1"}),e.descripcion]})})]})},t)}))})]}),!f.foto_factura_url&&(!f.fotos||0===f.fotos.length)&&(0,at.jsx)("div",{className:"alert alert-info text-center",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("i",{className:"fa fa-camera fa-2x mb-2 text-muted"}),(0,at.jsx)("p",{className:"mb-1",children:"No hay fotos disponibles"}),(0,at.jsx)("small",{className:"text-muted",children:"Esta solicitud no incluye fotos de productos ni factura"})]})}),(f.foto_factura_url||f.fotos&&f.fotos.length>0)&&(0,at.jsx)("div",{className:"mt-3",children:(0,at.jsx)("div",{className:"alert alert-success text-center py-2",children:(0,at.jsxs)("small",{className:"text-success",children:[(0,at.jsx)("i",{className:"fa fa-check-circle me-1"}),(ye=f.foto_factura_url?1:0,je=f.fotos?f.fotos.length:0,we=ye+je,Ne="".concat(we," foto").concat(1!==we?"s":""," disponible").concat(1!==we?"s":""),ye&&je>0?Ne+=" (1 factura + ".concat(je," producto").concat(1!==je?"s":"",")"):ye?Ne+=" (factura)":je>0&&(Ne+=" (producto".concat(1!==je?"s":"",")")),Ne)]})})})]})]}))}),(0,at.jsx)("div",{className:"modal-footer",children:(0,at.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return h(null)},children:"Cerrar"})})]})})}),ee&&(0,at.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,at.jsx)("div",{className:"modal-dialog",children:(0,at.jsxs)("div",{className:"modal-content",children:[(0,at.jsxs)("div",{className:"modal-header",children:[(0,at.jsxs)("h5",{className:"modal-title",children:[(0,at.jsx)("i",{className:"fa fa-print me-2"}),"Seleccionar Caja para Imprimir"]}),(0,at.jsx)("button",{type:"button",className:"btn-close",onClick:function(){te(!1),ae(null)}})]}),(0,at.jsxs)("div",{className:"modal-body",children:[ne&&(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("h6",{children:"Detalles de la Solicitud:"}),(0,at.jsx)("div",{className:"card",children:(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Solicitud #:"})," ",ne.id]}),(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Cliente:"})," ",null===(t=ne.cliente)||void 0===t?void 0:t.nombre," ",null===(r=ne.cliente)||void 0===r?void 0:r.apellido]}),(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Estatus:"}),(0,at.jsx)("span",{className:"badge ms-2 ".concat(Me(ne.estatus)),children:ne.estatus})]})]})})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsxs)("label",{htmlFor:"cajaSelect",className:"form-label",children:[(0,at.jsx)("i",{className:"fa fa-cash-register me-2"}),"Seleccione la Caja:"]}),(0,at.jsx)("select",{id:"cajaSelect",className:"form-select",value:le,onChange:function(e){return ue(parseInt(e.target.value))},children:ie.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))}),0===ie.length&&(0,at.jsxs)("div",{className:"alert alert-warning mt-2",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),"No hay cajas configuradas en el sistema"]})]}),(0,at.jsxs)("div",{className:"alert alert-info",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),(0,at.jsx)("strong",{children:"Nota:"})," El ticket se imprimirá en la caja seleccionada. Asegúrese de que la impresora esté conectada y funcionando."]})]}),(0,at.jsxs)("div",{className:"modal-footer",children:[(0,at.jsx)("button",{type:"button",className:"btn",onClick:function(){te(!1),ae(null)},children:"Cancelar"}),(0,at.jsx)("button",{type:"button",className:"btn bg-sinapsis",onClick:Ue,disabled:l||0===ie.length,children:l?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Imprimiendo..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-print me-2"}),"Imprimir Ticket"]})})]})]})})})]})};function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function Ww(){Ww=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==qw(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(qw(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Yw(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Xw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Yw(o,n,a,i,s,"next",e)}function s(e){Yw(o,n,a,i,s,"throw",e)}i(void 0)}))}}function $w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Zw=function(e){var t=e.config,r=(e.onSave,e.db),n=$w((0,o.useState)(!1),2),a=n[0],i=n[1],s=$w((0,o.useState)({connected:!1,central_url:"",last_check:null,error:null}),2),c=s[0],l=s[1],u=$w((0,o.useState)({total:0,pendientes:0,aprobadas:0,rechazadas:0,finalizadas:0}),2),d=u[0],f=u[1],h=$w((0,o.useState)(null),2),p=h[0],m=h[1];(0,o.useEffect)((function(){g(),v()}),[]);var g=function(){var e=Xw(Ww().mark((function e(){var t;return Ww().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r.checkGarantiaConnection();case 4:200===(t=e.sent).status&&l({connected:t.data.connected||!1,central_url:t.data.central_url||"",last_check:(new Date).toLocaleString(),error:null}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al verificar conexión:",e.t0),l({connected:!1,central_url:"",last_check:(new Date).toLocaleString(),error:"Error de conexión"});case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Xw(Ww().mark((function e(){var t;return Ww().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getGarantiaStats();case 3:200===(t=e.sent).status&&t.data.success&&f(t.data.estadisticas||{total:0,pendientes:0,aprobadas:0,rechazadas:0,finalizadas:0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar estadísticas:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Xw(Ww().mark((function e(){var t,n,a,o;return Ww().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),m(null),e.prev=2,e.next=5,r.checkGarantiaConnection();case 5:if(200!==(t=e.sent).status||!t.data.connected){e.next=13;break}return e.next=9,r.syncGarantias();case 9:200===(n=e.sent).status&&n.data.success?m({success:!0,message:"Conexión exitosa. Sincronización funcionando correctamente.",details:{garantias_sincronizadas:(null===(a=n.data.garantias)||void 0===a?void 0:a.length)||0,pendientes_central:(null===(o=n.data.pendientes_central)||void 0===o?void 0:o.length)||0}}):m({success:!1,message:"Conexión establecida pero falló la sincronización",details:{error:n.data.error||"Error desconocido"}}),e.next=14;break;case 13:m({success:!1,message:"No se pudo establecer conexión con arabitocentral",details:{error:t.data.error||"Servidor no disponible"}});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),m({success:!1,message:"Error durante la prueba de conexión",details:{error:e.t0.message}});case 19:return e.prev=19,i(!1),g(),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[2,16,19,23]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Xw(Ww().mark((function e(){var t;return Ww().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r.syncGarantias();case 4:200===(t=e.sent).status&&t.data.success?(alert("Sincronización forzada completada exitosamente"),v()):alert("Error en sincronización: "+(t.data.error||"Error desconocido")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error en sincronización forzada:",e.t0),alert("Error de conexión durante sincronización");case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,at.jsxs)("div",{className:"garantia-config",children:[(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsxs)("div",{className:"card",children:[(0,at.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("h5",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-link me-2"}),"Estado de Conexión"]}),(0,at.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:g,disabled:a,children:[(0,at.jsx)("i",{className:"fa fa-refresh me-1"}),"Verificar"]})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Estado:"}),(0,at.jsx)("span",{className:"badge ms-2 ".concat(c.connected?"bg-success":"bg-danger"),children:c.connected?"Conectado":"Desconectado"})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"URL Central:"}),(0,at.jsx)("div",{className:"text-muted small",children:c.central_url||"No configurada"})]}),(0,at.jsxs)("div",{className:"mb-3",children:[(0,at.jsx)("strong",{children:"Última verificación:"}),(0,at.jsx)("div",{className:"text-muted small",children:c.last_check||"Nunca"})]}),c.error&&(0,at.jsx)("div",{className:"alert alert-danger py-2",children:(0,at.jsx)("small",{children:c.error})}),(0,at.jsxs)("div",{className:"d-grid gap-2",children:[(0,at.jsx)("button",{className:"btn btn-primary",onClick:x,disabled:a,children:a?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Probando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-flask me-2"}),"Probar Conexión"]})}),(0,at.jsxs)("button",{className:"btn btn-info",onClick:b,disabled:a||!c.connected,children:[(0,at.jsx)("i",{className:"fa fa-sync me-2"}),"Sincronización Forzada"]})]})]})]}),p&&(0,at.jsxs)("div",{className:"card mt-3",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-test-tube me-2"}),"Resultado del Test"]})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"alert ".concat(p.success?"alert-success":"alert-danger"," py-2"),children:(0,at.jsxs)("div",{className:"d-flex align-items-center",children:[(0,at.jsx)("i",{className:"fa ".concat(p.success?"fa-check-circle":"fa-exclamation-triangle"," me-2")}),(0,at.jsx)("strong",{children:p.message})]})}),p.details&&(0,at.jsxs)("div",{className:"mt-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Detalles:"}),(0,at.jsx)("ul",{className:"list-unstyled small",children:Object.entries(p.details).map((function(e){var t=$w(e,2),r=t[0],n=t[1];return(0,at.jsxs)("li",{children:[(0,at.jsxs)("strong",{children:[r.replace(/_/g," "),":"]})," ",String(n)]},r)}))})]})]})]})]}),(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsxs)("div",{className:"card",children:[(0,at.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("h5",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-chart-bar me-2"}),"Estadísticas"]}),(0,at.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:v,disabled:a,children:[(0,at.jsx)("i",{className:"fa fa-refresh me-1"}),"Actualizar"]})]}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsxs)("div",{className:"row text-center",children:[(0,at.jsx)("div",{className:"col-6 mb-3",children:(0,at.jsxs)("div",{className:"border rounded p-3",children:[(0,at.jsx)("div",{className:"h4 text-primary mb-0",children:d.total}),(0,at.jsx)("small",{className:"text-muted",children:"Total"})]})}),(0,at.jsx)("div",{className:"col-6 mb-3",children:(0,at.jsxs)("div",{className:"border rounded p-3",children:[(0,at.jsx)("div",{className:"h4 text-sinapsis mb-0",children:d.pendientes}),(0,at.jsx)("small",{className:"text-muted",children:"Pendientes"})]})}),(0,at.jsx)("div",{className:"col-6 mb-3",children:(0,at.jsxs)("div",{className:"border rounded p-3",children:[(0,at.jsx)("div",{className:"h4 text-success mb-0",children:d.aprobadas}),(0,at.jsx)("small",{className:"text-muted",children:"Aprobadas"})]})}),(0,at.jsx)("div",{className:"col-6 mb-3",children:(0,at.jsxs)("div",{className:"border rounded p-3",children:[(0,at.jsx)("div",{className:"h4 text-secondary mb-0",children:d.finalizadas}),(0,at.jsx)("small",{className:"text-muted",children:"Finalizadas"})]})})]}),d.rechazadas>0&&(0,at.jsx)("div",{className:"mt-2 text-center",children:(0,at.jsxs)("div",{className:"border rounded p-2 bg-light",children:[(0,at.jsx)("div",{className:"h6 text-danger mb-0",children:d.rechazadas}),(0,at.jsx)("small",{className:"text-muted",children:"Rechazadas"})]})})]})]}),(0,at.jsxs)("div",{className:"card mt-3",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-info-circle me-2"}),"Información del Sistema"]})}),(0,at.jsxs)("div",{className:"card-body",children:[(0,at.jsx)("div",{className:"row",children:(0,at.jsxs)("div",{className:"col-12",children:[(0,at.jsx)("small",{className:"text-muted",children:"Sucursal:"}),(0,at.jsx)("div",{children:t.nombre||"No configurada"})]})}),(0,at.jsx)("hr",{className:"my-3"}),(0,at.jsx)("h6",{children:"Funcionalidades Disponibles:"}),(0,at.jsxs)("ul",{className:"list-unstyled small",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Creación de solicitudes de garantía"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Sincronización automática con central"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Ejecución local de garantías aprobadas"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"5 casos de uso de garantía/devolución"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("i",{className:"fa fa-check text-success me-2"}),"Gestión de inventario automática"]})]})]})]})]})]}),(0,at.jsx)("div",{className:"row mt-4",children:(0,at.jsx)("div",{className:"col-12",children:(0,at.jsxs)("div",{className:"card",children:[(0,at.jsx)("div",{className:"card-header",children:(0,at.jsxs)("h6",{className:"mb-0",children:[(0,at.jsx)("i",{className:"fa fa-question-circle me-2"}),"Ayuda y Solución de Problemas"]})}),(0,at.jsx)("div",{className:"card-body",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("h6",{children:"Problemas Comunes:"}),(0,at.jsxs)("ul",{className:"small",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Conexión fallida:"})," Verificar conectividad a internet"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Sincronización lenta:"})," Usar sincronización forzada"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("strong",{children:"Garantías no aparecen:"})," Verificar estado de conexión"]})]})]}),(0,at.jsxs)("div",{className:"col-md-6",children:[(0,at.jsx)("h6",{children:"Estados de Garantía:"}),(0,at.jsxs)("ul",{className:"small",children:[(0,at.jsxs)("li",{children:[(0,at.jsx)("span",{className:"badge bg-warning text-dark",children:"PENDIENTE"})," - Esperando aprobación"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("span",{className:"badge bg-success",children:"APROBADA"})," - Lista para ejecutar"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("span",{className:"badge bg-danger",children:"RECHAZADA"})," - No aprobada"]}),(0,at.jsxs)("li",{children:[(0,at.jsx)("span",{className:"badge bg-secondary",children:"FINALIZADA"})," - Ejecutada completamente"]})]})]})]})})]})})})]})};function Kw(e){return Kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(e)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(r),!0).forEach((function(t){tN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Kw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Kw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(){rN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Kw(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Kw(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function nN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function aN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){nN(o,n,a,i,s,"next",e)}function s(e){nN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function oN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const sN=function(e){e.sucursalConfig;var t=oN((0,o.useState)([]),2),r=t[0],n=t[1],a=oN((0,o.useState)([]),2),i=(a[0],a[1]),c=oN((0,o.useState)([]),2),l=c[0],u=c[1],d=oN((0,o.useState)(!1),2),f=d[0],h=d[1],p=oN((0,o.useState)(!1),2),m=p[0],g=p[1],v=oN((0,o.useState)(null),2),x=(v[0],v[1]),b=oN((0,o.useState)(""),2),y=b[0],j=b[1],w=oN((0,o.useState)([]),2),N=w[0],_=w[1],C=oN((0,o.useState)(!1),2),E=C[0],S=C[1],A=oN((0,o.useState)({producto_nombre:"",proveedor_id:"",tipo_inventario:"",limit:50}),2),I=A[0],O=A[1],T=oN((0,o.useState)({total:0,por_tipo:{DAÑADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0},valor_total_base:{DAÑADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0},valor_total_venta:{DAÑADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0}}),2),P=T[0],k=T[1],D=oN((0,o.useState)([]),2),M=D[0],R=D[1];(0,o.useEffect)((function(){F(),L(),B()}),[]),(0,o.useEffect)((function(){F()}),[I]);var F=function(){var e=aN(rN().mark((function e(){var t,r;return rN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,s().get("/api/garantias/inventarios",{params:I});case 4:t=e.sent,(r=t.data).success?(n(r.data.data||[]),k(r.estadisticas||{}),R(r.resumen_proveedores||[])):(console.warn("Error al cargar inventarios:",r.message),n([])),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error al cargar inventarios:",e.t0),n([]),alert("Error al cargar inventarios de garantía");case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,9,14,17]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=aN(rN().mark((function e(){var t,r;return rN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/garantias/sucursales");case 3:t=e.sent,(r=t.data).success&&i(r.data||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error al cargar sucursales:",e.t0),i([]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=aN(rN().mark((function e(){var t,r;return rN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/garantias/proveedores");case 3:t=e.sent,(r=t.data).success&&u(r.data||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error al cargar proveedores:",e.t0),u([]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(e,t){O((function(r){return eN(eN({},r),{},tN({},e,t))}))},z=function(){var e=aN(rN().mark((function e(t){var r,n,a,o,i,c;return rN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(null===(r=t.producto)||void 0===r?void 0:r.id),j((null===(n=t.producto)||void 0===n?void 0:n.descripcion)||""),g(!0),S(!0),e.prev=4,e.next=7,s().get("/api/garantias/movimientos",{params:{producto_id:null===(a=t.producto)||void 0===a?void 0:a.id}});case 7:(o=e.sent).data.success?(c=(null===(i=o.data.data)||void 0===i?void 0:i.data)||[],_(c)):(_([]),alert("Error al cargar movimientos: "+o.data.message)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al cargar movimientos:",e.t0),_([]),alert("Error al cargar movimientos");case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,11,16,19]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){switch(e){case"DAÑADO":return"bg-danger text-white";case"RECUPERADO":return"bg-success text-white";case"TRANSFERIDO_AL_PROVEEDOR":case"ENVIADO_PROVEEDOR":return"bg-info text-white";case"DEVOLUCION":return"bg-warning text-dark";default:return"bg-secondary text-white"}},G=function(e){switch(e){case"DAÑADO":return"Dañado";case"RECUPERADO":return"Recuperado";case"TRANSFERIDO_AL_PROVEEDOR":return"Transferido al Proveedor";case"DEVOLUCION":return"Devolución";case"ENVIADO_PROVEEDOR":return"Enviado a Proveedor";default:return e}},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)},q=function(e){return new Date(e).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},W=Array.isArray(r)?r:[];return(0,at.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,at.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,at.jsx)("div",{className:"w-full px-4 py-3",children:(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h1",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-warehouse mr-2 text-blue-600"}),"Inventario de Garantías"]}),(0,at.jsx)("p",{className:"mt-1 text-xs text-gray-600",children:"Gestión de inventarios por sucursal"})]}),(0,at.jsxs)("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:F,disabled:f,children:[(0,at.jsx)("i",{className:"fa fa-refresh mr-1"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Actualizar"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Ref"})]})]})})}),(0,at.jsxs)("div",{className:"w-full px-3 py-3",children:[(0,at.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mb-3",children:[(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-blue-600",children:P.total}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Total"})]}),(0,at.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-green-600",children:P.por_tipo.RECUPERADO}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Recuperados"})]}),(0,at.jsxs)("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-2 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-cyan-600",children:P.por_tipo.TRANSFERIDO_AL_PROVEEDOR}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Enviados"})]}),(0,at.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-red-600",children:P.por_tipo.DAÑADO}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Dañados"})]}),(0,at.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-yellow-600",children:P.por_tipo.DEVOLUCION}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Devoluciones"})]})]}),(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[(0,at.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,at.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Producto:"}),(0,at.jsx)("input",{type:"text",className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",placeholder:"Buscar...",value:I.producto_nombre,onChange:function(e){return U("producto_nombre",e.target.value)}})]}),(0,at.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,at.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Proveedor:"}),(0,at.jsxs)("select",{className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",value:I.proveedor_id,onChange:function(e){return U("proveedor_id",e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Todos"}),l.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})]}),(0,at.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,at.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Tipo:"}),(0,at.jsxs)("select",{className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",value:I.tipo_inventario,onChange:function(e){return U("tipo_inventario",e.target.value)},children:[(0,at.jsx)("option",{value:"",children:"Todos"}),(0,at.jsx)("option",{value:"RECUPERADO",children:"Recuperado"}),(0,at.jsx)("option",{value:"TRANSFERIDO_AL_PROVEEDOR",children:"Enviado"}),(0,at.jsx)("option",{value:"DAÑADO",children:"Dañado"}),(0,at.jsx)("option",{value:"DEVOLUCION",children:"Devolución"})]})]}),(0,at.jsx)("button",{className:"px-3 py-1.5 text-xs bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors disabled:opacity-50",onClick:function(){O({producto_nombre:"",proveedor_id:"",tipo_inventario:"",limit:50})},disabled:""===I.producto_nombre&&""===I.proveedor_id&&""===I.tipo_inventario,children:"Limpiar"})]}),f&&(0,at.jsxs)("div",{className:"text-center py-3",children:[(0,at.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,at.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Cargando..."})]}),!f&&(0,at.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,at.jsx)("div",{className:"px-3 py-2 border-b bg-gray-50",children:(0,at.jsxs)("h6",{className:"text-sm font-medium text-gray-700 mb-0",children:["Inventarios de Garantía",(0,at.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:W.length})]})}),(0,at.jsx)("div",{className:"p-0",children:0===W.length?(0,at.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,at.jsx)("i",{className:"fa fa-inbox text-2xl mb-2"}),(0,at.jsx)("div",{className:"text-xs",children:"No hay inventarios de garantía"})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,at.jsxs)("table",{className:"w-full text-xs",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"ID"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Suc"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Código"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Producto"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Prov"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Tipo"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Cant"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Base"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Venta"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Acciones"})]})}),(0,at.jsx)("tbody",{className:"divide-y divide-gray-100",children:W.map((function(e){var t,r,n,a,o;return(0,at.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,at.jsxs)("td",{className:"px-2 py-2 text-gray-900",children:["#",e.id]}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:(null===(t=e.sucursal)||void 0===t?void 0:t.codigo)||"N/A"})}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsx)("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-700 text-xs rounded font-mono",children:(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)||"N/A"})}),(0,at.jsx)("td",{className:"px-2 py-2 text-gray-900 truncate max-w-24",title:(null===(n=e.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:(null===(a=e.producto)||void 0===a?void 0:a.descripcion)||"N/A"}),(0,at.jsx)("td",{className:"px-2 py-2 text-gray-600 text-xs truncate max-w-20",children:(null===(o=e.producto)||void 0===o||null===(o=o.proveedor)||void 0===o?void 0:o.descripcion)||"N/A"}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsx)("span",{className:"px-1.5 py-0.5 text-xs rounded ".concat(V(e.tipo_inventario)),children:G(e.tipo_inventario)})}),(0,at.jsx)("td",{className:"px-2 py-2 text-gray-900",children:e.cantidad}),(0,at.jsxs)("td",{className:"px-2 py-2 text-green-600 font-medium",children:["$",e.valor_total_formateado_base||"0.00"]}),(0,at.jsxs)("td",{className:"px-2 py-2 text-blue-600 font-medium",children:["$",e.valor_total_formateado_venta||"0.00"]}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsxs)("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"Ver movimientos",onClick:function(){return z(e)},children:[(0,at.jsx)("i",{className:"fa fa-history mr-1"})," Mov"]})})]},e.id)}))})]})}),(0,at.jsx)("div",{className:"md:hidden space-y-3",children:W.map((function(e){var t,r,n,a;return(0,at.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,at.jsxs)("div",{className:"flex items-center gap-2",children:[(0,at.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["#",e.id]}),(0,at.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:(null===(t=e.sucursal)||void 0===t?void 0:t.codigo)||"N/A"}),(0,at.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(V(e.tipo_inventario)),children:G(e.tipo_inventario)})]}),(0,at.jsx)("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:"Ver movimientos",onClick:function(){return z(e)},children:(0,at.jsx)("i",{className:"fa fa-history"})})]}),(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:(null===(r=e.producto)||void 0===r?void 0:r.descripcion)||"N/A"}),(0,at.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:(null===(n=e.producto)||void 0===n||null===(n=n.proveedor)||void 0===n?void 0:n.descripcion)||"N/A"}),(0,at.jsxs)("div",{className:"text-xs",children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Código:"}),(0,at.jsx)("span",{className:"ml-1 font-mono text-gray-700 bg-gray-100 px-1.5 py-0.5 rounded",children:(null===(a=e.producto)||void 0===a?void 0:a.codigo_barras)||"N/A"})]})]}),(0,at.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500",children:"Cantidad"}),(0,at.jsx)("div",{className:"font-medium text-gray-900",children:e.cantidad})]}),(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500",children:"Base"}),(0,at.jsxs)("div",{className:"font-medium text-green-600",children:["$",e.valor_total_formateado_base||"0.00"]})]}),(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500",children:"Venta"}),(0,at.jsxs)("div",{className:"font-medium text-blue-600",children:["$",e.valor_total_formateado_venta||"0.00"]})]})]})]},e.id)}))})]})})]}),!f&&M.length>0&&(0,at.jsxs)("div",{className:"bg-white rounded-lg border mt-3",children:[(0,at.jsx)("div",{className:"px-3 py-2 border-b bg-gray-50",children:(0,at.jsxs)("h6",{className:"text-sm font-medium text-gray-700 mb-0",children:[(0,at.jsx)("i",{className:"fa fa-chart-pie mr-1"}),"Resumen por Proveedores"]})}),(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,at.jsxs)("table",{className:"w-full text-xs",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Proveedor"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"RIF"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Items"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Cant"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Base"}),(0,at.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Venta"})]})}),(0,at.jsx)("tbody",{className:"divide-y divide-gray-100",children:M.map((function(e){return(0,at.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,at.jsx)("td",{className:"px-2 py-2 font-medium text-gray-900",children:e.proveedor_nombre}),(0,at.jsx)("td",{className:"px-2 py-2 text-gray-600",children:e.proveedor_rif}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:e.total_items})}),(0,at.jsx)("td",{className:"px-2 py-2",children:(0,at.jsx)("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-800 text-xs rounded",children:e.total_cantidad})}),(0,at.jsxs)("td",{className:"px-2 py-2 text-green-600 font-medium",children:["$",H(e.valor_total_base,2)]}),(0,at.jsxs)("td",{className:"px-2 py-2 text-blue-600 font-medium",children:["$",H(e.valor_total_venta,2)]})]},e.id)}))})]})}),(0,at.jsx)("div",{className:"md:hidden space-y-3",children:M.map((function(e){return(0,at.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,at.jsxs)("div",{className:"mb-2",children:[(0,at.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:e.proveedor_nombre}),(0,at.jsxs)("div",{className:"text-xs text-gray-600",children:["RIF: ",e.proveedor_rif]})]}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500 mb-1",children:"Items"}),(0,at.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:e.total_items})]}),(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500 mb-1",children:"Cantidad"}),(0,at.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:e.total_cantidad})]})]}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 text-xs",children:[(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500 mb-1",children:"Valor Base"}),(0,at.jsxs)("div",{className:"font-medium text-green-600",children:["$",H(e.valor_total_base,2)]})]}),(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"text-gray-500 mb-1",children:"Valor Venta"}),(0,at.jsxs)("div",{className:"font-medium text-blue-600",children:["$",H(e.valor_total_venta,2)]})]})]})]},e.id)}))})]})]})]}),m&&(0,at.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:(0,at.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",onClick:function(e){return e.stopPropagation()},children:[(0,at.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-history mr-2 text-blue-600"}),"Movimientos de Garantía"]}),(0,at.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:y})]}),(0,at.jsx)("button",{onClick:function(){return g(!1)},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"×"})]}),(0,at.jsx)("div",{className:"p-4 overflow-y-auto flex-1",children:E?(0,at.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,at.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Cargando movimientos..."})]})}):0===N.length?(0,at.jsxs)("div",{className:"text-center py-8",children:[(0,at.jsx)("div",{className:"text-gray-400 mb-4",children:(0,at.jsx)("i",{className:"fa fa-inbox text-4xl"})}),(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay movimientos"}),(0,at.jsx)("p",{className:"text-sm text-gray-600",children:"No se encontraron movimientos para este producto"})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Fecha"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Tipo"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Sucursal Origen"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Sucursal Destino"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Cantidad"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Motivo"}),(0,at.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Usuario"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((function(e,t){var r,n;return(0,at.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:q(e.created_at)}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.tipo_movimiento)),children:G(e.tipo_movimiento)})}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(r=e.sucursal_origen)||void 0===r?void 0:r.nombre)||"N/A"}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(n=e.sucursal_destino)||void 0===n?void 0:n.nombre)||"N/A"}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.cantidad}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",title:e.motivo,children:e.motivo||"N/A"}),(0,at.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.usuario_nombre||"N/A"})]},t)}))})]})}),(0,at.jsx)("div",{className:"md:hidden space-y-3",children:N.map((function(e,t){var r,n;return(0,at.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,at.jsxs)("div",{className:"space-y-3",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsxs)("div",{className:"flex items-center gap-2",children:[(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.tipo_movimiento)),children:G(e.tipo_movimiento)}),(0,at.jsx)("span",{className:"text-xs text-gray-500",children:q(e.created_at)})]}),(0,at.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Cant: ",e.cantidad]})]}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Origen:"}),(0,at.jsx)("div",{className:"font-medium text-gray-900",children:(null===(r=e.sucursal_origen)||void 0===r?void 0:r.nombre)||"N/A"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Destino:"}),(0,at.jsx)("div",{className:"font-medium text-gray-900",children:(null===(n=e.sucursal_destino)||void 0===n?void 0:n.nombre)||"N/A"})]})]}),(0,at.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Motivo:"}),(0,at.jsx)("div",{className:"text-gray-900 mt-1",children:e.motivo||"N/A"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-500",children:"Usuario:"}),(0,at.jsx)("div",{className:"font-medium text-gray-900",children:e.usuario_nombre||"N/A"})]})]})]})},t)}))})]})}),(0,at.jsx)("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:(0,at.jsx)("button",{onClick:function(){return g(!1)},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:"Cerrar"})})]})})]})};function cN(e){return cN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cN(e)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(r),!0).forEach((function(t){dN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=cN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fN(){fN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==cN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(cN(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function hN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function pN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){hN(o,n,a,i,s,"next",e)}function s(e){hN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const vN=function(){var e=mN((0,o.useState)("list"),2),t=e[0],r=e[1],n=mN((0,o.useState)([]),2),a=n[0],i=n[1],s=mN((0,o.useState)(!1),2),c=s[0],l=s[1],u=mN((0,o.useState)(10),2),d=u[0],f=u[1],h=mN((0,o.useState)({id:1,nombre:"Sucursal Principal",central_api_url:"http://localhost:8000/api"}),2),p=h[0],m=h[1];(0,o.useEffect)((function(){g(),v()}),[]),(0,o.useEffect)((function(){g()}),[d]);var g=function(){var e=pN(fN().mark((function e(){var t;return fN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,et.syncGarantias({per_page:d});case 4:200===(t=e.sent).status&&t.data.success&&i(t.data.garantias||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar garantías:",e.t0);case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=pN(fN().mark((function e(){var t,r;return fN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.checkGarantiaConnection();case 3:200===(t=e.sent).status&&(r=t.data,m((function(e){return uN(uN({},e),{},{connected:r.connected||!1,central_url:r.central_url||e.central_api_url})}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar configuración:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x={total:a.length,pendientes:a.filter((function(e){return"PENDIENTE"===e.estatus})).length,aprobadas:a.filter((function(e){return"APROBADA"===e.estatus&&!e.ejecutada})).length,ejecutadas:a.filter((function(e){return e.ejecutada})).length};return(0,at.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,at.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,at.jsx)("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:(0,at.jsxs)("div",{className:"py-2 sm:py-3 md:py-4",children:[(0,at.jsxs)("div",{className:"mb-2 sm:mb-3 md:mb-4",children:[(0,at.jsxs)("h1",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-shield-alt mr-2 text-blue-600"}),"Sistema de Garantías"]}),(0,at.jsx)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:p.nombre})]}),(0,at.jsxs)("div",{className:"grid grid-cols-4 gap-1 sm:gap-2 md:gap-4",children:[(0,at.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-1 sm:p-2 md:p-3 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-blue-600",children:x.total}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Total"})]}),(0,at.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-1 sm:p-2 md:p-3 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-yellow-600",children:x.pendientes}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Pendientes"})]}),(0,at.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-1 sm:p-2 md:p-3 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-green-600",children:x.aprobadas}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Por Ejecutar"})]}),(0,at.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-1 sm:p-2 md:p-3 text-center",children:[(0,at.jsx)("div",{className:"text-lg md:text-xl font-bold text-gray-600",children:x.ejecutadas}),(0,at.jsx)("div",{className:"text-xs text-gray-600",children:"Finalizadas"})]})]})]})})}),(0,at.jsx)("div",{className:"bg-white border-b",children:(0,at.jsx)("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:(0,at.jsxs)("div",{className:"flex justify-between items-center",children:[(0,at.jsxs)("nav",{className:"flex items-center justify-center md:justify-start space-x-1 md:space-x-2 lg:space-x-4 bg-gray-50 rounded-lg p-1 md:p-2",children:[(0,at.jsxs)("button",{onClick:function(){return r("inventario")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("inventario"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,at.jsx)("i",{className:"fa fa-warehouse text-sm"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Inventario"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Inv"})]}),(0,at.jsxs)("button",{onClick:function(){return r("list")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("list"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,at.jsx)("i",{className:"fa fa-list-alt text-sm"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Solicitudes"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Sol"})]}),(0,at.jsxs)("button",{onClick:function(){return r("wizard")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("wizard"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,at.jsx)("i",{className:"fa fa-plus-circle text-sm"}),(0,at.jsx)("span",{className:"hidden sm:inline",children:"Nueva Garantía"}),(0,at.jsx)("span",{className:"sm:hidden",children:"Nueva"})]})]}),"list"===t&&(0,at.jsx)("div",{className:"flex items-center space-x-2",children:(0,at.jsxs)("select",{value:d,onChange:function(e){return f(parseInt(e.target.value))},className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,at.jsx)("option",{value:10,children:"10"}),(0,at.jsx)("option",{value:25,children:"25"}),(0,at.jsx)("option",{value:50,children:"50"}),(0,at.jsx)("option",{value:100,children:"100"}),(0,at.jsx)("option",{value:200,children:"200"})]})})]})})}),(0,at.jsxs)("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[c&&(0,at.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,at.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,at.jsx)("span",{className:"ml-2 text-gray-600",children:"Cargando..."})]}),!c&&"list"===t&&(0,at.jsx)(Hw,{garantias:a,onReload:g,sucursalConfig:p,db:et}),!c&&"wizard"===t&&(0,at.jsx)(Dw,{onSuccess:function(){g(),r("list")},sucursalConfig:p,db:et}),!c&&"config"===t&&(0,at.jsx)(Zw,{config:p,onSave:function(e){m(e),v()},db:et}),!c&&"inventario"===t&&(0,at.jsx)(sN,{sucursalConfig:p})]})]})};function xN(e){return xN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xN(e)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bN(Object(r),!0).forEach((function(t){jN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=xN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wN(){wN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==xN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(xN(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function NN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return CN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?CN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const EN=function(e){var t=e.onClose,r=e.onPlanillaCreated,n=e.sucursalConfig,a=e.user,i=_N((0,o.useState)({notas_generales:""}),2),c=i[0],l=i[1],u=_N((0,o.useState)(!1),2),d=u[0],f=u[1],h=_N((0,o.useState)(""),2),p=h[0],m=h[1],g=function(){var e,t=(e=wN().mark((function e(t){var o,i;return wN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(!0),m(""),e.prev=3,e.next=6,s().post("/api/inventario-ciclico/planillas",{sucursal_codigo:null==n?void 0:n.codigo,id_usuario_creador:(null==a?void 0:a.id)||1,notas_generales:c.notas_generales});case 6:(o=e.sent).data.success?r(o.data.data):m(o.data.message||"Error al crear la planilla"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error al crear planilla:",e.t0),m((null===(i=e.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||"Error de conexión");case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){NN(o,n,a,i,s,"next",e)}function s(e){NN(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,at.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,at.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,at.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[(0,at.jsx)("i",{className:"fa fa-plus mr-2 text-blue-600"}),"Nueva Planilla de Inventario"]}),(0,at.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,at.jsx)("i",{className:"fa fa-times"})})]}),(0,at.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,at.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,at.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,at.jsx)("strong",{children:"Sucursal:"})," ",null==n?void 0:n.nombre]}),(0,at.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,at.jsx)("strong",{children:"Código:"})," ",null==n?void 0:n.codigo]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Generales (Opcional)"}),(0,at.jsx)("textarea",{value:c.notas_generales,onChange:function(e){return function(e,t){l((function(r){return yN(yN({},r),{},jN({},e,t))}))}("notas_generales",e.target.value)},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones generales sobre esta planilla..."})]}),p&&(0,at.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:[(0,at.jsx)("i",{className:"fa fa-exclamation-triangle mr-2"}),p]}),(0,at.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,at.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d,children:"Cancelar"}),(0,at.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:d,children:d?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}),"Creando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-check mr-2"}),"Crear Planilla"]})})]})]})]})})})};function SN(e){return SN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SN(e)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach((function(t){ON(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ON(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=SN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=SN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TN(){TN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==SN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(SN(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function PN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return DN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const MN=function(e){var t=e.onPlanillaSelect,r=e.sucursalConfig,n=e.user,a=kN((0,o.useState)([]),2),i=a[0],c=a[1],l=kN((0,o.useState)(!1),2),u=l[0],d=l[1],f=kN((0,o.useState)(!1),2),h=f[0],p=f[1],m=kN((0,o.useState)({fecha_inicio:"",fecha_fin:"",estatus:"",producto_nombre:"",limit:25}),2),g=m[0],v=m[1];(0,o.useEffect)((function(){x()}),[g]);var x=function(){var e,t=(e=TN().mark((function e(){var t;return TN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/planillas",{params:g});case 4:(t=e.sent).data.success?c(t.data.data.data||[]):(console.warn("Error al cargar planillas:",t.data.message),c([])),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar planillas:",e.t0),c([]),alert("Error al cargar planillas de inventario");case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,8,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){PN(o,n,a,i,s,"next",e)}function s(e){PN(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),b=function(e,t){v((function(r){return IN(IN({},r),{},ON({},e,t))}))},y=function(e){switch(e){case"Abierta":return"bg-green-100 text-green-800";case"Cerrada":return"bg-blue-100 text-blue-800";case"Cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,at.jsxs)("div",{className:"space-y-6",children:[(0,at.jsxs)("div",{className:"flex justify-between items-center",children:[(0,at.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Planillas de Inventario"}),(0,at.jsxs)("button",{onClick:function(){return p(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,at.jsx)("i",{className:"fa fa-plus mr-2"}),"Nueva Planilla"]})]}),(0,at.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,at.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,at.jsx)("i",{className:"fa fa-filter mr-2"}),"Filtros"]}),(0,at.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),(0,at.jsx)("input",{type:"date",value:g.fecha_inicio,onChange:function(e){return b("fecha_inicio",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),(0,at.jsx)("input",{type:"date",value:g.fecha_fin,onChange:function(e){return b("fecha_fin",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,at.jsxs)("select",{value:g.estatus,onChange:function(e){return b("estatus",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,at.jsx)("option",{value:"",children:"Todos"}),(0,at.jsx)("option",{value:"Abierta",children:"Abierta"}),(0,at.jsx)("option",{value:"Cerrada",children:"Cerrada"}),(0,at.jsx)("option",{value:"Cancelada",children:"Cancelada"})]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto"}),(0,at.jsx)("input",{type:"text",placeholder:"Buscar por producto...",value:g.producto_nombre,onChange:function(e){return b("producto_nombre",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,at.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,at.jsx)("div",{className:"flex items-center space-x-4",children:(0,at.jsxs)("select",{value:g.limit,onChange:function(e){return b("limit",parseInt(e.target.value))},className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,at.jsx)("option",{value:10,children:"10"}),(0,at.jsx)("option",{value:25,children:"25"}),(0,at.jsx)("option",{value:50,children:"50"})]})}),(0,at.jsxs)("button",{onClick:function(){v({fecha_inicio:"",fecha_fin:"",estatus:"",producto_nombre:"",limit:25})},className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:[(0,at.jsx)("i",{className:"fa fa-times mr-1"}),"Limpiar Filtros"]})]})]}),(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u?(0,at.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,at.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===i.length?(0,at.jsxs)("div",{className:"text-center py-12",children:[(0,at.jsx)("i",{className:"fa fa-clipboard-list text-4xl text-gray-400 mb-4"}),(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay planillas"}),(0,at.jsx)("p",{className:"text-gray-500",children:g.fecha_inicio||g.fecha_fin||g.estatus||g.producto_nombre?"No se encontraron planillas con los filtros aplicados.":"Crea tu primera planilla de inventario para comenzar."})]}):(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Creación"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sucursal"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estatus"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Productos"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((function(e){var r,n,a,o,i;return(0,at.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:function(){return t(e)},children:[(0,at.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(i=e.fecha_creacion,new Date(i).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.usuarioCreador)||void 0===r?void 0:r.usuario)||"ID: ".concat(e.id_usuario_creador)}),(0,at.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[null===(n=e.sucursal)||void 0===n?void 0:n.codigo," - ",null===(a=e.sucursal)||void 0===a?void 0:a.nombre]}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(y(e.estatus)),children:e.estatus})}),(0,at.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null===(o=e.tareas)||void 0===o?void 0:o.length)||0," productos"]}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,at.jsx)("i",{className:"fa fa-chevron-right text-gray-400"})})]},e.id)}))})]})})}),h&&(0,at.jsx)(EN,{onClose:function(){return p(!1)},onPlanillaCreated:function(e){p(!1),x(),t(e)},sucursalConfig:r,user:n})]})};function RN(e){return RN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FN(Object(r),!0).forEach((function(t){BN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function BN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=RN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=RN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UN(){UN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==RN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(RN(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function zN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function VN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){zN(o,n,a,i,s,"next",e)}function s(e){zN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function GN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return HN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const qN=function(e){var t=e.onClose,r=e.onProductoSelected,n=e.planillaId,a=(e.sucursalConfig,GN((0,o.useState)(""),2)),i=a[0],c=a[1],l=GN((0,o.useState)([]),2),u=l[0],d=l[1],f=GN((0,o.useState)(!1),2),h=f[0],p=f[1],m=GN((0,o.useState)(null),2),g=m[0],v=m[1],x=GN((0,o.useState)({cantidad_fisica:"",observaciones:""}),2),b=x[0],y=x[1],j=GN((0,o.useState)(!1),2),w=j[0],N=j[1];(0,o.useEffect)((function(){i.length>=2?_():d([])}),[i]);var _=function(){var e=VN(UN().mark((function e(){var t;return UN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/productos/buscar",{params:{termino:i,limit:20}});case 4:(t=e.sent).data.success?d(t.data.data||[]):d([]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al buscar productos:",e.t0),d([]);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=VN(UN().mark((function e(t){var a,o;return UN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.prev=2,e.next=5,s().post("/api/inventario-ciclico/planillas/".concat(n,"/productos"),{id_producto:g.id,cantidad_fisica:parseInt(b.cantidad_fisica),observaciones:b.observaciones});case 5:(a=e.sent).data.success?r(g):alert(a.data.msj||"Error al agregar producto"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error al agregar producto:",e.t0),alert((null===(o=e.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.msj)||"Error al agregar producto");case 13:return e.prev=13,N(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)};return(0,at.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,at.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:(0,at.jsxs)("div",{className:"mt-3",children:[(0,at.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,at.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[(0,at.jsx)("i",{className:"fa fa-search mr-2 text-blue-600"}),"Buscar y Agregar Producto"]}),(0,at.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,at.jsx)("i",{className:"fa fa-times"})})]}),(0,at.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Buscar Producto"}),(0,at.jsx)("div",{className:"mb-4",children:(0,at.jsx)("input",{type:"text",placeholder:"Buscar por nombre, código de barras o código proveedor...",value:i,onChange:function(e){return c(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,at.jsx)("div",{className:"border border-gray-200 rounded-md max-h-96 overflow-y-auto",children:h?(0,at.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,at.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):0===u.length?(0,at.jsx)("div",{className:"text-center py-8 text-gray-500",children:i.length>=2?"No se encontraron productos":"Ingresa al menos 2 caracteres para buscar"}):(0,at.jsx)("div",{className:"divide-y divide-gray-200",children:u.map((function(e){return(0,at.jsx)("div",{className:"p-3 cursor-pointer hover:bg-gray-50 ".concat((null==g?void 0:g.id)===e.id?"bg-blue-50 border-l-4 border-blue-500":""),onClick:function(){return function(e){var t;v(e),y({cantidad_fisica:(null===(t=e.cantidad)||void 0===t?void 0:t.toString())||"0",observaciones:""})}(e)},children:(0,at.jsxs)("div",{className:"flex justify-between items-start",children:[(0,at.jsxs)("div",{className:"flex-1",children:[(0,at.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:e.descripcion}),(0,at.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Código: ",e.codigo_barras]}),(0,at.jsxs)("p",{className:"text-xs text-gray-500",children:["Proveedor: ",e.codigo_proveedor]})]}),(0,at.jsxs)("div",{className:"text-right ml-4",children:[(0,at.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Cant: ",e.cantidad]}),(0,at.jsxs)("p",{className:"text-xs text-gray-500",children:["$",E(e.precio)]})]})]})},e.id)}))})})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Detalles del Producto"}),g?(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,at.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:g.descripcion}),(0,at.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-600",children:"Código de Barras:"}),(0,at.jsx)("p",{className:"font-medium",children:g.codigo_barras})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-600",children:"Código Proveedor:"}),(0,at.jsx)("p",{className:"font-medium",children:g.codigo_proveedor})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-600",children:"Cantidad en Sistema:"}),(0,at.jsx)("p",{className:"font-medium",children:g.cantidad})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("span",{className:"text-gray-600",children:"Precio:"}),(0,at.jsxs)("p",{className:"font-medium",children:["$",E(g.precio)]})]})]})]}),(0,at.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad Física Encontrada *"}),(0,at.jsx)("input",{type:"number",value:b.cantidad_fisica,onChange:function(e){return y((function(t){return LN(LN({},t),{},{cantidad_fisica:e.target.value})}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones (Opcional)"}),(0,at.jsx)("textarea",{value:b.observaciones,onChange:function(e){return y((function(t){return LN(LN({},t),{},{observaciones:e.target.value})}))},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones sobre este producto..."})]}),(0,at.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[(0,at.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,at.jsx)("strong",{children:"Diferencia:"})," ",parseInt(b.cantidad_fisica||0)-(g.cantidad||0)," unidades"]}),(0,at.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,at.jsx)("strong",{children:"Valor Diferencia:"})," $",E((parseInt(b.cantidad_fisica||0)-(g.cantidad||0))*(g.precio||0))]})]}),(0,at.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,at.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",disabled:w,children:"Cancelar"}),(0,at.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:w||!b.cantidad_fisica,children:w?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}),"Agregando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fa fa-plus mr-2"}),"Agregar a Planilla"]})})]})]})]}):(0,at.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,at.jsx)("i",{className:"fa fa-box text-4xl mb-4"}),(0,at.jsx)("p",{children:"Selecciona un producto de la lista para ver sus detalles"})]})]})]})]})})})};function WN(e){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WN(e)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(r),!0).forEach((function(t){$N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=WN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=WN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QN(){QN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==WN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(WN(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function ZN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function KN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ZN(o,n,a,i,s,"next",e)}function s(e){ZN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function JN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const t_=function(e){var t,r,n,a,i,c=e.planilla,l=(e.onBack,e.sucursalConfig),u=JN((0,o.useState)(c),2),d=u[0],f=u[1],h=JN((0,o.useState)(!1),2),p=h[0],m=h[1],g=JN((0,o.useState)(!1),2),v=g[0],x=g[1],b=JN((0,o.useState)(null),2),y=b[0],j=b[1],w=JN((0,o.useState)({cantidad_fisica:"",observaciones:""}),2),N=w[0],_=w[1];(0,o.useEffect)((function(){C()}),[c.id]);var C=function(){var e=KN(QN().mark((function e(){var t;return QN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/planillas/".concat(c.id));case 4:(t=e.sent).data.success&&f(t.data.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar detalle de planilla:",e.t0),alert("Error al cargar los detalles de la planilla");case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=KN(QN().mark((function e(){return QN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().put("/api/inventario-ciclico/planillas/".concat(c.id,"/productos/").concat(y.id),{cantidad_fisica:parseInt(N.cantidad_fisica),observaciones:N.observaciones});case 3:e.sent.data.success&&(j(null),_({cantidad_fisica:"",observaciones:""}),C()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al actualizar cantidad:",e.t0),alert("Error al actualizar la cantidad");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){j(null),_({cantidad_fisica:"",observaciones:""})},A=function(){var e=KN(QN().mark((function e(){var t;return QN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("¿Está seguro de que desea cerrar esta planilla? Esta acción no se puede deshacer.")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s().post("/api/inventario-ciclico/planillas/".concat(c.id,"/cerrar"));case 5:e.sent.data.success&&(alert("Planilla cerrada exitosamente"),C()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error al cerrar planilla:",e.t0),alert((null===(t=e.t0.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Error al cerrar la planilla");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=KN(QN().mark((function e(){return QN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("/api/inventario-ciclico/planillas/".concat(c.id,"/refrescar-tareas"));case 3:e.sent.data.success&&C(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al refrescar tareas:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=KN(QN().mark((function e(t){var r,n,a,o,i;return QN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="/api/inventario-ciclico/planillas/".concat(c.id,"/reporte-").concat(t),e.next=4,fetch(r);case 4:if(!(n=e.sent).ok){e.next=19;break}return e.next=8,n.blob();case 8:a=e.sent,o=window.URL.createObjectURL(a),(i=document.createElement("a")).href=o,i.download="Planilla_Inventario_".concat(c.id,"_").concat((new Date).toISOString().split("T")[0],".").concat(t),document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(o),document.body.removeChild(i),e.next=20;break;case 19:console.error("Error al generar reporte ".concat(t.toUpperCase()));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Error:",e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)},P=function(e){return new Date(e).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},k="Abierta"==(null==d?void 0:d.estatus)&&(null==d||null===(t=d.tareas)||void 0===t?void 0:t.every((function(e){return 1==e.estado})));return(0,at.jsxs)("div",{className:"space-y-6",children:[(0,at.jsxs)("div",{className:"flex justify-between items-start",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Planilla #",null==d?void 0:d.id]}),(0,at.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Creada el ",P(null==d?void 0:d.fecha_creacion)," por ",null==d||null===(r=d.usuarioCreador)||void 0===r?void 0:r.usuario]}),(null==d?void 0:d.notas_generales)&&(0,at.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,at.jsx)("strong",{children:"Notas:"})," ",d.notas_generales]})]}),(0,at.jsxs)("div",{className:"flex space-x-3",children:[(0,at.jsxs)("button",{onClick:I,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,at.jsx)("i",{className:"fa fa-refresh mr-2"}),"Refrescar"]}),"Abierta"==(null==d?void 0:d.estatus)&&(0,at.jsxs)("button",{onClick:function(){return x(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:[(0,at.jsx)("i",{className:"fa fa-plus mr-2"}),"Agregar Producto"]}),k&&(0,at.jsxs)("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:[(0,at.jsx)("i",{className:"fa fa-check mr-2"}),"Cerrar Planilla"]}),"Cerrada"==(null==d?void 0:d.estatus)&&(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsxs)("button",{onClick:function(){return O("pdf")},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:[(0,at.jsx)("i",{className:"fa fa-file-pdf-o mr-2"}),"Reporte PDF"]}),(0,at.jsxs)("button",{onClick:function(){return O("excel")},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:[(0,at.jsx)("i",{className:"fa fa-file-excel-o mr-2"}),"Reporte Excel"]})]})]})]}),(0,at.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,at.jsxs)("div",{className:"flex items-center justify-between",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,at.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat(function(e){switch(e){case"Confirmado":return"bg-green-100 text-green-800";case"Pendiente Aprobación":return"bg-yellow-100 text-yellow-800";case"Aprobada":return"bg-blue-100 text-blue-800";case"Rechazada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(null==d?void 0:d.estatus)),children:null==d?void 0:d.estatus}),(0,at.jsxs)("span",{className:"text-sm text-gray-600",children:[(null==d||null===(n=d.tareas)||void 0===n?void 0:n.length)||0," productos"]})]}),"Cerrada"==(null==d?void 0:d.estatus)&&(0,at.jsxs)("div",{className:"text-sm text-gray-600",children:["Cerrada el ",P(null==d?void 0:d.fecha_cierre)]})]})}),(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:p?(0,at.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,at.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0==(null==d||null===(a=d.tareas)||void 0===a?void 0:a.length)?(0,at.jsxs)("div",{className:"text-center py-12",children:[(0,at.jsx)("i",{className:"fa fa-box text-4xl text-gray-400 mb-4"}),(0,at.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay productos en esta planilla"}),(0,at.jsx)("p",{className:"text-gray-500",children:"Agrega productos para comenzar el conteo de inventario."})]}):(0,at.jsx)("div",{className:"overflow-x-auto",children:(0,at.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,at.jsx)("thead",{className:"bg-gray-50",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto / Códigos"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cant. Sistema"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cant. Física"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diferencia"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Diferencia"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Tarea"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Envío"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aprobación Central"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Aprobación"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,at.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,at.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null==d||null===(i=d.tareas)||void 0===i?void 0:i.map((function(e){var t,r,n;return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{className:"px-6 py-4",children:(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{className:"text-sm font-medium text-gray-900",children:null===(t=e.producto)||void 0===t?void 0:t.descripcion}),(0,at.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,at.jsx)("span",{className:"font-medium",children:"Barras:"})," ",(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)||"N/A"]}),(0,at.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,at.jsx)("span",{className:"font-medium",children:"Proveedor:"})," ",(null===(n=e.producto)||void 0===n?void 0:n.codigo_proveedor)||"N/A"]})]})}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.cantidad_sistema}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(null==y?void 0:y.id)==e.id?(0,at.jsx)("input",{type:"number",value:N.cantidad_fisica,onChange:function(e){return _((function(t){return XN(XN({},t),{},{cantidad_fisica:e.target.value})}))},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",min:"0"}):(0,at.jsx)("span",{className:"text-sm text-gray-900",children:e.cantidad_fisica})}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,at.jsxs)("span",{className:"text-sm font-medium ".concat(e.diferencia_cantidad>0?"text-green-600":e.diferencia_cantidad<0?"text-red-600":"text-gray-600"),children:[e.diferencia_cantidad>0?"+":"",e.diferencia_cantidad]})}),(0,at.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",T(e.diferencia_valor)]}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.id||"-"}),(0,at.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.created_at?(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("es-VE")}),(0,at.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleTimeString("es-VE",{hour:"2-digit",minute:"2-digit"})})]}):"-"}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(1==e.permiso?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:1==e.permiso?"Aprobado":"Pendiente"})}),(0,at.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.fecha_aprobacion?(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{children:new Date(e.fecha_aprobacion).toLocaleDateString("es-VE")}),(0,at.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.fecha_aprobacion).toLocaleTimeString("es-VE",{hour:"2-digit",minute:"2-digit"})})]}):"-"}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,at.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(1==e.estado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:1==e.estado?"Ejecutado":"Pendiente"})}),(0,at.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(null==y?void 0:y.id)==e.id?(0,at.jsxs)("div",{className:"flex space-x-2",children:[(0,at.jsx)("button",{onClick:E,className:"text-green-600 hover:text-green-900",children:(0,at.jsx)("i",{className:"fa fa-check"})}),(0,at.jsx)("button",{onClick:S,className:"text-red-600 hover:text-red-900",children:(0,at.jsx)("i",{className:"fa fa-times"})})]}):"Abierta"==(null==d?void 0:d.estatus)?(0,at.jsx)("button",{onClick:function(){return function(e){j(e),_({cantidad_fisica:e.cantidad_fisica.toString(),observaciones:e.observaciones||""})}(e)},className:"text-blue-600 hover:text-blue-900",children:(0,at.jsx)("i",{className:"fa fa-edit"})}):null})]},e.id)}))})]})})}),v&&(0,at.jsx)(qN,{onClose:function(){return x(!1)},onProductoSelected:function(e){x(!1),C()},planillaId:c.id,sucursalConfig:l})]})};function r_(e){return r_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(e)}function n_(){n_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r_(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(r_(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function a_(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function o_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s_=function(e){var t=e.user,r=o_((0,o.useState)("list"),2),n=r[0],a=r[1],i=o_((0,o.useState)(null),2),c=i[0],l=i[1],u=o_((0,o.useState)(!1),2),d=u[0],f=(u[1],o_((0,o.useState)(null),2)),h=f[0],p=f[1];(0,o.useEffect)((function(){m()}),[]);var m=function(){var e,t=(e=n_().mark((function e(){var t;return n_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/sucursal-config");case 3:(t=e.sent).data.success&&p(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar configuración de sucursal:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){a_(o,n,a,i,s,"next",e)}function s(e){a_(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),g=function(){l(null),a("list")};return(0,at.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,at.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,at.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,at.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,at.jsxs)("div",{children:[(0,at.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,at.jsx)("i",{className:"fa fa-clipboard-list mr-3 text-blue-600"}),"Inventario Cíclico"]}),(0,at.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Gestión de planillas de inventario físico"})]}),h&&(0,at.jsxs)("div",{className:"text-right",children:[(0,at.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h.nombre}),(0,at.jsxs)("p",{className:"text-sm text-gray-500",children:["Código: ",h.codigo]})]})]})})}),(0,at.jsx)("div",{className:"bg-white border-b",children:(0,at.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,at.jsxs)("nav",{className:"flex space-x-8",children:[(0,at.jsxs)("button",{onClick:function(){return a("list")},className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("list"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,at.jsx)("i",{className:"fa fa-list mr-2"}),"Planillas"]}),"detalle"===n&&(0,at.jsxs)("button",{onClick:g,className:"py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm",children:[(0,at.jsx)("i",{className:"fa fa-arrow-left mr-2"}),"Volver"]})]})})}),(0,at.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:d?(0,at.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,at.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):"list"===n?(0,at.jsx)(MN,{onPlanillaSelect:function(e){l(e),a("detalle")},sucursalConfig:h,user:t}):"detalle"===n&&c?(0,at.jsx)(t_,{planilla:c,onBack:g,sucursalConfig:h}):null})]})};function c_(e){return c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(e)}function l_(){l_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new _(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==r&&n.call(v,o)&&(m=v);var x=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==c_(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function j(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function N(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function _(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function C(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(c_(t)+" is not iterable")}return h.prototype=p,c(x,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:C(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function u_(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function d_(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u_(o,n,a,i,s,"next",e)}function s(e){u_(o,n,a,i,s,"throw",e)}i(void 0)}))}}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f_(Object(r),!0).forEach((function(t){p_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v_(e){var t=e.user,r=e.notificar,n=e.setLoading,a=(0,o.useState)(""),i=m_(a,2),s=i[0],c=i[1],l=(0,o.useState)(""),u=m_(l,2),d=u[0],f=(u[1],(0,o.useState)([])),h=m_(f,2),p=(h[0],h[1]),m=(0,o.useState)([]),g=m_(m,2),v=g[0],x=g[1],b=(0,o.useState)(1),y=m_(b,2),j=y[0],w=y[1],N=(0,o.useState)("bs"),_=m_(N,2),C=_[0],E=_[1],S=(0,o.useState)(!1),A=m_(S,2),I=A[0],O=A[1],T=(0,o.useState)(25),P=m_(T,2),k=P[0],M=P[1],R=(0,o.useState)(!1),F=m_(R,2),L=F[0],B=F[1],U=(0,o.useState)(!1),z=m_(U,2),V=z[0],G=(z[1],(0,o.useState)("")),H=m_(G,2),q=H[0],W=H[1],Y=(0,o.useState)("cantidad"),X=m_(Y,2),$=X[0],Q=X[1],Z=(0,o.useState)("desc"),K=m_(Z,2),J=K[0],ee=K[1],te=(0,o.useState)(""),re=m_(te,2),ne=(re[0],re[1],(0,o.useState)("seleccionar")),ae=m_(ne,2),oe=ae[0],ie=ae[1],se=(0,o.useState)(null),ce=m_(se,2),le=ce[0],ue=ce[1],de=(0,o.useState)(null),fe=m_(de,2),he=fe[0],pe=fe[1],me=(0,o.useState)({}),ge=m_(me,2),ve=ge[0],xe=ge[1],be=(0,o.useState)(""),ye=m_(be,2),je=ye[0],we=ye[1],Ne=(0,o.useState)(""),_e=m_(Ne,2),Ce=_e[0],Ee=_e[1],Se=(0,o.useState)(""),Ae=m_(Se,2),Ie=Ae[0],Oe=Ae[1],Te=(0,o.useState)("nuevo"),Pe=m_(Te,2),ke=Pe[0],De=Pe[1],Me=(0,o.useState)(0),Re=m_(Me,2),Fe=Re[0],Le=Re[1],Be=(0,o.useState)(!1),Ue=m_(Be,2),ze=Ue[0],Ve=(Ue[1],(0,o.useState)([])),Ge=m_(Ve,2),He=Ge[0],qe=Ge[1],We=(0,o.useState)([]),Ye=m_(We,2),Xe=Ye[0],$e=Ye[1],Qe=(0,o.useState)(""),Je=m_(Qe,2),tt=Je[0],ot=Je[1],it=(0,o.useState)(null),lt=m_(it,2),ut=lt[0],dt=lt[1],ht=(0,o.useState)(""),pt=m_(ht,2),mt=pt[0],gt=pt[1],vt=(0,o.useState)(""),bt=m_(vt,2),jt=bt[0],wt=bt[1],Nt=(0,o.useState)(""),_t=m_(Nt,2),Ct=_t[0],Et=_t[1],St=(0,o.useState)("UND"),At=m_(St,2),kt=At[0],Dt=At[1],Mt=(0,o.useState)("24"),Rt=m_(Mt,2),Ft=Rt[0],Lt=Rt[1],Bt=(0,o.useState)(""),Ut=m_(Bt,2),zt=Ut[0],Vt=Ut[1],Gt=(0,o.useState)(""),Ht=m_(Gt,2),qt=Ht[0],Wt=Ht[1],Yt=(0,o.useState)(""),Xt=m_(Yt,2),$t=Xt[0],Qt=Xt[1],Zt=(0,o.useState)("0"),Kt=m_(Zt,2),Jt=Kt[0],er=Kt[1],tr=(0,o.useState)("0"),rr=m_(tr,2),nr=rr[0],ar=(rr[1],(0,o.useState)([])),or=m_(ar,2),ir=or[0],sr=or[1],cr=(0,o.useState)(""),lr=m_(cr,2),ur=lr[0],dr=lr[1],fr=(0,o.useState)(""),hr=m_(fr,2),pr=hr[0],mr=hr[1],gr=(0,o.useState)(""),vr=m_(gr,2),xr=vr[0],br=vr[1],yr=(0,o.useState)([]),jr=m_(yr,2),wr=jr[0],Nr=jr[1],_r=(0,o.useState)([]),Cr=m_(_r,2),Er=Cr[0],Sr=(Cr[1],(0,o.useState)(25)),Ar=m_(Sr,2),Ir=Ar[0],Or=Ar[1],Tr=(0,o.useState)("id"),Pr=m_(Tr,2),kr=Pr[0],Dr=Pr[1],Mr=(0,o.useState)("desc"),Rr=m_(Mr,2),Fr=Rr[0],Lr=Rr[1],Br=(0,o.useState)(""),Ur=m_(Br,2),zr=Ur[0],Vr=Ur[1],Gr=(0,o.useState)(""),Hr=m_(Gr,2),qr=Hr[0],Wr=Hr[1],Yr=(0,o.useState)(""),Xr=m_(Yr,2),$r=Xr[0],Qr=Xr[1],Zr=(0,o.useState)(""),Kr=m_(Zr,2),Jr=Kr[0],en=Kr[1],tn=(0,o.useState)("Submenuinventario"),rn=m_(tn,2),nn=rn[0],an=rn[1],on=(0,o.useState)(null),sn=m_(on,2),cn=sn[0],ln=sn[1],un=(0,o.useState)(""),dn=m_(un,2),fn=dn[0],hn=dn[1],pn=(0,o.useState)([]),gn=m_(pn,2),yn=gn[0],jn=gn[1],wn=(0,o.useState)([]),Nn=m_(wn,2),_n=Nn[0],Cn=(Nn[1],(0,o.useState)(!0)),En=m_(Cn,2),Sn=En[0],An=En[1],In=(0,o.useState)("id"),On=m_(In,2),Tn=On[0],kn=On[1],Dn=(0,o.useState)("desc"),Mn=m_(Dn,2),Fn=Mn[0],Ln=Mn[1],Bn=(0,o.useState)(""),Un=m_(Bn,2),zn=Un[0],Vn=Un[1],Gn=(0,o.useState)(""),Hn=m_(Gn,2),qn=Hn[0],Wn=Hn[1],Yn=(0,o.useState)(""),Xn=m_(Yn,2),$n=Xn[0],Qn=Xn[1],Zn=(0,o.useState)(""),Kn=m_(Zn,2),Jn=Kn[0],ea=Kn[1],ta=(0,o.useState)(""),ra=m_(ta,2),na=ra[0],aa=ra[1],oa=(0,o.useState)(""),ia=m_(oa,2),sa=ia[0],ca=ia[1],la=(0,o.useState)(""),ua=m_(la,2),da=ua[0],fa=ua[1],ha=(0,o.useState)(""),pa=m_(ha,2),ma=pa[0],ga=pa[1],va=(0,o.useState)(""),xa=m_(va,2),ba=xa[0],ya=xa[1],ja=(0,o.useState)("0108"),wa=m_(ja,2),Na=wa[0],_a=wa[1],Ca=(0,o.useState)(""),Ea=m_(Ca,2),Sa=Ea[0],Aa=Ea[1],Ia=(0,o.useState)([]),Oa=m_(Ia,2),Ta=Oa[0],Pa=Oa[1],ka=(0,o.useState)(!1),Da=m_(ka,2),Ma=Da[0],Ra=Da[1],Fa=(0,o.useState)(!1),La=m_(Fa,2),Ba=La[0],Ua=La[1],za=(0,o.useState)(""),Va=m_(za,2),Ga=Va[0],Ha=Va[1],qa=(0,o.useState)(""),Wa=m_(qa,2),Ya=Wa[0],Xa=Wa[1],$a=(0,o.useState)(1),Qa=m_($a,2),Za=Qa[0],Ka=Qa[1],Ja=(0,o.useState)({}),eo=m_(Ja,2),to=eo[0],ro=eo[1],no=(0,o.useState)(0),ao=m_(no,2),oo=(ao[0],ao[1]),io=(0,o.useState)(!1),so=m_(io,2),co=so[0],lo=so[1],uo=(0,o.useState)(!1),fo=m_(uo,2),ho=fo[0],po=fo[1],mo=(0,o.useState)([]),go=m_(mo,2),vo=go[0],xo=go[1],bo=(0,o.useState)([]),yo=m_(bo,2),jo=yo[0],wo=yo[1],No=(0,o.useState)([]),_o=m_(No,2),Co=(_o[0],_o[1],(0,o.useState)([])),Eo=m_(Co,2),So=(Eo[0],Eo[1],(0,o.useState)("fact")),Ao=m_(So,2),Io=Ao[0],Oo=Ao[1],To=(0,o.useState)("todos"),Po=m_(To,2),ko=Po[0],Do=Po[1],Mo=(0,o.useState)(""),Ro=m_(Mo,2),Fo=Ro[0],Lo=Ro[1],Bo=(0,o.useState)(""),Uo=m_(Bo,2),zo=Uo[0],Vo=Uo[1],Go=(0,o.useState)(""),Ho=m_(Go,2),qo=Ho[0],Wo=Ho[1],Yo=(0,o.useState)(""),Xo=m_(Yo,2),$o=Xo[0],Qo=Xo[1],Zo=(0,o.useState)(""),Ko=m_(Zo,2),Jo=Ko[0],ei=Ko[1],ti=(0,o.useState)(""),ri=m_(ti,2),ni=ri[0],ai=ri[1],oi=(0,o.useState)(""),ii=m_(oi,2),si=ii[0],ci=ii[1],li=(0,o.useState)(""),ui=m_(li,2),di=ui[0],fi=ui[1],hi=(0,o.useState)(""),pi=m_(hi,2),mi=pi[0],gi=pi[1],vi=(0,o.useState)(""),xi=m_(vi,2),bi=xi[0],yi=xi[1],ji=(0,o.useState)(""),wi=m_(ji,2),Ni=wi[0],_i=wi[1],Ci=(0,o.useState)([]),Ei=m_(Ci,2),Si=Ei[0],Ai=Ei[1],Ii=(0,o.useState)([]),Oi=m_(Ii,2),Ti=Oi[0],Pi=Oi[1],ki=(0,o.useState)({}),Di=m_(ki,2),Mi=Di[0],Ri=Di[1],Fi=(0,o.useState)(!1),Li=m_(Fi,2),Bi=Li[0],Ui=Li[1],zi=(0,o.useState)(""),Vi=m_(zi,2),Gi=Vi[0],Hi=Vi[1],qi=(0,o.useState)(""),Wi=m_(qi,2),Yi=Wi[0],Xi=Wi[1],$i=(0,o.useState)("cuadre"),Qi=m_($i,2),Zi=Qi[0],Ki=Qi[1],Ji=(0,o.useState)(0),es=m_(Ji,2),ts=es[0],rs=es[1],ns=(0,o.useState)("todos"),as=m_(ns,2),os=as[0],is=as[1],ss=(0,o.useState)(""),cs=m_(ss,2),ls=cs[0],us=cs[1],ds=(0,o.useState)(""),fs=m_(ds,2),hs=fs[0],ps=fs[1],ms=(0,o.useState)("saldo"),gs=m_(ms,2),vs=gs[0],xs=gs[1],bs=(0,o.useState)("asc"),ys=m_(bs,2),js=ys[0],ws=ys[1],Ns=(0,o.useState)(25),_s=m_(Ns,2),Cs=_s[0],Es=_s[1],Ss=(0,o.useState)([]),As=m_(Ss,2),Is=As[0],Os=As[1],Ts=(0,o.useState)({}),Ps=m_(Ts,2),ks=Ps[0],Ds=Ps[1],Ms=(0,o.useState)(null),Rs=m_(Ms,2),Fs=Rs[0],Ls=Rs[1],Bs=(0,o.useState)("3"),Us=m_(Bs,2),zs=Us[0],Vs=Us[1],Gs=(0,o.useState)(""),Hs=m_(Gs,2),qs=Hs[0],Ws=Hs[1],Ys=(0,o.useState)([]),Xs=m_(Ys,2),$s=Xs[0],Qs=Xs[1],Zs=(0,o.useState)(0),Ks=m_(Zs,2),Js=Ks[0],ec=Ks[1],tc=(0,o.useState)(0),rc=m_(tc,2),nc=rc[0],ac=rc[1],oc=(0,o.useState)(0),ic=m_(oc,2),sc=ic[0],cc=(ic[1],(0,o.useState)(!1)),lc=m_(cc,2),uc=lc[0],dc=lc[1],fc=(0,o.useState)(""),hc=m_(fc,2),pc=(hc[0],hc[1],(0,o.useState)(1)),mc=m_(pc,2),gc=(mc[0],mc[1],(0,o.useState)(5)),vc=m_(gc,2),xc=(vc[0],vc[1],(0,o.useState)("")),bc=m_(xc,2),yc=(bc[0],bc[1],(0,o.useState)("")),jc=m_(yc,2),wc=(jc[0],jc[1]),Nc=(0,o.useRef)(null),_c=(0,o.useRef)(null),Cc=(0,o.useRef)(null),Ec=(0,o.useRef)(null),Sc=(0,o.useRef)(null),Ac=(0,o.useRef)(null),Ic=(0,o.useRef)(null),Oc=(0,o.useRef)(null),Tc=((0,o.useRef)(null),(0,o.useRef)(null),(0,o.useState)(0)),Pc=m_(Tc,2),kc=Pc[0],Dc=Pc[1],Mc=(0,o.useState)(""),Rc=m_(Mc,2),Fc=Rc[0],Lc=Rc[1],Bc=(0,o.useState)(!1),Uc=m_(Bc,2),zc=Uc[0],Vc=Uc[1],Gc=(0,o.useState)(""),Hc=m_(Gc,2),qc=Hc[0],Wc=(Hc[1],(0,o.useState)("1")),Yc=m_(Wc,2),Xc=(Yc[0],Yc[1],(0,o.useState)("2")),$c=m_(Xc,2),Qc=($c[0],$c[1],(0,o.useState)([])),Zc=m_(Qc,2),Kc=(Zc[0],Zc[1]),Jc=(0,o.useState)("nuevo"),el=m_(Jc,2),tl=(el[0],el[1],(0,o.useState)(!1)),rl=m_(tl,2),nl=rl[0],al=rl[1],ol=(0,o.useState)([]),il=m_(ol,2),sl=il[0],cl=il[1],ll=(0,o.useState)(""),ul=m_(ll,2),dl=ul[0],fl=ul[1],hl=(0,o.useState)(""),pl=m_(hl,2),ml=pl[0],gl=pl[1],vl=(0,o.useState)("id"),xl=m_(vl,2),bl=xl[0],yl=xl[1],jl=(0,o.useState)("desc"),wl=m_(jl,2),Nl=wl[0],_l=wl[1],Cl=(0,o.useState)("buscar"),El=m_(Cl,2),Sl=El[0],Al=El[1],Il=(0,o.useState)(null),Ol=m_(Il,2),Tl=Ol[0],Pl=Ol[1],kl=(0,o.useState)(""),Dl=m_(kl,2),Ml=Dl[0],Rl=Dl[1],Fl=(0,o.useState)(""),Ll=m_(Fl,2),Bl=Ll[0],Ul=Ll[1],zl=(0,o.useState)(""),Vl=m_(zl,2),Gl=Vl[0],Hl=Vl[1],ql=(0,o.useState)(""),Wl=m_(ql,2),Yl=Wl[0],Xl=Wl[1],$l=(0,o.useState)(""),Ql=m_($l,2),Zl=Ql[0],Kl=Ql[1],Jl=(0,o.useState)(""),eu=m_(Jl,2),tu=eu[0],ru=eu[1],nu=(0,o.useState)(""),au=m_(nu,2),ou=au[0],iu=au[1],su=(0,o.useState)(""),cu=m_(su,2),lu=cu[0],uu=cu[1],du=(0,o.useState)(""),fu=m_(du,2),hu=fu[0],pu=fu[1],mu=(0,o.useState)(""),gu=m_(mu,2),vu=gu[0],xu=gu[1],bu=(0,o.useState)(""),yu=m_(bu,2),ju=yu[0],wu=yu[1],Nu=(0,o.useState)(""),_u=m_(Nu,2),Cu=_u[0],Eu=_u[1],Su=(0,o.useState)(""),Au=m_(Su,2),Iu=Au[0],Ou=Au[1],Tu=(0,o.useState)(""),Pu=m_(Tu,2),ku=Pu[0],Du=Pu[1],Mu=(0,o.useState)(""),Ru=m_(Mu,2),Fu=Ru[0],Lu=Ru[1],Bu=(0,o.useState)(0),Uu=m_(Bu,2),zu=Uu[0],Vu=Uu[1],Gu=(0,o.useState)(""),Hu=m_(Gu,2),qu=Hu[0],Wu=Hu[1],Yu=(0,o.useState)(25),Xu=m_(Yu,2),$u=Xu[0],Qu=(Xu[1],(0,o.useState)([])),Zu=m_(Qu,2),Ku=Zu[0],Ju=Zu[1],ed=(0,o.useState)(null),td=m_(ed,2),rd=td[0],nd=td[1],ad=(0,o.useState)(""),od=m_(ad,2),id=od[0],sd=od[1],cd=(0,o.useState)(""),ld=m_(cd,2),ud=ld[0],dd=ld[1],fd=(0,o.useState)(""),hd=m_(fd,2),pd=hd[0],md=hd[1],gd=(0,o.useState)(""),vd=m_(gd,2),xd=vd[0],bd=vd[1],yd=(0,o.useState)(""),jd=m_(yd,2),wd=jd[0],Nd=jd[1],_d=(0,o.useState)(""),Cd=m_(_d,2),Ed=Cd[0],Sd=Cd[1],Ad=(0,o.useState)(""),Id=m_(Ad,2),Od=Id[0],Td=Id[1],Pd=(0,o.useState)([]),kd=m_(Pd,2),Dd=kd[0],Md=kd[1],Rd=(0,o.useState)(""),Fd=m_(Rd,2),Ld=Fd[0],Bd=Fd[1],Ud=(0,o.useState)(""),zd=m_(Ud,2),Vd=zd[0],Gd=zd[1],Hd=(0,o.useState)(""),qd=m_(Hd,2),Wd=qd[0],Yd=qd[1],Xd=(0,o.useState)(""),$d=m_(Xd,2),Qd=$d[0],Zd=$d[1],Kd=(0,o.useState)("30"),Jd=m_(Kd,2),ef=Jd[0],tf=Jd[1],rf=(0,o.useState)("43"),nf=m_(rf,2),af=nf[0],of=nf[1],sf=(0,o.useState)(!1),cf=m_(sf,2),lf=cf[0],uf=cf[1],df=(0,o.useState)([]),ff=m_(df,2),hf=ff[0],pf=ff[1],mf=(0,o.useState)(1),gf=m_(mf,2),vf=gf[0],xf=gf[1],bf=(0,o.useState)(null),yf=m_(bf,2),jf=yf[0],wf=yf[1],Nf=(0,o.useState)(""),_f=m_(Nf,2),Cf=_f[0],Ef=_f[1],Sf=(0,o.useState)(""),Af=m_(Sf,2),If=Af[0],Of=Af[1],Tf=(0,o.useState)(""),Pf=m_(Tf,2),kf=Pf[0],Df=Pf[1],Mf=(0,o.useState)(""),Rf=m_(Mf,2),Ff=Rf[0],Lf=Rf[1],Bf=(0,o.useState)(""),Uf=m_(Bf,2),zf=Uf[0],Vf=Uf[1],Gf=(0,o.useState)(""),Hf=m_(Gf,2),qf=Hf[0],Wf=Hf[1],Yf=(0,o.useState)(""),Xf=m_(Yf,2),$f=Xf[0],Qf=Xf[1],Zf=(0,o.useState)(""),Kf=m_(Zf,2),Jf=Kf[0],eh=Kf[1],th=(0,o.useState)(""),rh=m_(th,2),nh=rh[0],ah=rh[1],oh=(0,o.useState)("proveedor"),ih=m_(oh,2),sh=ih[0],ch=ih[1],lh=(0,o.useState)("todos"),uh=m_(lh,2),dh=uh[0],fh=uh[1],hh=(0,o.useState)(""),ph=m_(hh,2),mh=ph[0],gh=ph[1],vh=(0,o.useState)([]),xh=m_(vh,2),bh=xh[0],yh=xh[1],jh=(0,o.useState)(!0),wh=m_(jh,2),Nh=wh[0],_h=wh[1],Ch=(0,o.useState)([]),Eh=m_(Ch,2),Sh=Eh[0],Ah=Eh[1],Ih=(0,o.useState)(null),Oh=m_(Ih,2),Th=Oh[0],Ph=Oh[1],kh=(0,o.useState)(!1),Dh=m_(kh,2),Mh=Dh[0],Rh=Dh[1],Fh=(0,o.useState)(!0),Lh=m_(Fh,2),Bh=Lh[0],Uh=Lh[1],zh=(0,o.useState)(""),Vh=m_(zh,2),Gh=Vh[0],Hh=Vh[1],qh=(0,o.useState)(""),Wh=m_(qh,2),Yh=Wh[0],Xh=Wh[1],$h=(0,o.useState)(""),Qh=m_($h,2),Zh=Qh[0],Kh=Qh[1],Jh=(0,o.useState)(""),ep=m_(Jh,2),tp=ep[0],rp=ep[1],np=(0,o.useState)([]),ap=m_(np,2),op=ap[0],ip=ap[1],sp=(0,o.useState)(""),cp=m_(sp,2),lp=cp[0],up=cp[1],dp=(0,o.useState)([]),fp=m_(dp,2),hp=fp[0],pp=fp[1],mp=(0,o.useState)(""),gp=m_(mp,2),vp=gp[0],xp=gp[1],bp=(0,o.useState)(""),yp=m_(bp,2),jp=yp[0],wp=yp[1],Np=(0,o.useState)(""),_p=m_(Np,2),Cp=_p[0],Ep=_p[1],Sp=(0,o.useState)(""),Ap=m_(Sp,2),Ip=Ap[0],Op=Ap[1],Tp=(0,o.useState)(""),Pp=m_(Tp,2),kp=Pp[0],Dp=Pp[1],Mp=(0,o.useState)(""),Rp=m_(Mp,2),Fp=Rp[0],Lp=Rp[1],Bp=(0,o.useState)(""),Up=m_(Bp,2),zp=Up[0],Vp=Up[1],Gp=(0,o.useState)(""),Hp=m_(Gp,2),qp=Hp[0],Wp=Hp[1],Yp=(0,o.useState)([]),Xp=m_(Yp,2),$p=Xp[0],Qp=Xp[1],Zp=(0,o.useState)([]),Kp=m_(Zp,2),Jp=Kp[0],em=Kp[1],tm=(0,o.useState)(""),rm=m_(tm,2),nm=rm[0],am=rm[1],om=(0,o.useState)(""),im=m_(om,2),sm=im[0],cm=im[1],lm=(0,o.useState)(""),um=m_(lm,2),dm=um[0],fm=um[1],hm=(0,o.useState)(""),pm=m_(hm,2),mm=pm[0],gm=pm[1],vm=(0,o.useState)(""),xm=m_(vm,2),bm=xm[0],ym=xm[1],jm=(0,o.useState)(null),wm=m_(jm,2),Nm=wm[0],_m=wm[1],Cm=(0,o.useState)(!1),Em=m_(Cm,2),Sm=Em[0],Am=Em[1],Im=(0,o.useState)("list"),Om=m_(Im,2),Tm=Om[0],Pm=Om[1],km=(0,o.useState)(null),Dm=m_(km,2),Mm=Dm[0],Rm=Dm[1],Fm=(0,o.useRef)(null),Lm=(0,o.useState)("12340005ARAMCAL"),Bm=m_(Lm,2),Um=Bm[0],zm=Bm[1],Vm=(0,o.useState)("12341238123456123456123451234123712345612345612345123412361234561234561234512341235123456123456123451234123412345612345612345"),Gm=m_(Vm,2),Hm=Gm[0],qm=Gm[1],Wm=(0,o.useState)(""),Ym=m_(Wm,2),Xm=Ym[0],$m=Ym[1],Qm=(0,o.useState)(""),Zm=m_(Qm,2),Km=Zm[0],Jm=Zm[1],eg=(0,o.useState)(""),tg=m_(eg,2),rg=tg[0],ng=tg[1],ag=(0,o.useState)("0"),og=m_(ag,2),ig=og[0],sg=og[1],cg=(0,o.useState)("0"),lg=m_(cg,2),ug=lg[0],dg=lg[1],fg=(0,o.useState)("0"),hg=m_(fg,2),pg=hg[0],mg=hg[1],gg=(0,o.useState)("0"),vg=m_(gg,2),xg=vg[0],bg=vg[1],yg=(0,o.useState)("0"),jg=m_(yg,2),wg=jg[0],Ng=jg[1],_g=(0,o.useState)("0"),Cg=m_(_g,2),Eg=Cg[0],Sg=Cg[1],Ag=(0,o.useState)(""),Ig=m_(Ag,2),Og=Ig[0],Tg=Ig[1],Pg=(0,o.useState)(""),kg=m_(Pg,2),Dg=kg[0],Mg=kg[1],Rg=(0,o.useState)(""),Fg=m_(Rg,2),Lg=Fg[0],Bg=Fg[1],Ug=(0,o.useState)(""),zg=m_(Ug,2),Vg=zg[0],Gg=zg[1],Hg=(0,o.useState)(""),qg=m_(Hg,2),Wg=qg[0],Yg=qg[1],Xg=(0,o.useState)(""),$g=m_(Xg,2),Qg=$g[0],Zg=$g[1],Kg=m_((0,o.useState)(""),2),Jg=Kg[0],ev=Kg[1],tv=m_((0,o.useState)("factura"),2),rv=tv[0],nv=tv[1],av=m_((0,o.useState)(""),2),ov=av[0],iv=av[1],sv=m_((0,o.useState)([]),2),cv=sv[0],lv=sv[1],uv=m_((0,o.useState)(""),2),dv=uv[0],fv=uv[1],hv=m_((0,o.useState)(""),2),pv=hv[0],mv=hv[1],gv=m_((0,o.useState)(""),2),vv=gv[0],xv=gv[1],bv=m_((0,o.useState)(""),2),yv=bv[0],jv=bv[1],wv=m_((0,o.useState)("desc"),2),Nv=wv[0],_v=wv[1],Cv=m_((0,o.useState)("cantidadtotal"),2),Ev=Cv[0],Sv=Cv[1],Av=m_((0,o.useState)([]),2),Iv=Av[0],Ov=Av[1],Tv=m_((0,o.useState)(""),2),Pv=Tv[0],kv=Tv[1],Dv=m_((0,o.useState)(""),2),Mv=Dv[0],Rv=Dv[1],Fv=m_((0,o.useState)([]),2),Lv=Fv[0],Bv=Fv[1],Uv=m_((0,o.useState)(!1),2),zv=Uv[0],Vv=Uv[1],Gv=m_((0,o.useState)(null),2),Hv=Gv[0],qv=Gv[1],Wv=m_((0,o.useState)([]),2),Yv=Wv[0],Xv=Wv[1],$v=m_((0,o.useState)([]),2),Qv=$v[0],Zv=$v[1],Kv=m_((0,o.useState)({numinventario:25,novinculados:"novinculados"}),2),Jv=Kv[0],ex=Kv[1],tx=m_((0,o.useState)(""),2),rx=tx[0],nx=tx[1],ax=m_((0,o.useState)([]),2),ox=ax[0],ix=ax[1],sx=m_((0,o.useState)({}),2),cx=sx[0],lx=sx[1],ux=m_((0,o.useState)([]),2),dx=ux[0],fx=ux[1],hx=m_((0,o.useState)([]),2),px=hx[0],mx=hx[1],gx=m_((0,o.useState)([]),2),vx=gx[0],xx=gx[1],bx=m_((0,o.useState)([]),2),yx=bx[0],jx=bx[1],wx=m_((0,o.useState)([]),2),Nx=wx[0],_x=wx[1],Cx=m_((0,o.useState)([]),2),Ex=Cx[0],Sx=Cx[1],Ax=m_((0,o.useState)({codigo_barras:"",codigo_proveedor:"",id_proveedor:"",id_categoria:"",unidad:"",descripcion:"",iva:"",precio_base:"",precio:"",cantidad:""}),2),Ix=Ax[0],Ox=Ax[1],Tx=m_((0,o.useState)({este:null,poreste:null}),2),Px=Tx[0],kx=Tx[1],Dx=m_((0,o.useState)(""),2),Mx=Dx[0],Rx=Dx[1],Fx=[{value:"",text:"--Seleccione Banco--"},{value:"0134",text:"0134 BANESCO (TRANSFERENCIAS)"},{value:"0134 BANESCO TITANIO",text:"0134 BANESCO TITANIO"},{value:"0134 BANESCO ARABITO PUNTOS 9935",text:"0134 BANESCO ARABITO PUNTOS 9935"},{value:"0108",text:"0108 PROVINCIAL"},{value:"0191",text:"0191 BANCO NACIONAL DE CRÉDITO BNC"},{value:"0105",text:"0105 MERCANTIL"},{value:"0102",text:"0102 BANCO DE VENEZUELA"},{value:"0114",text:"0114 BANCO DEL CARIBE"},{value:"0151",text:"0151 BANCO FONDO COMÚN BFC"},{value:"0175",text:"0175 BICENTENARIO"},{value:"0115",text:"0115 EXTERIOR"},{value:"ZELLE",text:"ZELLE"},{value:"BINANCE",text:"BINANCE"},{value:"AirTM",text:"AirTM"}],Lx=function(){et.getControlEfec({controlefecQ:Ld,controlefecQDesde:Vd,controlefecQHasta:Wd,controlefecQCategoria:Qd,controlefecSelectGeneral:vf}).then((function(e){pf(e.data)}))},Bx=m_((0,o.useState)("usuarios"),2),Ux=Bx[0],zx=Bx[1],Vx=function(){et.getSucursales({}).then((function(e){e.data.estado?(Xv(e.data.msj),n(!1)):r(e.data.msj,!1)}))},Gx=m_((0,o.useState)(0),2),Hx=Gx[0],qx=Gx[1],Wx=m_((0,o.useState)(0),2),Yx=Wx[0],Xx=Wx[1],$x=m_((0,o.useState)(!1),2),Qx=$x[0],Zx=$x[1],Kx=m_((0,o.useState)({index:null,id:null}),2),Jx=Kx[0],eb=Kx[1],tb=(0,o.useRef)(null),rb=m_((0,o.useState)({}),2),nb=rb[0],ab=rb[1],ob=m_((0,o.useState)(""),2),ib=ob[0],sb=ob[1],cb=m_((0,o.useState)([]),2),lb=cb[0],ub=cb[1],db=function(){n(!0),et.getTareasLocal({fecha:ib}).then((function(e){n(!1),ub(e.data)}))},fb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aprobar";n(!0),et.resolverTareaLocal({id:e,tipo:t}).then((function(e){n(!1),db()}))},hb=m_((0,o.useState)([]),2),pb=hb[0],mb=hb[1],gb=(0,o.useRef)(null),vb=function(e,t){var r;(console.log(t,"idinsucursal"),console.log(e,"idinsucursal e"),t.index==Jx.index&&Qx)?Zx(!1):(Zx(!0),gb&&gb.current&&(null===(r=gb.current)||void 0===r||r.scrollIntoView({block:"nearest",behavior:"smooth"})));var n=e.currentTarget.getBoundingClientRect(),a=n.top+window.scrollY,o=n.left;Xx(a),qx(o),eb({index:t.index,id:t.id})},xb=function(e){var t=Jx.index,r=(0,Ke.cloneDeep)(Sh);r[Th].items[t].vinculo_real=e,Ah(r),Zx(!1)},bb=function(){if(ox)return!ox.filter((function(e){return 1==e.estatus})).length},yb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(n(!0),e){case"cierrespanelcentroacopio":break;case"inventarioSucursalFromCentralmodify":var t=ox.filter((function(e){return 1==e.estatus}));et.getInventarioSucursalFromCentral({type:"inventarioSucursalFromCentralmodify",id_tarea:nb.inventarioSucursalFromCentral,productos:t,codigo_destino:Hv}).then((function(e){e.data.estado&&ix([]),r(e.data.msj,!0),n(!1)}));break;case"inventarioSucursalFromCentral":if(bb()){var a="";"pedido"===Jv.novinculados&&(a=window.prompt("ID PEDIDO")),et.getInventarioSucursalFromCentral({pedidonum:a,codigo_destino:Hv,type:e||rx,parametros:Jv}).then((function(e){r(e.data.msj,!0),n(!1)}))}}},jb=m_((0,o.useState)({}),2),wb=jb[0],Nb=jb[1],_b=m_((0,o.useState)(!1),2),Cb=_b[0],Eb=_b[1],Sb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];n(!0),lv([]),et.getTareasCentral({estado:e}).then((function(e){lv(e.data),n(!1)}))},Ab=function(){n(!0),et.getInventarioFromSucursal({}).then((function(e){e.data&&(e.data.length?"function"==typeof e.data[Symbol.iterator]&&(!1==!e.data.estado?Zv([]):Zv(e.data)):Zv([])),!1===e.data.estado&&r(e),n(!1)}))};D("down",(function(e){}),{enableOnTags:["INPUT","SELECT"]},[oe,Js,nc,sc,nn,Tm]),D("up",(function(e){}),{enableOnTags:["INPUT","SELECT"]},[oe,Js,nc,sc,nn,Tm]);var Ib=m_((0,o.useState)([]),2),Ob=Ib[0],Tb=Ib[1],Pb=m_((0,o.useState)([]),2),kb=Pb[0],Db=Pb[1],Mb=m_((0,o.useState)([]),2),Rb=Mb[0],Fb=Mb[1],Lb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("toggle"==e&&(Aa(!Sa),fa(n),ya(t*je)),"enviar"==e&&ve.id&&ma&&ba){var a=ma;et.addRefPago({tipo:da,descripcion:a,monto:ba,banco:Na,id_pedido:ve.id}).then((function(e){yN(null,null,!1),r(e),Aa(!1),fa(""),ga(""),ya(""),_a("")}))}},Bb=m_((0,o.useState)(""),2),Ub=Bb[0],zb=Bb[1],Vb=m_((0,o.useState)(""),2),Gb=Vb[0],Hb=Vb[1],qb=m_((0,o.useState)(""),2),Wb=qb[0],Yb=qb[1],Xb=m_((0,o.useState)(""),2),$b=Xb[0],Qb=Xb[1],Zb=m_((0,o.useState)(""),2),Kb=Zb[0],Jb=Zb[1],ey=m_((0,o.useState)("3"),2),ty=ey[0],ry=ey[1],ny=m_((0,o.useState)(""),2),ay=ny[0],oy=ny[1],iy=m_((0,o.useState)({}),2),sy=iy[0],cy=iy[1],ly=function(){et.getGastos({qgastosfecha1:Ub,qgastosfecha2:Gb,qgastos:Wb,qcatgastos:$b}).then((function(e){e.data&&(e.data.gastos?cy(e.data):cy({}))}))},uy=m_((0,o.useState)(!1),2),dy=uy[0],fy=uy[1],hy=m_((0,o.useState)(""),2),py=hy[0],my=hy[1],gy=m_((0,o.useState)(""),2),vy=gy[0],xy=gy[1],by=m_((0,o.useState)(""),2),yy=by[0],jy=by[1],wy=m_((0,o.useState)([]),2),Ny=wy[0],_y=wy[1],Cy=m_((0,o.useState)(null),2),Ey=Cy[0],Sy=Cy[1],Ay=function(e){et.getmovientoinventariounitario({id:e||Ey,fecha1modalhistoricoproducto:py,fecha2modalhistoricoproducto:vy,usuariomodalhistoricoproducto:yy}).then((function(e){Array.isArray(e.data)?_y(e.data):r(e.data)}))},Iy=m_((0,o.useState)(""),2),Oy=Iy[0],Ty=Iy[1],Py=m_((0,o.useState)(""),2),ky=Py[0],Dy=Py[1],My=m_((0,o.useState)(""),2),Ry=My[0],Fy=My[1],Ly=m_((0,o.useState)("desc"),2),By=Ly[0],Uy=Ly[1],zy=m_((0,o.useState)(""),2),Vy=zy[0],Gy=zy[1],Hy=m_((0,o.useState)([]),2),qy=Hy[0],Wy=Hy[1],Yy=m_((0,o.useState)(""),2),Xy=Yy[0],$y=Yy[1],Qy=m_((0,o.useState)([]),2),Zy=Qy[0],Ky=Qy[1],Jy=m_((0,o.useState)(""),2),ej=Jy[0],tj=Jy[1],rj=m_((0,o.useState)(null),2),nj=rj[0],aj=rj[1],oj=function(){et.getCategorias({q:Xy}).then((function(e){e.data&&(e.data.length?Ky(e.data):Ky([]))}))};(0,o.useEffect)((function(){if(t.usuario){var e=t.usuario.slice(-1);1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e&&10!=e||w(e)}}),[]),(0,o.useEffect)((function(){!function(){if(nj){var e=Zy[nj];e&&tj(e.descripcion)}}()}),[nj]),(0,o.useEffect)((function(){oj()}),[Xy]),(0,o.useEffect)((function(){_E()}),[bm]),(0,o.useEffect)((function(){NE()}),[Nm]),(0,o.useEffect)((function(){Aj(),yj(),tE(),fj()}),[]),(0,o.useEffect)((function(){JC()}),[nh,sh,dh,mh]),(0,o.useEffect)((function(){QC()}),[qu]),(0,o.useEffect)((function(){xj()}),[le]),(0,o.useEffect)((function(){UC(!1)}),[dl,ml,bl,Nl]),(0,o.useEffect)((function(){"pedidos"==oe&&Lj()}),[zo,qo,Io,ko,os,Tn,Fn]),(0,o.useEffect)((function(){null==Fs?iC():bj()}),[Fs]),(0,o.useEffect)((function(){!function(){n(!0),0!=e&&clearTimeout(kc);var e=window.setTimeout((function(){et.getBuscarDevolucion({qProductosMain:qc,num:10,itemCero:!0,orderColumn:"descripcion",orderBy:"asc"}).then((function(e){Kc(e.data),n(!1)}))}),150);Dc(e)}()}),[qc]),(0,o.useEffect)((function(){sC()}),[Ir,kr,Fr,tt]),(0,o.useEffect)((function(){"devoluciones"==oe&&fN()}),[d,oe,Fc]),(0,o.useEffect)((function(){cC()}),[fn]),(0,o.useEffect)((function(){"inventario"==oe?"fallas"==nn?JC():"inventario"==nn?Bj():"proveedores"==nn&&cC():"pedidosCentral"==oe&&eE(),"seleccionar"==oe&&Ic&&Ic.current&&(Ic.current.value="",Ic.current.focus())}),[oe,nn]),(0,o.useEffect)((function(){"credito"!=oe&&"vueltos"!=oe||(iC(),bj())}),[oe,vs,js]),(0,o.useEffect)((function(){Bj()}),[k,V,$,J]),(0,o.useEffect)((function(){lC()}),[ut]),(0,o.useEffect)((function(){"proveedores"==nn?uC():"facturas"==nn&&kE()}),[nn,cn]),(0,o.useEffect)((function(){wE()}),[jp,Cp,Ip,kp,Fp,zp]),(0,o.useEffect)((function(){Lj()}),[Sn]);var ij=(parseFloat($o||0)+parseFloat(Jo||0)/parseFloat(Ce)+parseFloat(ni||0)/parseFloat(je)).toFixed(2),sj=ij&&"NaN"!=ij?ij:0,cj=(parseFloat(mi||0)+parseFloat(bi||0)/parseFloat(Ce)+parseFloat(Ni||0)/parseFloat(je)).toFixed(2),lj=cj&&"NaN"!=cj?cj:0,uj=je&&si?(si/je).toFixed(2):0,dj=je&&di?(di/je).toFixed(2):0,fj=function(){et.getSucursal({}).then((function(e){e.data.codigo&&xp(e.data)}))},hj=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;switch(e){case"setCajaFuerteEntradaCierreDolar":sg(t),n=parseFloat(Gh-t).toFixed(2),r&&bg(n);break;case"setCajaFuerteEntradaCierreCop":dg(t),n=parseFloat(Yh-t).toFixed(2),r&&Ng(n);break;case"setCajaFuerteEntradaCierreBs":mg(t),n=parseFloat(Zh-t).toFixed(2),r&&Sg(n)}},pj=m_((0,o.useState)([]),2),mj=pj[0],gj=pj[1],vj=function(e,t,r){var n=nt(r.efectivo_guardado);if("setguardar_cop"==e){Xh(t),hj("setCajaFuerteEntradaCierreCop",t,!1);var a=n-nt((t/Ce).toFixed(1));Kh(""),hj("setCajaFuerteEntradaCierreBs","",!1),Hh(a),hj("setCajaFuerteEntradaCierreDolar",a,!1)}if("setguardar_bs"==e)if(Kh(t),hj("setCajaFuerteEntradaCierreBs",t,!1),t){var o=(n-nt((Yh/Ce).toFixed(1))-nt((t/je).toFixed(1))).toFixed(1);Hh(o),hj("setCajaFuerteEntradaCierreDolar",o,!1)}else{var i=n-nt((Yh/Ce).toFixed(1));Hh(i),hj("setCajaFuerteEntradaCierreDolar",i,!1)}},xj=function(){Ac.current&&Ac.current.focus()};var bj=function(){try{Is[Fs]&&(n(!0),et.getDeudor({onlyVueltos:Fe,id:Is[Fs].id}).then((function(e){Qs(e.data),n(!1)})))}catch(e){}},yj=function(){et.today({}).then((function(e){var t=e.data;Hi(t),Vo(t),Wo(t),Lc(t),wc(t),up(t),zb(t),Hb(t),Ha(t),Gd(t),Yd(t),Gd(t),Yd(t),gl(t)}))},jj=function(e){var t,r=e.currentTarget.attributes.name.value;switch(t="notaCierre"==r||"tipo_pago_deudor"==r||"qDeudores"==r?e.currentTarget.value:"NaN"!=(t=nt(e.currentTarget.value))&&t?t:"",r){case"caja_usd":Qo(t);break;case"caja_cop":ei(t),Xh(t);break;case"caja_bs":ai(t),Kh(t);break;case"dejar_usd":gi(t);break;case"dejar_cop":yi(t),Xh(Jo-t);break;case"dejar_bs":_i(t),Kh(ni-t);break;case"caja_punto":ci(t);break;case"notaCierre":us(t);break;case"tipo_pago_deudor":Vs(t);break;case"monto_pago_deudor":Ws(t);break;case"qDeudores":ps(t);break;case"caja_biopago":fi(t)}},wj=function(e){var t=e.currentTarget.attributes["data-type"].value,r=window.prompt("Nuevo valor");r&&et.setMoneda({tipo:t,valor:r}).then((function(e){Aj()}))},_j=function(){var e=d_(l_().mark((function e(t){var n;return l_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==t.currentTarget.attributes["data-type"].value){e.next=15;break}return e.prev=2,e.next=5,et.updateDollarRate();case 5:(n=e.sent).data.estado?(r("✅ Dólar actualizado: $".concat(n.data.valor," Bs")),Aj()):r("❌ Error: ".concat(n.data.msj)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),r("❌ Error al actualizar el dólar automáticamente"),console.error("Error updating dollar:",e.t0);case 13:e.next=16;break;case 15:wj(t);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Aj=function(){n(!0),et.getMoneda().then((function(e){e.data.peso&&Ee(e.data.peso),e.data.dolar&&we(e.data.dolar),n(!1)}))},Ij=m_((0,o.useState)(!1),2),Oj=Ij[0],Tj=Ij[1],kj=m_((0,o.useState)(null),2),Dj=kj[0],Mj=kj[1],Rj=function(){var e=d_(l_().mark((function e(t){var n;return l_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.resetPrintingState({id:t});case 3:(n=e.sent).data.estado?(r("Estado de impresión reseteado"),Tj(!1),Mj(null)):r("Error al resetear estado: "+n.data.msj),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("Error al resetear estado: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Fj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Oj)Dj&&window.confirm("Hubo un error en la impresión anterior. ¿Desea resetear el estado de impresión?")&&Rj(e||ve.id);else if(ve)if(Tj(!0),Mj(null),"presupuesto"==e){var t=window.prompt("(Nombre y Apellido) o (Razón Social)"),n=window.prompt("CI o RIF"),a={id:e||ve.id,moneda:C,printer:j,presupuestocarrito:v,nombres:t,identificacion:n};et.imprimirTicked(a).then((function(e){!1===e.data.estado?(Mj(e.data.msj),e.data.msj.includes("está siendo impreso")?window.confirm("El ticket parece estar atascado. ¿Desea resetear el estado de impresión?")&&Rj(a.id):(eS({dbFunction:et.imprimirTicked,params:a}),ZE(e.data.id_tarea))):r(e.data.msj),Tj(!1)})).catch((function(e){Mj(e.message),Tj(!1),r("Error al imprimir: "+e.message)}))}else{var o={id:e||ve.id,moneda:C,printer:j};et.imprimirTicked(o).then((function(e){!1===e.data.estado?(Mj(e.data.msj),e.data.msj.includes("está siendo impreso")?window.confirm("El ticket parece estar atascado. ¿Desea resetear el estado de impresión?")&&Rj(o.id):(eS({dbFunction:et.imprimirTicked,params:o}),ZE(e.data.id_tarea))):r(e.data.msj),Tj(!1)})).catch((function(e){Mj(e.message),Tj(!1),r("Error al imprimir: "+e.message)}))}else console.log("NO pedidoData",Fj),Tj(!1)},Lj=function(e){e&&e.preventDefault(),n(!0),wo([]),0!=r&&clearTimeout(kc);var r=window.setTimeout((function(){et.getPedidos({vendedor:Sn?[t.id_usuario]:[],busquedaPedido:Fo,fecha1pedido:zo,fecha2pedido:qo,tipobusquedapedido:Io,tipoestadopedido:ko,filterMetodoPagoToggle:os,orderbycolumpedidos:Tn,orderbyorderpedidos:Fn}).then((function(e){e.data?wo(e.data):wo([]),n(!1)}))}),150);Dc(r)},Bj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Uh(!1),0!=a&&clearTimeout(kc),"seleccionar"==oe&&Ic.current&&(e=Ic.current.value);var a=window.setTimeout((function(){et.getinventario({vendedor:Sn?[t.id_usuario]:[],num:k,itemCero:n||V,qProductosMain:e||q,orderColumn:$,orderBy:J}).then((function(e){if(e.data){!1===e.data.estado&&r(e.data.msj,!1);var t=e.data.length;if(t&&qe(e.data),t||qe([]),e.data[Js]||(ec(0),ac(0)),ze&&1==t){W("");var n=null;co&&ve.id&&(n=ve.id),jN("agregar",e.data[0].id,n)}}})),Uh(!0)}),300);Dc(a)},Uj=function(e){n(!0),0!=t&&clearTimeout(kc);var t=window.setTimeout((function(){et.getpersona({q:e}).then((function(t){t.data&&("OK"==t.statusText&&(t.data.length?xo(t.data):xo([])),t.data.length||sd(e),n(!1))}))}),100);Dc(t)},Hj=m_((0,o.useState)([]),2),qj=Hj[0],Xj=Hj[1],$j=m_((0,o.useState)(""),2),Qj=$j[0],Zj=$j[1],Kj=m_((0,o.useState)("sumpendiente"),2),Jj=Kj[0],ew=Kj[1],tw=m_((0,o.useState)("desc"),2),rw=tw[0],nw=tw[1],aw=m_((0,o.useState)("pendiente"),2),ow=aw[0],iw=aw[1],sw=function(){et.getGarantias({qgarantia:Qj,garantiaorderCampo:Jj,garantiaorder:rw,garantiaEstado:ow}).then((function(e){Xj(e.data)}))},cw=m_((0,o.useState)(null),2),lw=(cw[0],cw[1],m_((0,o.useState)("cliente"),2)),uw=(lw[0],lw[1],m_((0,o.useState)(null),2)),dw=(uw[0],uw[1],m_((0,o.useState)([]),2)),fw=(dw[0],dw[1],m_((0,o.useState)({}),2)),hw=(fw[0],fw[1],m_((0,o.useState)(null),2)),pw=(hw[0],hw[1],m_((0,o.useState)(null),2)),mw=pw[0],gw=pw[1],vw=m_((0,o.useState)(""),2),xw=(vw[0],vw[1],m_((0,o.useState)(""),2)),bw=xw[0],yw=xw[1],jw=m_((0,o.useState)(""),2),ww=jw[0],Nw=jw[1],_w=m_((0,o.useState)(""),2),Cw=_w[0],Ew=_w[1],Sw=m_((0,o.useState)(""),2),Aw=Sw[0],Iw=Sw[1],Ow=m_((0,o.useState)(""),2),Tw=Ow[0],Pw=Ow[1],kw=m_((0,o.useState)(""),2),Dw=kw[0],Mw=kw[1],Rw=m_((0,o.useState)(""),2),Fw=Rw[0],Lw=Rw[1],Bw=m_((0,o.useState)(""),2),Uw=Bw[0],zw=Bw[1],Vw=m_((0,o.useState)(""),2),Gw=Vw[0],Hw=Vw[1],qw=m_((0,o.useState)(""),2),Ww=qw[0],Yw=qw[1],Xw=m_((0,o.useState)(""),2),$w=Xw[0],Qw=Xw[1],Zw=m_((0,o.useState)(""),2),Kw=Zw[0],Jw=Zw[1],eN=m_((0,o.useState)(""),2),tN=eN[0],rN=eN[1],nN=m_((0,o.useState)(""),2),aN=nN[0],oN=nN[1],iN=m_((0,o.useState)(!1),2),sN=iN[0],cN=iN[1],lN=m_((0,o.useState)([]),2),uN=(lN[0],lN[1],m_((0,o.useState)(""),2)),dN=(uN[0],uN[1],m_((0,o.useState)(""),2)),fN=(dN[0],dN[1],function(){n(!0),et.getBuscarDevolucionhistorico({q:d,num:10,orderColumn:"id",orderBy:"desc"}).then((function(e){p(e.data),n(!1)}))}),hN=function(e){e.preventDefault(),et.setClienteCrud({id:null,clienteInpidentificacion:id,clienteInpnombre:ud,clienteInpdireccion:xd,clienteInptelefono:wd}).then((function(e){r(e),e.data&&e.data.estado&&e.data.id&&IN(e.data.id),n(!1)}))},pN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;et.getPedidosList({vendedor:t.id_usuario?t.id_usuario:1}).then((function(t){De("nuevo"),t.data.length&&De("ultimo"),e&&e("ultimo")}))};var mN=(0,o.useState)(!1),gN=m_(mN,2),xN=gN[0],bN=gN[1],yN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n(!0),e?pe(e):e=he,et.getPedido({id:e}).then((function(e){if(n(!1),e.data){if(!1===e.data.estado&&r(e.data.msj,!1),xe(e.data),ro({}),Ua(!1),a&&(Qn(""),Vn(""),Wn(""),ea(""),aa(""),ca("")),Tb([]),mC(),e.data.referencias?e.data.referencias.length&&Tb(e.data.referencias):Tb([]),e.data.pagos){var o=e.data.pagos;if(o.filter((function(e){return 1==e.tipo}))[0])"0.00"==o.filter((function(e){return 1==e.tipo}))[0].monto?a&&Qn(""):Qn(o.filter((function(e){return 1==e.tipo}))[0].monto);if(o.filter((function(e){return 2==e.tipo}))[0])"0.00"==o.filter((function(e){return 2==e.tipo}))[0].monto?a&&Vn(""):Vn(o.filter((function(e){return 2==e.tipo}))[0].monto);if(o.filter((function(e){return 3==e.tipo}))[0])"0.00"==o.filter((function(e){return 3==e.tipo}))[0].monto?a&&Wn(""):Wn(o.filter((function(e){return 3==e.tipo}))[0].monto);if(o.filter((function(e){return 4==e.tipo}))[0])"0.00"==o.filter((function(e){return 4==e.tipo}))[0].monto?a&&ea(""):ea(o.filter((function(e){return 4==e.tipo}))[0].monto);if(o.filter((function(e){return 5==e.tipo}))[0])"0.00"==o.filter((function(e){return 5==e.tipo}))[0].monto?a&&ca(""):ca(o.filter((function(e){return 5==e.tipo}))[0].monto);if(o.filter((function(e){return 6==e.tipo}))[0])"0.00"==o.filter((function(e){return 6==e.tipo}))[0].monto?a&&aa(""):aa(o.filter((function(e){return 6==e.tipo}))[0].monto)}t&&t(),c("")}}))},jN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{var i;n(!0),e.currentTarget?(i=e.currentTarget.attributes["data-type"].value,e.preventDefault()):i=e;var s=null;He[le]&&(s=He[le].id),t&&(s=t),et.setCarrito({id:s,type:i,cantidad:o||Ie,numero_factura:a||ke,loteIdCarrito:Mm}).then((function(e){switch(e.data.msj&&r(e.data.msj),e.data.type){case"agregar":ue(null),r(e),ze&&co&&yN(e.data.num_pedido);break;case"agregar_procesar":yN(e.data.num_pedido,(function(){ie("pagar"),ue(null)}))}Oe(""),Ic&&Ic.current&&(Ic.current.value="",Ic.current.focus()),n(!1)}))}catch(e){alert(e)}},wN=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=!e&&r?r:e.currentTarget.attributes["data-id"].value,yN(t,(function(){ie("pagar")}))},NN=function(e){if(confirm("¿Seguro de eliminar?")){var t=e.currentTarget.attributes,n=t["data-id"].value,a=window.prompt("¿Cuál es el Motivo de eliminación?");if(a){var o={id:n,motivo:a};et.delpedido(o).then((function(e){switch(r(e),t["data-type"].value){case"getDeudor":bj();break;case"getPedidos":Lj()}!1===e.data.estado&&(eS({dbFunction:et.delpedido,params:o}),ZE(e.data.id_tarea))}))}}},_N=(0,o.useState)(null),CN=m_(_N,2),EN=CN[0],SN=CN[1],AN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.preventDefault(),1==mw&&t)cN(!0);else{var a={id:EN.id,type:"agregar",cantidad:Ie,numero_factura:ve.id,devolucionTipo:mw,devolucionMotivo:bw,devolucion_cantidad_salida:ww,devolucion_motivo_salida:Cw,devolucion_ci_cajero:Aw,devolucion_ci_autorizo:Tw,devolucion_dias_desdecompra:Dw,devolucion_ci_cliente:Fw,devolucion_telefono_cliente:Uw,devolucion_nombre_cliente:Gw,devolucion_nombre_cajero:Ww,devolucion_nombre_autorizo:$w,devolucion_trajo_factura:Kw,devolucion_motivonotrajofact:tN,devolucion_numfactoriginal:aN};et.setCarrito(a).then((function(e){e.data.msj&&r(e.data.msj),yN(),n(!1),c(""),SN(null),ie("pagar"),cN(!1),yw(""),Nw(""),Ew(""),Iw(""),Pw(""),Mw(""),Lw(""),zw(""),Hw(""),Yw(""),Qw(""),Jw(""),rN(""),oN(""),!1===e.data.estado&&(eS({dbFunction:et.setCarrito,params:a}),ZE(e.data.id_tarea))})),gw(null),Oe("")}},IN=function(e){var t;n(!0),t=e.currentTarget?e.currentTarget.attributes["data-index"].value:e,ve.id&&et.setpersonacarrito({numero_factura:ve.id,id_cliente:t}).then((function(e){yN(),po(!1),n(!1),r(e)}))},ON=(0,o.useState)(""),TN=m_(ON,2),PN=TN[0],kN=TN[1],DN=(0,o.useState)(""),MN=m_(DN,2),RN=MN[0],FN=MN[1],LN=(0,o.useState)(0),BN=m_(LN,2),UN=BN[0],zN=BN[1],VN=function(e){var t=new Ze("reader",{fps:10,qrbox:{width:300,height:150}});t.render((function(r){"function"==typeof e&&(e(r),"qBuscarInventario"===e&&(Cc.current.value=r,Cc.current.focus(),t.clear()),"setbuscarDatosFact"===e&&(FN(r),t.clear()),"inputbusquedaProductosref"===e&&(Ic.current.value=r,Ic.current.focus(),t.clear()))}),(function(e){})),1===UN&&t.clear(),zN(0===UN?1:0)},GN=(0,o.useState)(!1),HN=m_(GN,2),qN=HN[0],WN=HN[1],YN=(0,o.useState)({}),XN=m_(YN,2),$N=XN[0],QN=XN[1],ZN=(0,o.useState)(!0),KN=m_(ZN,2),JN=KN[0],e_=KN[1],t_=(0,o.useState)(null),r_=m_(t_,2),n_=r_[0],a_=r_[1],o_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(confirm("¿Realmente desea guardar e imprimir pedido ("+ve.id+")?"))if($n&&!Ob.filter((function(e){return 1==e.tipo})).length)alert("Error: Debe cargar referencia de transferencia electrónica.");else{if(JN){n(!0);var t={id:ve.id,debito:zn,efectivo:qn,transferencia:$n,biopago:sa,credito:Jn,vuelto:na};et.setPagoPedido(t).then((function(a){r(a),n(!1),a.data.estado&&(""!==s&&c(""),ie("seleccionar"),Bj(),ue(null),Ua(!1),e&&e()),!1===a.data.estado&&(eS({dbFunction:et.setPagoPedido,params:t}),ZE(a.data.id_tarea))}))}else alert("Debe esperar 10 SEGUNDOS PARA VOLVER A ENVIAR UNA TRANSFERENCIA!");if($n){e_(!1),clearTimeout(n_);var a=window.setTimeout((function(){e_(!0)}),1e4);a_(a)}}},i_=(0,o.useState)([]),c_=m_(i_,2),u_=(c_[0],c_[1],function(e){e.preventDefault(),ve.id&&(n(!0),et.setconfigcredito({fechainiciocredito:Ga,fechavencecredito:Ya,formatopagocredito:Za,id_pedido:ve.id}).then((function(e){r(e),n(!1)})))}),f_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ve.id&&(Jn?et.checkDeuda({id_cliente:ve.id_cliente}).then((function(e){if(e.data){var t=e.data.pedido_total;ro(t),Ua(!0)}})):o_(e))},g_=(0,o.useState)(""),v_=m_(g_,2),x_=v_[0],b_=v_[1],y_=(0,o.useState)(""),j_=m_(y_,2),w_=j_[0],N_=j_[1],__=(0,o.useState)(""),C_=m_(__,2),E_=C_[0],S_=C_[1],A_=(0,o.useState)(""),I_=m_(A_,2),O_=I_[0],T_=I_[1],P_=(0,o.useState)(""),k_=m_(P_,2),D_=k_[0],M_=k_[1],R_=(0,o.useState)(""),F_=m_(R_,2),L_=F_[0],B_=F_[1],U_=m_((0,o.useState)(""),2),z_=U_[0],V_=U_[1],G_=m_((0,o.useState)(""),2),H_=G_[0],q_=G_[1],W_=m_((0,o.useState)(""),2),Y_=W_[0],X_=W_[1],$_=m_((0,o.useState)(""),2),Q_=$_[0],Z_=$_[1],K_=m_((0,o.useState)(!0),2),J_=K_[0],eC=K_[1],tC=m_((0,o.useState)(null),2),rC=tC[0],nC=tC[1],aC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ver",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";et.openVerCierre({fechaCierre:e,type:t,totalizarcierre:Bi,usuario:r})},oC=function(e){var t,a;if(e.preventDefault(),Is[Fs])if("1"==zs&&(t=window.prompt("Referencia"),a=window.prompt("Banco")),"1"!=zs||t&&a){var o=Is[Fs].id;n(!0),et.setPagoCredito({id_cliente:o,tipo_pago_deudor:zs,monto_pago_deudor:qs}).then((function(e){r(e),n(!1),bj(o),t&&a&&et.addRefPago({tipo:1,descripcion:t,monto:qs,banco:a,id_pedido:e.data.id_pedido}).then((function(e){r(e)}))}))}else alert("Error: Debe cargar referencia de transferencia electrónica.")},iC=function(e){e&&e.preventDefault(),n(!0),0!=t&&clearTimeout(kc);var t=window.setTimeout((function(){et.getDeudores({qDeudores:hs,view:oe,orderbycolumdeudores:vs,orderbyorderdeudores:js,limitdeudores:Cs}).then((function(e){e.data&&(e.data.length?Os(e.data):Os([])),n(!1)}))}),150);Dc(t)},sC=function(e){var t=null;null!=Tl&&sl[Tl]&&(t=sl[Tl].id);var r=Xe.filter((function(e){return e.type})).filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.unidad}));if(r.length)alert("Hay productos pendientes en carga de Inventario List!");else{n(!0),0!=a&&clearTimeout(kc);var a=window.setTimeout((function(){et.getinventario({num:Ir,itemCero:!0,qProductosMain:tt,orderColumn:kr,orderBy:Fr,busquedaAvanazadaInv:zv,busqAvanzInputs:Ix,view:oe,id_factura:t}).then((function(e){e.data&&(e.data.length?$e(e.data):$e([]),dt(null),1===e.data.length?dt(0):0==e.data.length&&gt(tt)),n(!1)}))}),120);Dc(a)}},cC=function(e){0!=t&&clearTimeout(kc);var t=window.setTimeout((function(){n(!0),et.getProveedores({q:fn}).then((function(e){e.data.length?jn(e.data):jn([]),n(!1),1===e.data.length&&ln(0)}))}),150);Dc(t),Zy.length||oj(),wr.length||et.getDepositos({q:fn}).then((function(e){Nr(e.data)}))},lC=function(){if(Xe[ut]){var e=Xe[ut];gt(e.codigo_barras?e.codigo_barras:""),wt(e.cantidad?e.cantidad:""),Et(e.codigo_proveedor?e.codigo_proveedor:""),Dt(e.unidad?e.unidad:""),Vt(e.descripcion?e.descripcion:""),Wt(e.precio_base?e.precio_base:""),Qt(e.precio?e.precio:""),er(e.iva?e.iva:""),Lt(e.id_categoria?e.id_categoria:""),dr(e.id_proveedor?e.id_proveedor:""),mr(e.id_marca?e.id_marca:""),br(e.id_deposito?e.id_deposito:""),sr(e.lotes?e.lotes:[])}},uC=function(){if(yn[cn]){var e=yn[cn];Vr(e.descripcion),Wr(e.rif),Qr(e.direccion),en(e.telefono)}},dC=m_((0,o.useState)([]),2),fC=dC[0],hC=dC[1],pC=function(){et.getInventarioNovedades({}).then((function(e){hC(e.data)}))},mC=function(){et.getPedidosFast({vendedor:Sn?[t.id_usuario]:[],fecha1pedido:zo}).then((function(e){pp(e.data)}))},gC=m_((0,o.useState)(!1),2),vC=gC[0],xC=gC[1],bC=m_((0,o.useState)(""),2),yC=bC[0],jC=bC[1],wC=m_((0,o.useState)(null),2),NC=wC[0],_C=wC[1],CC=m_((0,o.useState)(0),2),EC=CC[0],SC=CC[1],AC=m_((0,o.useState)(0),2),IC=AC[0],OC=AC[1],TC=m_((0,o.useState)(""),2),PC=TC[0],kC=TC[1],DC=m_((0,o.useState)(""),2),MC=DC[0],RC=DC[1],FC=function(e){n(!0),e.preventDefault();var t=null;null!=cn&&yn[cn]&&(t=yn[cn].id),et.setProveedor({proveedordescripcion:zr,proveedorrif:qr,proveedordireccion:$r,proveedortelefono:Jr,id:t}).then((function(e){r(e),cC(),n(!1)}))},LC=function(e){var t;null!=cn&&yn[cn]&&(t=yn[cn].id),confirm("¿Desea Eliminar?")&&(n(!0),et.delProveedor({id:t}).then((function(e){n(!1),cC(),r(e),e.data.estado&&ln(null)})))},BC=function(e){var t;null!=ut&&Xe[ut]&&(t=Xe[ut].id),confirm("¿Desea Eliminar?")&&(n(!0),et.delProducto({id:t}).then((function(e){n(!1),sC(),r(e),e.data.estado&&dt(null)})))},UC=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!=t&&clearTimeout(kc);var t=window.setTimeout((function(){n(!0),et.getFacturas({factqBuscar:dl,factqBuscarDate:ml,factOrderBy:bl,factOrderDescAsc:Nl}).then((function(t){n(!1),cl(t.data),1===t.data.length&&Pl(0),e&&Pl(null)}))}),100);Dc(t)},zC=function(e){e.preventDefault(),n(!0);var t=null;null!=Tl&&sl[Tl]&&(t=sl[Tl].id);var a=GC.filter((function(e){return e.id==Ml}));if(a.length){var o=new FormData;o.append("id",t),o.append("factInpid_proveedor",Ml),o.append("factInpnumfact",Bl),o.append("factInpdescripcion",Gl),o.append("factInpmonto",Yl),o.append("factInpfechavencimiento",Zl),o.append("factInpestatus",zu),o.append("factInpnumnota",ou),o.append("factInpsubtotal",lu),o.append("factInpdescuento",hu),o.append("factInpmonto_gravable",vu),o.append("factInpmonto_exento",ju),o.append("factInpiva",Cu),o.append("factInpfechaemision",Iu),o.append("factInpfecharecepcion",ku),o.append("factInpnota",Fu),o.append("proveedorCentraid",a[0].id),o.append("proveedorCentrarif",a[0].rif),o.append("proveedorCentradescripcion",a[0].descripcion),o.append("proveedorCentradireccion",a[0].direccion),o.append("proveedorCentratelefono",a[0].telefono),o.append("factInpImagen",tu),et.setFactura(o).then((function(e){r(e),UC(),n(!1),e.data.estado&&(Al("buscar"),Pl(null))}))}},VC=m_((0,o.useState)([]),2),GC=VC[0],HC=VC[1],qC=function(){et.getAllProveedores({}).then((function(e){e.data&&(e.data.length?HC(e.data):r(e.data))}))},WC=function(e){var t=null;null!=Tl&&sl[Tl]&&(t=sl[Tl].id),confirm("¿Desea Eliminar?")&&(n(!0),et.delFactura({id:t}).then((function(e){n(!1),UC(),r(e),e.data.estado&&(Al("buscar"),Pl(null))})))},YC=function(){if(sl[Tl]){var e=sl[Tl].id,t=sl[Tl].summonto_base_clean;et.saveMontoFactura({id:e,monto:t}).then((function(e){UC(!1)}))}},XC=function(e){var t=null;null!=Tl&&sl[Tl]&&(t=sl[Tl].id,confirm("¿Desea Eliminar?")&&(n(!0),et.delItemFact({id_producto:e,id_factura:t}).then((function(e){n(!1),r(e),e.data.estado&&UC(!1)}))))},$C=function(e){e.preventDefault(),n(!0);var t=null;null!=rd&&Ku[rd]&&(t=Ku[rd].id),et.setClienteCrud({id:t,clienteInpidentificacion:id,clienteInpnombre:ud,clienteInpcorreo:pd,clienteInpdireccion:xd,clienteInptelefono:wd,clienteInpestado:Ed,clienteInpciudad:Od}).then((function(e){r(e),QC(),n(!1)}))},QC=function(){n(!0),et.getClienteCrud({q:qu,num:$u}).then((function(e){n(!1),Ju(e.data),nd(null)}))},ZC=function(){var e=null;null!=rd&&Ku[rd]&&(e=Ku[rd].id),confirm("¿Desea Eliminar?")&&(n(!0),et.delCliente({id:e}).then((function(e){n(!1),QC(),r(e),e.data.estado&&nd(null)})))},KC=function(e){var t=e.currentTarget.attributes["data-tipo"].value,r=e.currentTarget.attributes["data-id"].value;"add"==t?Dd.indexOf(r)<0&&Md(Dd.concat(r)):Md(Dd.filter((function(e){return e!=r})))},JC=function(){n(!0),et.getFallas({qFallas:nh,orderCatFallas:sh,orderSubCatFallas:dh,ascdescFallas:mh}).then((function(e){yh(e.data),n(!1)}))},eE=function(){n(!0),Wp(""),et.getmastermachine({}).then((function(e){e.data&&(e.data.length?Qp(e.data):Qp([]),n(!1))}))},tE=function(){},rE=m_((0,o.useState)(""),2),nE=rE[0],aE=rE[1],oE=m_((0,o.useState)("5"),2),iE=oE[0],sE=oE[1],cE=m_((0,o.useState)(""),2),lE=cE[0],uE=cE[1],dE=m_((0,o.useState)(""),2),fE=dE[0],hE=dE[1],pE=function(){n(!0),et.reqpedidos({path:qp,qpedidoscentralq:nE,qpedidocentrallimit:iE,qpedidocentralestado:lE,qpedidocentralemisor:fE}).then((function(e){n(!1),Ah([]),e.data?(e.data.length?e.data[0]&&e.data[0].id&&Ah(e.data):Ah([]),e.data.msj&&r(e)):Ah([])}))},mE=function(){try{var e=Um.substring(0,4).replace(/\b0*/g,""),t=Um.substring(4,8).replace(/\b0*/g,""),r=Um.substring(8),n={};if(!(e&&t&&r))throw"Error: Cabezera incorrecta!";et.getSucursal({}).then((function(a){try{if(a.data&&a.data.codigo){if(a.data.codigo!=r)throw"Error: Pedido no pertenece a esta sucursal!";n.created_at=Gi,n.sucursal=r,n.id=e,n.base=0,n.venta=0,n.items=[];var o=Hm.toString().replace(/[^0-9]/g,"");if(!o)throw"Error: Cuerpo incorrecto!";var i=o.match(/.{1,25}/g).map((function(e,t){if(25!=e.length)throw"Error: Líneas no tienen la longitud!";var r=e.substring(0,4).replace(/\b0*/g,"");return{id_producto:e.substring(4,8).replace(/\b0*/g,""),id_pedido:r,base:e.substring(8,12).replace(/\b0*/g,"")+"."+e.substring(12,14),venta:e.substring(14,18).replace(/\b0*/g,"")+"."+e.substring(18,20),cantidad:e.substring(20,24).replace(/\b0*/g,"")+"."+e.substring(24,25)}}));et.getProductosSerial({count:t,ids_productos:i.map((function(e){return e.id_producto}))}).then((function(e){try{var t=e.data;if(t.estado){if(t.msj){t.msj.map((function(e,t){var r=i.filter((function(t){return t.id_producto==e.id}))[0],a=r.cantidad,o=r.base,s=r.venta,c=a*s;n.items.push({cantidad:a,producto:{precio_base:o,precio:s,codigo_barras:e.codigo_barras,codigo_proveedor:e.codigo_proveedor,descripcion:e.descripcion,id:e.id},id:t,monto:c}),n.base+=parseFloat(a*o),n.venta+=parseFloat(c)}));Ah(Sh.concat(n)),Rh(!1)}}else alert(t.msj)}catch(e){alert(e)}}))}}catch(e){alert(e)}}))}catch(e){alert(e)}},gE=function(e){try{var t=e.currentTarget.attributes["data-index"].value,r=e.currentTarget.attributes["data-tipo"].value,n=(0,Ke.cloneDeep)(Sh);"select"==r?!0===n[Th].items[t].aprobado?delete n[Th].items[t].aprobado:(!1===n[Th].items[t].aprobado||void 0===n[Th].items[t].aprobado)&&(n[Th].items[t].aprobado=!0):"changect_real"==r?n[Th].items[t].ct_real=nt(e.currentTarget.value,6):"changebarras_real"==r?n[Th].items[t].barras_real=e.currentTarget.value:"changealterno_real"==r?n[Th].items[t].alterno_real=e.currentTarget.value:"changedescripcion_real"==r?n[Th].items[t].descripcion_real=e.currentTarget.value:"changevinculo_real"==r&&(n[Th].items[t].vinculo_real=e.currentTarget.value),Ah(n)}catch(e){console.log(e)}},vE=function(e){et.removeVinculoCentral({id:e}).then((function(e){if(e.data)if(!0===e.data.estado){var t=e.data.id_pedido,r=e.data.id_item,n=(0,Ke.cloneDeep)(Sh);n=n.map((function(e){return e.id==t&&(e.items=e.items.map((function(e){return e.id==r&&(e.idinsucursal_vinculo=null,e.idinsucursal_producto=null,e.match=null),e}))),e})),Ah(n)}else console.log("ESTADO NOT TRUE removeVinculoCentral",e.data)}))},xE=function(){null!==Th&&Sh&&Sh[Th]&&(n(!0),et.checkPedidosCentral({pathcentral:qp,pedido:Sh[Th]}).then((function(e){n(!1),r(e,!1),e.data.estado&&pE(),"enrevision"===e.data.proceso&&pE(),e.data&&!1===e.data.estado&&e.data.id_item&&vE(e.data.id_item)})))},bE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=sl[Tl];e&&(t=e),t&&et.openVerFactura({id:sl[Tl].id})},yE=function(){n(!0),et.getVentasRapido({fechaventas:lp}).then((function(e){ip(e.data),n(!1)})).catch((function(e){console.error("Error obteniendo ventas:",e),n(!1)}))},jE=function(){yE()},wE=function(){var e;e=1*parseInt(jp||0)+5*parseInt(Cp||0)+10*parseInt(Ip||0)+20*parseInt(kp||0)+50*parseInt(Fp||0)+100*parseInt(zp||0),Qo(e)},NE=function(){if(Nm){var e=Jp[Nm];e&&(am(e.nombre),cm(e.usuario),fm(e.tipo_usuario),gm(e.clave))}},_E=function(){n(!0),et.getUsuarios({q:bm}).then((function(e){n(!1),em(e.data)}))},CE=m_((0,o.useState)([]),2),EE=CE[0],SE=CE[1],AE=m_((0,o.useState)([]),2),IE=AE[0],OE=AE[1],TE=function(e){if(t.iscentral){var a=null;null!=Tl&&sl[Tl]&&(a=sl[Tl].id);var o=Xe.filter((function(e){return e.type})),i=o.filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.unidad}));if(o.length&&!i.length){n(!0);et.guardarNuevoProductoLote({lotes:o,id_factura:a,motivo:null}).then((function(e){var t=e.data;t.msj?r(t.msj):r(t),t.estado&&(UC(null),sC()),n(!1)}))}else alert("¡Error con los campos! Algunos pueden estar vacíos "+JSON.stringify(i))}else alert("No tiene permisos para gestionar Inventario")},PE=function(e){var t=e.target.attributes["data-id"].value;confirm("¿Seguro de eliminar?")&&et.delPagoProveedor({id:t}).then((function(e){kE(),r(e)}))},kE=function(){yn[cn]&&(n(!0),et.getPagoProveedor({id_proveedor:yn[cn].id}).then((function(e){n(!1),Bv(e.data)})))},DE=function(e){e.preventDefault(),Pv&&Mv&&yn[cn]&&et.setPagoProveedor({tipo:Pv,monto:Mv,id_proveedor:yn[cn].id}).then((function(e){kE(),r(e)}))},ME=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Ke.cloneDeep)(Xe);switch(n){case"update":var i=!1;if("update"==o[t].type&&(delete o[t].type,i=!0),0!=o.filter((function(e){return e.type})).length)return;"new"!=o[t].type&&(i||(o[t].type="update"));break;case"delModeUpdateDelete":delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":o[t][a]=e;break;case"add":var s="";s=sl[Tl]?sl[Tl].proveedor.id:MC,o=[{id:null,codigo_proveedor:"",codigo_barras:"",descripcion:"",id_categoria:PC,id_marca:"",unidad:"UND",id_proveedor:s,cantidad:"",precio_base:"",precio3:"",precio:"",iva:"0",type:"new"}].concat(o);break;case"delMode":o[t].type="delete";o[t].id_replace=0}$e(o)},RE=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Ke.cloneDeep)(ox);switch(n){case"update":"new"!=o[t].type&&(o[t].type="update",o[t].estatus=1);break;case"delModeUpdateDelete":o[t].id_vinculacion=null,o[t].estatus=0,delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":if(null===r){var i=He.filter((function(t){return t.id==e}))[0];o[t]={bulto:i.bulto,cantidad:"0.00",codigo_barras:i.codigo_barras,codigo_proveedor:i.codigo_proveedor,descripcion:i.descripcion,id_categoria:i.id_categoria,id_deposito:i.id_deposito,id_marca:i.id_marca,id_proveedor:i.id_proveedor,iva:i.iva,porcentaje_ganancia:i.porcentaje_ganancia,precio:i.precio,precio1:i.precio1,precio2:i.precio2,precio3:i.precio3,precio_base:i.precio_base,stockmax:i.stockmax,stockmin:i.stockmin,unidad:i.unidad,id_vinculacion:e,type:"new",estatus:1}}else if("id_vinculacion"==a&&"new"!=o[t].type){o[t].type="update",o[t].estatus=1;var s=He.filter((function(t){return t.id==e}));s.length&&(o[t].codigo_barras=s[0].codigo_barras,o[t].codigo_proveedor=s[0].codigo_proveedor,o[t].id_proveedor=s[0].id_proveedor,o[t].id_categoria=s[0].id_categoria,o[t].id_marca=s[0].id_marca,o[t].unidad=s[0].unidad,o[t].id_deposito=s[0].id_deposito,o[t].descripcion=s[0].descripcion,o[t].iva=s[0].iva,o[t].porcentaje_ganancia=s[0].porcentaje_ganancia,o[t].precio_base=s[0].precio_base,o[t].precio=s[0].precio,o[t].precio1=s[0].precio1,o[t].precio2=s[0].precio2,o[t].precio3=s[0].precio3,o[t].bulto=s[0].bulto,o[t].stockmin=s[0].stockmin,o[t].stockmax=s[0].stockmax)}o[t][a]=e;break;case"add":o=[p_({id:null,id_vinculacion:null,codigo_proveedor:"",codigo_barras:"",descripcion:"",id_categoria:1,id_marca:"",unidad:"UND",id_proveedor:1,cantidad:"",precio_base:"",precio:"",iva:"0",type:"new",estatus:1,precio1:0,precio2:0,precio3:0,stockmin:0,stockmax:0},"id_vinculacion",null)].concat(o);break;case"delMode":o[t].type="delete",o[t].estatus=1}mb(o),ix(o)},FE=function(e){if("super"==e)return"admin"==t.usuario;var r=t.nivel;return 1==e&&1==r||(2==e||(3==e||7==e))},LE=m_((0,o.useState)(!1),2),BE=LE[0],UE=LE[1],zE=(0,o.useRef)(null),VE=m_((0,o.useState)(!1),2),GE=VE[0],HE=VE[1],qE=m_((0,o.useState)(""),2),WE=qE[0],YE=qE[1],XE=m_((0,o.useState)(null),2),$E=XE[0],QE=XE[1],ZE=function(e){e&&(HE(!0),QE(e))},KE=m_((0,o.useState)(null),2),JE=KE[0],eS=KE[1];return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{id:"reader"}),GE?(0,at.jsx)(Wj,{inputsetclaveadminref:zE,valinputsetclaveadmin:WE,setvalinputsetclaveadmin:YE,closemodalsetclave:function(){HE(!1)},sendClavemodal:function(){$E?et.sendClavemodal({valinputsetclaveadmin:WE,idtareatemp:$E}).then((function(e){!0===e.data.estado&&(HE(!1),YE(""),JE&&JE.dbFunction(JE.params).then((function(e){r(e.data.msj),yN(),eS(null)}))),r(e)})):alert("idtareatemp no es Válido "+$E)},typingTimeout:kc,setTypingTimeout:Dc}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)(xt,{updatetasasfromCentral:function(){n(!0),et.updatetasasfromCentral({}).then((function(e){Aj(),n(!1)}))},getip:function(){et.getip({}).then((function(e){return alert(e.data)}))},auth:FE,logout:function(){console.log("Función logout ejecutada"),localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),console.log("localStorage limpiado"),et.logout().then((function(e){console.log("Logout exitoso, redirigiendo..."),window.location.href="/"})).catch((function(e){console.log("Error en logout:",e),window.location.href="/"}))},user:t,dolar:je,peso:Ce,setMoneda:_j,view:oe,getPedidos:Lj,setViewCaja:dc,viewCaja:uc,setShowModalMovimientos:Vc,showModalMovimientos:zc,getVentasClick:jE,toggleClientesBtn:Sm,settoggleClientesBtn:Am,setView:ie,isCierre:BE,getPermisoCierre:function(){if(BE)ie("cierres");else{et.getPermisoCierre({}).then((function(e){r(e),!0===e.data.estado?(UE(!0),ie("cierres")):!1===e.data.estado&&ZE(e.data.id_tarea)}))}},setsubViewInventario:an,subViewInventario:nn}),"tareas"==oe?(0,at.jsxs)("div",{className:"container-fluid px-2",children:[(0,at.jsx)("div",{className:"row mb-3",children:(0,at.jsxs)("div",{className:"col-12",children:[(0,at.jsxs)("h1",{className:"h4 mb-2",children:["Tareas",(0,at.jsx)("button",{className:"btn btn-outline-success btn-sm ms-2",onClick:db,children:(0,at.jsx)("i",{className:"fa fa-search"})})]}),(0,at.jsx)("input",{type:"date",className:"form-control mb-3",value:ib,onChange:function(e){return sb(e.target.value)}})]})}),(0,at.jsx)("div",{className:"d-md-none",children:lb.length?lb.map((function(e){return(0,at.jsx)("div",{className:"card mb-3 shadow-sm",children:(0,at.jsx)("div",{className:"card-body p-3",children:(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("div",{className:"col-12 mb-2",children:(0,at.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,at.jsxs)("h6",{className:"card-title mb-0 text-primary",children:["#",e.id_pedido]}),(0,at.jsx)("span",{className:"badge ".concat(e.estado?"bg-success":"bg-warning"),children:e.estado?"Resuelta":"Pendiente"})]})}),(0,at.jsxs)("div",{className:"col-6 mb-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Usuario:"}),(0,at.jsx)("div",{className:"fw-bold",children:e.usuario?e.usuario.usuario:"N/A"})]}),(0,at.jsxs)("div",{className:"col-6 mb-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Tipo:"}),(0,at.jsx)("div",{className:"fw-bold",children:e.tipo})]}),(0,at.jsxs)("div",{className:"col-12 mb-2",children:[(0,at.jsx)("small",{className:"text-muted",children:"Descripción:"}),(0,at.jsx)("div",{className:"text-break",children:e.descripcion})]}),(0,at.jsxs)("div",{className:"col-12 mb-3",children:[(0,at.jsx)("small",{className:"text-muted",children:"Fecha:"}),(0,at.jsx)("div",{className:"small",children:e.created_at})]}),(0,at.jsx)("div",{className:"col-12",children:(0,at.jsxs)("div",{className:"d-flex gap-2 justify-content-end",children:[(0,at.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){return fb(e.id,"rechazar")},children:[(0,at.jsx)("i",{className:"fa fa-times me-1"}),"Rechazar"]}),!e.estado&&(0,at.jsxs)("button",{className:"btn btn-warning btn-sm",onClick:function(){return fb(e.id)},children:[(0,at.jsx)("i",{className:"fa fa-check me-1"}),"Resolver"]})]})})]})})},e.id)})):(0,at.jsx)("div",{className:"text-center py-4",children:(0,at.jsxs)("div",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fa fa-tasks fa-3x mb-3"}),(0,at.jsx)("p",{children:"No hay tareas disponibles"})]})})}),(0,at.jsx)("div",{className:"d-none d-md-block",children:(0,at.jsx)("div",{className:"table-responsive",children:(0,at.jsxs)("table",{className:"table table-striped table-hover",children:[(0,at.jsx)("thead",{className:"table-dark",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{width:"100",children:"Acción"}),(0,at.jsx)("th",{children:"ID Pedido"}),(0,at.jsx)("th",{children:"Usuario"}),(0,at.jsx)("th",{children:"Tipo"}),(0,at.jsx)("th",{children:"Descripción"}),(0,at.jsx)("th",{children:"Hora"}),(0,at.jsx)("th",{width:"100",children:"Estado"})]})}),(0,at.jsx)("tbody",{children:lb.length?lb.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:(0,at.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return fb(e.id,"rechazar")},children:(0,at.jsx)("i",{className:"fa fa-times"})})}),(0,at.jsxs)("td",{className:"fw-bold text-primary",children:["#",e.id_pedido]}),(0,at.jsx)("td",{children:e.usuario?e.usuario.usuario:"N/A"}),(0,at.jsx)("td",{children:e.tipo}),(0,at.jsx)("td",{className:"text-break",children:e.descripcion}),(0,at.jsx)("td",{className:"small",children:e.created_at}),(0,at.jsx)("td",{children:e.estado?(0,at.jsx)("span",{className:"badge bg-success",children:"Resuelta"}):(0,at.jsx)("button",{className:"btn btn-warning btn-sm",onClick:function(){return fb(e.id)},children:(0,at.jsx)("i",{className:"fa fa-check"})})})]},e.id)})):(0,at.jsx)("tr",{children:(0,at.jsx)("td",{colSpan:"7",className:"text-center py-4",children:(0,at.jsxs)("div",{className:"text-muted",children:[(0,at.jsx)("i",{className:"fa fa-tasks fa-2x mb-2"}),(0,at.jsx)("p",{className:"mb-0",children:"No hay tareas disponibles"})]})})})})]})})})]}):null,sN&&(0,at.jsx)(Yj,{addCarritoRequestInterno:AN,setviewGarantiaFormato:cN,devolucionMotivo:bw,setdevolucionMotivo:yw,devolucion_cantidad_salida:ww,setdevolucion_cantidad_salida:Nw,devolucion_motivo_salida:Cw,setdevolucion_motivo_salida:Ew,devolucion_ci_cajero:Aw,setdevolucion_ci_cajero:Iw,devolucion_ci_autorizo:Tw,setdevolucion_ci_autorizo:Pw,devolucion_dias_desdecompra:Dw,setdevolucion_dias_desdecompra:Mw,devolucion_ci_cliente:Fw,setdevolucion_ci_cliente:Lw,devolucion_telefono_cliente:Uw,setdevolucion_telefono_cliente:zw,devolucion_nombre_cliente:Gw,setdevolucion_nombre_cliente:Hw,devolucion_nombre_cajero:Ww,setdevolucion_nombre_cajero:Yw,devolucion_nombre_autorizo:$w,setdevolucion_nombre_autorizo:Qw,devolucion_trajo_factura:Kw,setdevolucion_trajo_factura:Jw,devolucion_motivonotrajofact:tN,setdevolucion_motivonotrajofact:rN,devolucion_numfactoriginal:aN,setdevolucion_numfactoriginal:oN,number:nt}),"seleccionar"==oe?(0,at.jsx)(Rn,{openBarcodeScan:VN,user:t,getPedidosList:pN,permisoExecuteEnter:Bh,setpresupuestocarritotopedido:function(){if(1===v.length)v.map((function(e){jN("agregar",e.id,"nuevo",e.cantidad)}));else if(v.length>1){var e=(0,Ke.cloneDeep)(v),t=e[0];et.setCarrito({id:t.id,cantidad:t.cantidad,type:"agregar",numero_factura:"nuevo",loteIdCarrito:Mm}).then((function(t){delete e[0],pN((function(t){e.map((function(e){et.setCarrito({id:e.id,cantidad:e.cantidad,type:"agregar",numero_factura:t,loteIdCarrito:Mm}).then((function(e){r(e)}))}))}))}))}},presupuestocarrito:v,productos:He,selectItem:le,setPresupuesto:function(e){var t=e.currentTarget.attributes["data-id"].value,r=He.filter((function(e){return e.id==t}));if(r.length){var n=r[0],a=(0,Ke.cloneDeep)(v);a.filter((function(e){return e.id==t})).length&&(a=a.filter((function(e){return e.id!=t})));var o=Ie||1,i=parseFloat(n.precio)*o;a=a.concat({id:n.id,precio:n.precio,cantidad:o,descripcion:n.descripcion,subtotal:i}),x(a),ue(null)}},dolar:je,setSelectItem:ue,cantidad:Ie,setCantidad:Oe,numero_factura:ke,setNumero_factura:De,pedidoList:_n,setFalla:function(e){var t=e.currentTarget.attributes["data-id"].value;et.setFalla({id:null,id_producto:t}).then((function(e){r(e),ue(null)}))},number:nt,moneda:rt,inputCantidadCarritoref:Ac,addCarritoRequest:jN,inputbusquedaProductosref:Ic,getProductos:Bj,showOptionQMain:L,setshowOptionQMain:B,num:k,setNum:M,itemCero:V,setpresupuestocarrito:x,toggleImprimirTicket:Fj,delitempresupuestocarrito:function(e){x(v.filter((function(t,r){return r!=e})))},sumsubtotalespresupuesto:function(){var e=0;return v.map((function(t){e+=parseFloat(t.subtotal)})),rt(e)},auth:FE,addCarrito:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.currentTarget){var a=e.currentTarget.attributes;t=a["data-index"].value,a["data-loteid"]&&(r=a["data-loteid"].value)}else t=e;Rm(r),ue(parseInt(t)),n&&n()},clickSetOrderColumn:function(e){var t=e.currentTarget.attributes["data-valor"].value;t==$?ee("desc"==J?"asc":"desc"):Q(t)},orderColumn:$,orderBy:J,counterListProductos:Js,setCounterListProductos:ec,tbodyproductosref:_c,focusCtMain:xj,selectProductoFast:function(e){e.currentTarget.attributes["data-id"].value;var t=e.currentTarget.attributes["data-val"].value;ot(t),Pl("ninguna"),ie("inventario"),an("inventario")},getPedido:yN,setView:ie,getPedidos:Lj}):null,"pedidosCentral"==oe?(0,at.jsx)(mn,{openBarcodeScan:VN,buscarDatosFact:RN,setbuscarDatosFact:FN,getSucursales:Vx,qpedidoscentralq:nE,setqpedidoscentralq:aE,qpedidocentrallimit:iE,setqpedidocentrallimit:sE,qpedidocentralestado:lE,setqpedidocentralestado:uE,qpedidocentralemisor:fE,setqpedidocentralemisor:hE,sucursalesCentral:Yv,saveChangeInvInSucurFromCentral:function(){n(!0),et.saveChangeInvInSucurFromCentral({inventarioModifiedCentralImport:Qv.filter((function(e){return"replace"===e.type}))}).then((function(e){r(e),Ab(),n(!1)}))},socketUrl:ov,setSocketUrl:iv,mastermachines:$p,getmastermachine:eE,setInventarioFromSucursal:function(){n(!0),et.setInventarioFromSucursal({path:qp}).then((function(e){console.log(e.data),r(e),n(!1)}))},getInventarioFromSucursal:Ab,pathcentral:qp,setpathcentral:Wp,getPedidosCentral:pE,selectPedidosCentral:gE,checkPedidosCentral:xE,removeVinculoCentral:vE,setinventarioModifiedCentralImport:Zv,inventarioModifiedCentralImport:Qv,pedidosCentral:Sh,setIndexPedidoCentral:Ph,indexPedidoCentral:Th,moneda:rt,showaddpedidocentral:Mh,setshowaddpedidocentral:Rh,valheaderpedidocentral:Um,setvalheaderpedidocentral:zm,valbodypedidocentral:Hm,setvalbodypedidocentral:qm,procesarImportPedidoCentral:mE,getTareasCentral:Sb,settareasCentral:lv,tareasCentral:cv,runTareaCentral:function(e){n(!0),et.runTareaCentral({tarea:cv[e]}).then((function(e){var t=e.data;r(t.msj,!0),t.estado&&Sb(),n(!1)}))},modalmovilRef:gb,modalmovilx:Hx,modalmovily:Yx,setmodalmovilshow:Zx,modalmovilshow:Qx,getProductos:Bj,productos:He,linkproductocentralsucursal:xb,inputbuscarcentralforvincular:tb,openVincularSucursalwithCentral:vb,idselectproductoinsucursalforvicular:Jx}):null,"ventas"==oe?(0,at.jsx)(Nj,{ventasData:op,getVentasClick:jE,setfechaventas:up,fechaventas:lp,moneda:rt,onClickEditPedido:wN,getVentas:yE}):null,"vueltos"==oe?(0,at.jsx)(Pt,{onchangecaja:jj,qDeudores:hs,deudoresList:Is,selectDeudor:Fs,setSelectDeudor:Ls,tipo_pago_deudor:zs,monto_pago_deudor:qs,setPagoCredito:oC,onClickEditPedido:wN,onCLickDelPedido:NN,detallesDeudor:$s,onlyVueltos:Fe,setOnlyVueltos:Le,qBuscarCliente:qu,setqBuscarCliente:Wu,clientesCrud:Ku,setindexSelectCliente:nd,indexSelectCliente:rd,setClienteCrud:$C,delCliente:ZC,clienteInpidentificacion:id,setclienteInpidentificacion:sd,clienteInpnombre:ud,setclienteInpnombre:dd,clienteInpcorreo:pd,setclienteInpcorreo:md,clienteInpdireccion:xd,setclienteInpdireccion:bd,clienteInptelefono:wd,setclienteInptelefono:Nd,clienteInpestado:Ed,setclienteInpestado:Sd,clienteInpciudad:Od,setclienteInpciudad:Td,sumPedidos:KC,sumPedidosArr:Dd,setsumPedidosArr:Md}):null,"clientes_crud"==oe?(0,at.jsx)(Ot,{qBuscarCliente:qu,setqBuscarCliente:Wu,clientesCrud:Ku,setindexSelectCliente:nd,indexSelectCliente:rd,setClienteCrud:$C,delCliente:ZC,clienteInpidentificacion:id,setclienteInpidentificacion:sd,clienteInpnombre:ud,setclienteInpnombre:dd,clienteInpcorreo:pd,setclienteInpcorreo:md,clienteInpdireccion:xd,setclienteInpdireccion:bd,clienteInptelefono:wd,setclienteInptelefono:Nd,clienteInpestado:Ed,setclienteInpestado:Sd,clienteInpciudad:Od,setclienteInpciudad:Td}):null,"cierres"==oe?(0,at.jsx)(vn,{bancos:Fx,dataPuntosAdicionales:mj,setdataPuntosAdicionales:gj,addTuplasPuntosAdicionales:function(e,t){switch(e){case"delete":gj(mj.filter((function(e,r){return r!==t})));break;case"add":gj(mj.concat({banco:"",monto:"",descripcion:"",categoria:""}))}},reversarCierre:function(){confirm("Por favor, confirme reverso")&&et.reversarCierre({}).then((function(e){location.reload()}))},puntolote1banco:Qg,puntolote2banco:Jg,setpuntolote1banco:Zg,setpuntolote2banco:ev,lote1punto:Og,setlote1punto:Tg,montolote1punto:Dg,setmontolote1punto:Mg,lote2punto:Lg,setlote2punto:Bg,montolote2punto:Vg,setmontolote2punto:Gg,serialbiopago:Wg,setserialbiopago:Yg,setCajaFuerteEntradaCierreDolar:sg,CajaFuerteEntradaCierreDolar:ig,setCajaFuerteEntradaCierreCop:dg,CajaFuerteEntradaCierreCop:ug,setCajaFuerteEntradaCierreBs:mg,CajaFuerteEntradaCierreBs:pg,setCajaChicaEntradaCierreDolar:bg,CajaChicaEntradaCierreDolar:xg,setCajaChicaEntradaCierreCop:Ng,CajaChicaEntradaCierreCop:wg,setCajaChicaEntradaCierreBs:Sg,CajaChicaEntradaCierreBs:Eg,tipoUsuarioCierre:rg,settipoUsuarioCierre:ng,cierrenumreportez:x_,setcierrenumreportez:b_,cierreventaexcento:w_,setcierreventaexcento:N_,cierreventagravadas:E_,setcierreventagravadas:S_,cierreivaventa:O_,setcierreivaventa:T_,cierretotalventa:D_,setcierretotalventa:M_,cierreultimafactura:L_,setcierreultimafactura:B_,cierreefecadiccajafbs:z_,setcierreefecadiccajafbs:V_,cierreefecadiccajafcop:H_,setcierreefecadiccajafcop:q_,cierreefecadiccajafdolar:Y_,setcierreefecadiccajafdolar:X_,cierreefecadiccajafeuro:Q_,setcierreefecadiccajafeuro:Z_,getTotalizarCierre:function(){Bi||et.getTotalizarCierre({}).then((function(e){if(e.data){var t=e.data;if(!t.caja_usd)return void r(e.data);Qo(t.caja_usd),ei(t.caja_cop),ai(t.caja_bs),ci(t.caja_punto),fi(t.caja_biopago),gi(t.dejar_dolar),yi(t.dejar_peso),_i(t.dejar_bss),Ai(t.lotes),Pi(t.biopagos)}})),Ui(!Bi)},totalizarcierre:Bi,setTotalizarcierre:Ui,moneda:rt,auth:FE,sendCuentasporCobrar:function(){et.sendCuentasporCobrar({}).then((function(e){r(e)}))},fechaGetCierre2:Km,setfechaGetCierre2:Jm,verCierreReq:aC,fechaGetCierre:Xm,setfechaGetCierre:$m,getCierres:function(){et.getCierres({fechaGetCierre:Xm,fechaGetCierre2:Km,tipoUsuarioCierre:rg}).then((function(e){e.data&&(e.data.cierres?Ds(e.data):Ds({}))}))},cierres:ks,number:nt,guardar_usd:Gh,setguardar_usd:Hh,guardar_cop:Yh,setguardar_cop:Xh,guardar_bs:Zh,setguardar_bs:Kh,settipo_accionCierre:rp,tipo_accionCierre:tp,caja_usd:$o,setcaja_usd:Qo,caja_cop:Jo,setcaja_cop:ei,caja_bs:ni,setcaja_bs:ai,caja_punto:si,setCaja_punto:ci,setcaja_biopago:fi,caja_biopago:di,dejar_usd:mi,dejar_cop:bi,dejar_bs:Ni,setDejar_usd:gi,setDejar_cop:yi,setDejar_bs:_i,lotespuntototalizar:Si,biopagostotalizar:Ti,cierre:Mi,cerrar_dia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),n(!0),et.cerrar({total_caja_neto:sj,total_punto:uj,dejar_usd:mi,dejar_cop:bi,dejar_bs:Ni,totalizarcierre:Bi,total_biopago:dj}).then((function(e){var t=e.data;e.data&&(Hh(t.efectivo_guardado),vj("setguardar_cop",Yh,t),vj("setguardar_bs",Zh,t),rp(t.tipo_accion),Xi(t.fecha),t.puntosAdicional&&t.puntosAdicional.length&&gj(t.puntosAdicional)),Ri(t),0==e.data.estado&&r(e),n(!1)}))},fun_setguardar:vj,setcajaFuerteFun:hj,total_caja_neto:sj,total_punto:uj,total_biopago:dj,total_dejar_caja_neto:lj,viewCierre:Zi,setViewCierre:Ki,toggleDetallesCierre:ts,setToggleDetallesCierre:rs,onchangecaja:jj,fechaCierre:Yi,setFechaCierre:Xi,guardar_cierre:function(e){if(!di||Bi||Wg){var t=xg||0,a=ug||0,o=wg||0,i=pg||0,s=Eg||0,c=parseFloat(ig||0)+parseFloat(t);if(Math.trunc(parseFloat(Gh))==Math.trunc(c)){var l=parseFloat(a)+parseFloat(o);if(Math.trunc(parseFloat(Yh))==Math.trunc(l)){var u=parseFloat(i)+parseFloat(s);Math.trunc(parseFloat(Zh))==Math.trunc(u)?window.confirm("¿Realmente desea Guardar/Editar?")&&(n(!0),console.log(tp),et.guardarCierre({fechaCierre:Yi,total_caja_neto:sj,dejar_usd:mi,dejar_cop:bi,dejar_bs:Ni,total_dejar_caja_neto:lj,total_punto:uj,total_biopago:dj,guardar_usd:Gh,guardar_cop:Yh,guardar_bs:Zh,caja_usd:$o,caja_cop:Jo,caja_bs:ni,caja_punto:si,caja_biopago:di,efectivo:Mi.total_caja,transferencia:Mi[1],entregadomenospend:Mi.entregadomenospend,caja_inicial:Mi.caja_inicial,precio:Mi.precio,precio_base:Mi.precio_base,ganancia:Mi.ganancia,porcentaje:Mi.porcentaje,desc_total:Mi.desc_total,numventas:Mi.numventas,debito_digital:Mi.debito_digital,efectivo_digital:Mi.efectivo_digital,transferencia_digital:Mi.transferencia_digital,biopago_digital:Mi.biopago_digital,descuadre:Mi.descuadre,notaCierre:ls,totalizarcierre:Bi,numreportez:x_,ventaexcento:w_,ventagravadas:E_,ivaventa:O_,totalventa:D_,ultimafactura:L_,efecadiccajafbs:z_,efecadiccajafcop:H_,efecadiccajafdolar:Y_,efecadiccajafeuro:Q_,inventariobase:Mi.total_inventario_base,inventarioventa:Mi.total_inventario,creditoporcobrartotal:Mi.cred_total,credito:Mi[4],vueltostotales:Mi.vueltos_totales,abonosdeldia:Mi.abonosdeldia,CajaFuerteEntradaCierreDolar:ig,CajaFuerteEntradaCierreCop:ug,CajaFuerteEntradaCierreBs:pg,CajaChicaEntradaCierreDolar:xg,CajaChicaEntradaCierreCop:wg,CajaChicaEntradaCierreBs:Eg,montolote1punto:Dg,montolote2punto:Vg,lote1punto:Og,lote2punto:Lg,serialbiopago:Wg,puntolote1banco:Qg,puntolote2banco:Jg,tipo_accionCierre:tp,dataPuntosAdicionales:mj}).then((function(e){n(!1),r(e,!1),e.data.estado&&et.getStatusCierre({fechaCierre:Yi}).then((function(e){rp(e.data.tipo_accionCierre)}))}))):alert("Error en suma de cajas (FUERTE)(CHICA): <sumcajaBs> ")}else alert("Error en suma de cajas (FUERTE)(CHICA): <sumcajaCop> ")}else alert("Error en suma de cajas (FUERTE)(CHICA): <sumcajaDolar> ")}else alert("Falta serial de Biopago")},veryenviarcierrefun:function(e){if(J_){var t=e.currentTarget.attributes["data-type"].value;"ver"==t?aC(Yi,t):(n(!0),et.sendCierre({type:t,fecha:Yi,totalizarcierre:Bi}).then((function(e){"string"==typeof e.data?r(e.data,!1):r(e.data.join("\n"),!1),n(!1)})))}else alert("Debe esperar 20 SEGUNDOS PARA VOLVER A ENVIAR!");eC(!1),clearTimeout(rC);var a=window.setTimeout((function(){eC(!0)}),2e4);nC(a)},notaCierre:ls,billete1:jp,setbillete1:wp,billete5:Cp,setbillete5:Ep,billete10:Ip,setbillete10:Op,billete20:kp,setbillete20:Dp,billete50:Fp,setbillete50:Lp,billete100:zp,setbillete100:Vp,dolar:je,peso:Ce}):null,"pedidos"==oe?(0,at.jsx)(It,{setView:ie,getReferenciasElec:function(){Pa([]),et.getReferenciasElec({fecha1pedido:zo,fecha2pedido:qo}).then((function(e){Pa(e.data)}))},refrenciasElecData:Ta,togleeReferenciasElec:Ma,settogleeReferenciasElec:Ra,addNewPedido:function(){et.addNewPedido({}).then((function(e){wN(null,e.data)}))},setmodalchangepedido:xC,setseletIdChangePedidoUserHandle:function(e,t){_C(t),xC(!0);var r=e.currentTarget.getBoundingClientRect(),n=r.top+window.scrollY,a=r.left;SC(n),OC(a)},modalchangepedido:vC,modalchangepedidoy:EC,modalchangepedidox:IC,usuarioChangeUserPedido:yC,setusuarioChangeUserPedidoHandle:function(e){var t=e;jC(e),window.confirm("Por favor confirmar transferencia de pedido #"+NC+" a usuario "+t)&&et.changepedidouser({id_usuario:t,id_pedido:NC}).then((function(e){_C(null),jC(""),xC(!1),Lj(),r(e)}))},usuariosData:Jp,auth:FE,toggleImprimirTicket:Fj,pedidoData:ve,showModalPedidoFast:xN,setshowModalPedidoFast:bN,getPedidoFast:function(e){var t=e.currentTarget.attributes["data-id"].value;bN(!0),yN(t)},clickSetOrderColumnPedidos:function(e){var t=e.currentTarget.attributes["data-valor"].value;t==Tn?Ln("desc"==Fn?"asc":"desc"):kn(t)},orderbycolumpedidos:Tn,setorderbycolumpedidos:kn,orderbyorderpedidos:Fn,setorderbyorderpedidos:Ln,moneda:rt,setshowMisPedido:An,showMisPedido:Sn,tipobusquedapedido:Io,setTipoBusqueda:Oo,busquedaPedido:Fo,fecha1pedido:zo,fecha2pedido:qo,onChangePedidos:function(e){var t=e.currentTarget.attributes["data-type"].value,r=e.currentTarget.value;switch(t){case"busquedaPedido":Lo(r);break;case"fecha1pedido":Vo(r);break;case"fecha2pedido":Wo(r)}},onClickEditPedido:wN,onCLickDelPedido:NN,pedidos:jo,getPedidos:Lj,filterMetodoPago:function(e){var t=e.currentTarget.attributes["data-type"].value;is(t)},filterMetodoPagoToggle:os,tipoestadopedido:ko,setTipoestadopedido:Do}):null,"inventario"==oe?(0,at.jsx)(Pn,{openBarcodeScan:VN,sincInventario:function(){confirm("¿Seguro de sincronizar inventario, puede tardar varios minutos?")&&et.sincInventario({})},numReporteZ:PN,setnumReporteZ:kN,reportefiscal:function(e){if(confirm("CONFIRME REPORTE "+e)){var t=prompt("Indique la Caja");t&&et.reportefiscal({type:e,numReporteZ:PN,caja:t}).then((function(e){var t=e.data;r(t)}))}},exportPendientes:function(){et.showcsvInventario({})},setSalidaGarantias:function(e){if(confirm("Confirme")){var t=window.prompt("Cantidad de SALIDA"),n=window.prompt("DESCRIPCION DE SALIDA");t&&n?et.setSalidaGarantias({id:e,cantidad:nt(t),motivo:n}).then((function(e){sw(),r(e)})):alert("Error: Datos incorrectos")}},garantiaEstado:ow,setgarantiaEstado:iw,garantiasData:qj,getGarantias:sw,setqgarantia:Zj,qgarantia:Qj,garantiaorderCampo:Jj,setgarantiaorderCampo:ew,garantiaorder:rw,setgarantiaorder:nw,dolar:je,peso:Ce,inventarioNovedadesData:fC,setinventarioNovedadesData:hC,getInventarioNovedades:pC,resolveInventarioNovedades:function(e){et.resolveInventarioNovedades({id:e}).then((function(e){pC(),r(e.data)}))},sendInventarioNovedades:function(e){et.sendInventarioNovedades({id:e}).then((function(e){r(e.data)}))},delInventarioNovedades:function(e){confirm("Confirme")&&et.delInventarioNovedades({id:e}).then((function(e){pC()}))},aprobarRecepcionCaja:function(e,t){confirm("¿Está seguro de "+t+" el movimiento?")&&et.aprobarRecepcionCaja({id:e,type:t}).then((function(e){Lx(),r(e)}))},reversarMovPendientes:function(){confirm("¿Realmente desea eliminar los movimientos pendientes?")&&confirm("¿Seguro/a, Seguro/a?")&&confirm("No hay marcha atrás!")&&et.reversarMovPendientes({}).then((function(e){Lx(),r(e.data)}))},getSucursales:Vx,transferirpedidoa:Mx,settransferirpedidoa:Rx,sucursalesCentral:Yv,getAlquileres:function(){et.getAlquileres({}).then((function(e){e.data.length&&e.data[0].descripcion&&OE(e.data)}))},alquileresData:IE,getPorcentajeInventario:function(){et.getPorcentajeInventario({}).then((function(e){var t=e.data;alert("INVENTARIADO: "+t.porcentaje)}))},cleanInventario:function(){confirm("LIMPIAR PRODUCTOS QUE NUNCA SE HAN VENDIDO Y SU CANTIDAD ESTÁ EN CERO")&&et.cleanInventario({}).then((function(e){r(e.data)}))},allProveedoresCentral:GC,getAllProveedores:qC,setView:ie,verificarMovPenControlEfec:function(){confirm("Confirme")&&et.verificarMovPenControlEfec({}).then((function(e){Lx(),r(e)}))},verificarMovPenControlEfecTRANFTRABAJADOR:function(){confirm("Confirme")&&et.verificarMovPenControlEfecTRANFTRABAJADOR({}).then((function(e){Lx(),r(e.data)}))},openModalNuevoEfectivo:lf,setopenModalNuevoEfectivo:uf,controlefecResponsable:ef,setcontrolefecResponsable:tf,controlefecAsignar:af,setcontrolefecAsignar:of,personalNomina:EE,setpersonalNomina:SE,getNomina:function(){et.getNomina({}).then((function(e){e.data.length&&e.data[0].nominacargo&&SE(e.data)}))},categoriasCajas:kb,departamentosCajas:Rb,setcategoriasCajas:Db,getcatsCajas:function(){et.getcatsCajas({}).then((function(e){e.data.categorias.length&&(Db(e.data.categorias),Fb(e.data.departamentos))}))},getEstaInventario:function(){0!=e&&clearTimeout(kc);var e=window.setTimeout((function(){n(!0),et.getEstaInventario({fechaQEstaInve:pv,fechaFromEstaInve:vv,fechaToEstaInve:yv,orderByEstaInv:Nv,categoriaEstaInve:dv,orderByColumEstaInv:Ev}).then((function(e){Ov(e.data),n(!1)}))}),150);Dc(e)},controlefecQ:Ld,setcontrolefecQ:Bd,controlefecQDesde:Vd,setcontrolefecQDesde:Gd,controlefecQHasta:Wd,setcontrolefecQHasta:Yd,controlefecData:hf,setcontrolefecData:pf,controlefecSelectGeneral:vf,setcontrolefecSelectGeneral:xf,controlefecSelectUnitario:jf,setcontrolefecSelectUnitario:wf,controlefecNewConcepto:Cf,setcontrolefecNewConcepto:Ef,controlefecNewCategoria:$f,setcontrolefecNewCategoria:Qf,controlefecNewDepartamento:Jf,setcontrolefecNewDepartamento:eh,controlefecNewMonto:If,setcontrolefecNewMonto:Of,controlefecNewMontoMoneda:kf,setcontrolefecNewMontoMoneda:Df,setcontrolefecid_persona:Lf,controlefecid_persona:Ff,setcontrolefecid_alquiler:Vf,controlefecid_alquiler:zf,controlefecid_proveedor:qf,setcontrolefecid_proveedor:Wf,controlefecQCategoria:Qd,setcontrolefecQCategoria:Zd,getControlEfec:Lx,setControlEfec:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];confirm("¿Realmente desea cargar el movimiento?")&&(Cf&&$f&&If&&Jf&&kf?(uf(!1),et.setControlEfec({concepto:Cf,categoria:$f,id_departamento:Jf,monto:If,controlefecSelectGeneral:vf,controlefecSelectUnitario:jf,controlefecNewMontoMoneda:kf,sendCentralData:e,transferirpedidoa:Mx,id_persona:Ff,id_alquiler:zf,id_proveedor:qf}).then((function(e){Ef(""),Of(""),Df(""),Qf(""),eh(""),Lf(""),Vf(""),Wf(""),Lx(),r(e.data.msj)}))):alert("Error: Campos Vacíos!"))},delCaja:function(e){et.delCaja({id:e}).then((function(e){r(e),Lx()}))},saveReplaceProducto:function(){et.saveReplaceProducto({replaceProducto:Px}).then((function(e){var t=e.data;t.estado&&(sC(),kx({este:null,poreste:null})),r(t.msj)}))},selectRepleceProducto:function(e){Px.este?kx(h_(h_({},Px),{},{poreste:e})):kx(h_(h_({},Px),{},{este:e}))},replaceProducto:Px,setreplaceProducto:kx,user:t,setStockMin:function(e){var t=e.currentTarget.attributes["data-id"].value,n=window.prompt("Cantidad Mínima");n&&et.setStockMin({id:t,min:n}).then((function(e){sC(),r(e)}))},datamodalhistoricoproducto:Ny,setdatamodalhistoricoproducto:_y,getmovientoinventariounitario:Ay,openmodalhistoricoproducto:function(e){Ay(e),Sy(e),fy(!0)},showmodalhistoricoproducto:dy,setshowmodalhistoricoproducto:fy,fecha1modalhistoricoproducto:py,setfecha1modalhistoricoproducto:my,fecha2modalhistoricoproducto:vy,setfecha2modalhistoricoproducto:xy,usuariomodalhistoricoproducto:yy,setusuariomodalhistoricoproducto:jy,usuariosData:Jp,getUsuarios:_E,qhistoinven:Oy,setqhistoinven:Ty,fecha1histoinven:ky,setfecha1histoinven:Dy,fecha2histoinven:Ry,setfecha2histoinven:Fy,orderByHistoInven:By,setorderByHistoInven:Uy,historicoInventario:qy,usuarioHistoInven:Vy,setusuarioHistoInven:Gy,getHistoricoInventario:function(){n(!0),et.getHistoricoInventario({qhistoinven:Oy,fecha1histoinven:ky,fecha2histoinven:Ry,orderByHistoInven:By,usuarioHistoInven:Vy}).then((function(e){Wy(e.data),n(!1)}))},categoriaEstaInve:dv,setcategoriaEstaInve:fv,printTickedPrecio:function(e){et.printTickedPrecio({id:e})},sameCatValue:PC,sameProValue:MC,setdropprintprice:O,dropprintprice:I,printPrecios:function(e){Xe.length&&et.printPrecios({type:e,ids:Xe.map((function(e){return e.id}))}).then((function(e){O(!1)}))},setCtxBulto:function(e){var t=e.currentTarget.attributes["data-id"].value,n=window.prompt("Cantidad por bulto");n&&et.setCtxBulto({id:t,bulto:n}).then((function(e){sC(),r(e)}))},setPrecioAlterno:function(e){var t=e.currentTarget.attributes["data-id"].value,n=e.currentTarget.attributes["data-type"].value,a=window.prompt("PRECIO "+n);a&&et.setPrecioAlterno({id:t,type:n,precio:a}).then((function(e){sC(),r(e)}))},qgastosfecha1:Ub,setqgastosfecha1:zb,qgastosfecha2:Gb,setqgastosfecha2:Hb,qgastos:Wb,setqgastos:Yb,qcatgastos:$b,setqcatgastos:Qb,gastosdescripcion:Kb,setgastosdescripcion:Jb,gastoscategoria:ty,setgastoscategoria:ry,gastosmonto:ay,setgastosmonto:oy,gastosData:sy,delGastos:function(e){var t=e.currentTarget.attributes["data-id"].value;t&&confirm("Confirme eliminación de gasto")&&et.delGastos({id:t}).then((function(e){r(e),ly()}))},getGastos:ly,setGasto:function(e){e.preventDefault(),et.setGasto({gastosdescripcion:Kb,gastoscategoria:ty,gastosmonto:ay}).then((function(e){r(e),ly()}))},delPagoProveedor:PE,busqAvanzInputsFun:function(e,t){var r=(0,Ke.cloneDeep)(Ix);r[t]=e.target.value,Ox(r)},busqAvanzInputs:Ix,buscarInvAvanz:function(){sC(null)},busquedaAvanazadaInv:zv,setbusquedaAvanazadaInv:Vv,setSameGanancia:function(){var e=window.prompt("Porcentaje");if(e){var t=(0,Ke.cloneDeep)(Xe);t.map((function(t){if(t.type){var r=(parseFloat(t.precio_base)+parseFloat(t.precio_base)*(parseFloat(e)/100)).toFixed(2);r&&(t.precio=r)}return t})),$e(t)}},setSameCat:function(e){if(confirm("¿Confirma Generalizar categoría?")){var t=(0,Ke.cloneDeep)(Xe);t.map((function(t){return t.type&&(t.id_categoria=e),t})),$e(t),kC(e)}},setSamePro:function(e){if(confirm("¿Confirma Generalizar proveeedor?")){var t=(0,Ke.cloneDeep)(Xe);t.map((function(t){return t.type&&(t.id_proveedor=e),t})),$e(t),RC(e)}},openReporteFalla:function(e){e&&et.openReporteFalla(e)},getPagoProveedor:kE,setPagoProveedor:DE,pagosproveedor:Lv,tipopagoproveedor:Pv,settipopagoproveedor:kv,montopagoproveedor:Mv,setmontopagoproveedor:Rv,setmodFact:nv,modFact:rv,saveFactura:YC,categorias:Zy,setporcenganancia:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=window.prompt("Porcentaje");if(n&&nt(n))if("unique"==e){var a=(parseFloat(qt)+parseFloat(qt)*(parseFloat(n)/100)).toFixed(2);a&&Qt(a)}else{var o=(parseFloat(t)+parseFloat(t)*(parseFloat(n)/100)).toFixed(2);o&&r(o)}},refsInpInvList:Fm,guardarNuevoProductoLote:TE,changeInventario:ME,reporteInventario:function(){et.openReporteInventario()},addNewLote:function(e){sr(ir.concat({lote:"",creacion:"",vence:"",cantidad:"",type:"new",id:null}))},changeModLote:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Ke.cloneDeep)(ir);switch(n){case"update":"new"!=o[t].type&&(o[t].type="update");break;case"delModeUpdateDelete":delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":o[t][a]=e;break;case"delMode":o[t].type="delete";o[t].id_replace=0}sr(o)},modViewInventario:Tm,setmodViewInventario:Pm,setNewProducto:function(){dt(null),gt(""),wt(""),Et(""),Dt("UND"),Vt(""),Wt(""),Qt(""),er("0"),sr([]),sl[Tl]&&dr(sl[Tl].proveedor.id),mr("GENÉRICO"),br(1)},verDetallesFactura:bE,showaddpedidocentral:Mh,setshowaddpedidocentral:Rh,valheaderpedidocentral:Um,setvalheaderpedidocentral:zm,valbodypedidocentral:Hm,setvalbodypedidocentral:qm,procesarImportPedidoCentral:mE,moneda:rt,productosInventario:Xe,qBuscarInventario:tt,setQBuscarInventario:ot,setIndexSelectInventario:dt,indexSelectInventario:ut,inputBuscarInventario:Cc,inpInvbarras:mt,setinpInvbarras:gt,inpInvcantidad:jt,setinpInvcantidad:wt,inpInvalterno:Ct,setinpInvalterno:Et,inpInvunidad:kt,setinpInvunidad:Dt,inpInvcategoria:Ft,setinpInvcategoria:Lt,inpInvdescripcion:zt,setinpInvdescripcion:Vt,inpInvbase:qt,setinpInvbase:Wt,inpInvventa:$t,setinpInvventa:Qt,inpInviva:Jt,setinpInviva:er,inpInvLotes:ir,number:nt,guardarNuevoProducto:function(){n(!0),et.guardarNuevoProducto({inpInvbarras:mt,inpInvcantidad:jt,inpInvalterno:Ct,inpInvunidad:kt,inpInvcategoria:Ft,inpInvdescripcion:zt,inpInvbase:qt,inpInvventa:$t,inpInviva:Jt,inpInvid_proveedor:ur,inpInvid_marca:pr,inpInvid_deposito:xr,inpInvporcentaje_ganancia:nr,inpInvLotes:ir}).then((function(e){r(e),n(!1),e.data.estado&&(gt(""),wt(""),Et(""),Dt("UND"),Lt("24"),Vt(""),Wt(""),Qt(""),er("0"),mr(""))}))},setProveedor:FC,proveedordescripcion:zr,setproveedordescripcion:Vr,proveedorrif:qr,setproveedorrif:Wr,proveedordireccion:$r,setproveedordireccion:Qr,proveedortelefono:Jr,setproveedortelefono:en,subViewInventario:nn,setsubViewInventario:an,setIndexSelectProveedores:ln,indexSelectProveedores:cn,qBuscarProveedor:fn,setQBuscarProveedor:hn,proveedoresList:yn,delProveedor:LC,delProducto:BC,inpInvid_proveedor:ur,setinpInvid_proveedor:dr,inpInvid_marca:pr,setinpInvid_marca:mr,inpInvid_deposito:xr,setinpInvid_deposito:br,depositosList:wr,marcasList:Er,setshowModalFacturas:al,showModalFacturas:nl,facturas:sl,factqBuscar:dl,setfactqBuscar:fl,factqBuscarDate:ml,setfactqBuscarDate:gl,factsubView:Sl,setfactsubView:Al,factSelectIndex:Tl,setfactSelectIndex:Pl,factOrderBy:bl,setfactOrderBy:yl,factOrderDescAsc:Nl,setfactOrderDescAsc:_l,factInpid_proveedor:Ml,setfactInpid_proveedor:Rl,factInpnumfact:Bl,setfactInpnumfact:Ul,factInpdescripcion:Gl,setfactInpdescripcion:Hl,factInpmonto:Yl,setfactInpmonto:Xl,factInpfechavencimiento:Zl,setfactInpfechavencimiento:Kl,factInpImagen:tu,factInpestatus:zu,setfactInpestatus:Vu,setFactura:zC,delFactura:WC,Invnum:Ir,setInvnum:Or,InvorderColumn:kr,setInvorderColumn:Dr,InvorderBy:Fr,setInvorderBy:Lr,delItemFact:XC,qFallas:nh,setqFallas:ah,orderCatFallas:sh,setorderCatFallas:ch,orderSubCatFallas:dh,setorderSubCatFallas:fh,ascdescFallas:mh,setascdescFallas:gh,fallas:bh,delFalla:function(e){if(confirm("¿Desea Eliminar?")){var t=e.currentTarget.attributes["data-id"].value;et.delFalla({id:t}).then((function(e){r(e),JC()}))}},getPedidosCentral:pE,selectPedidosCentral:gE,checkPedidosCentral:xE,pedidosCentral:Sh,setIndexPedidoCentral:Ph,indexPedidoCentral:Th,fechaQEstaInve:pv,setfechaQEstaInve:mv,fechaFromEstaInve:vv,setfechaFromEstaInve:xv,fechaToEstaInve:yv,setfechaToEstaInve:jv,orderByEstaInv:Nv,setorderByEstaInv:_v,orderByColumEstaInv:Ev,setorderByColumEstaInv:Sv,dataEstaInven:Iv}):null,"SelectFacturasInventario"==oe?(0,at.jsx)(bn,{setfactInpImagen:ru,allProveedoresCentral:GC,getAllProveedores:qC,setView:ie,subViewInventario:nn,delPagoProveedor:PE,pagosproveedor:Lv,getPagoProveedor:kE,setPagoProveedor:DE,tipopagoproveedor:Pv,settipopagoproveedor:kv,montopagoproveedor:Mv,setmontopagoproveedor:Rv,setmodFact:nv,modFact:rv,qBuscarProveedor:fn,setQBuscarProveedor:hn,setIndexSelectProveedores:ln,indexSelectProveedores:cn,moneda:rt,saveFactura:YC,setsubViewInventario:an,setshowModalFacturas:al,facturas:sl,verDetallesFactura:bE,verDetallesImagenFactura:function(){et.openverDetallesImagenFactura({id:sl[Tl].id}).then((function(e){window.open(e.data,"targed=blank"),console.log(e.data)}))},factqBuscar:dl,setfactqBuscar:fl,factqBuscarDate:ml,setfactqBuscarDate:gl,factsubView:Sl,setfactsubView:Al,factSelectIndex:Tl,setfactSelectIndex:Pl,factOrderBy:bl,setfactOrderBy:yl,factOrderDescAsc:Nl,setfactOrderDescAsc:_l,factInpid_proveedor:Ml,setfactInpid_proveedor:Rl,factInpnumfact:Bl,setfactInpnumfact:Ul,factInpdescripcion:Gl,setfactInpdescripcion:Hl,factInpmonto:Yl,setfactInpmonto:Xl,factInpfechavencimiento:Zl,setfactInpfechavencimiento:Kl,setFactura:zC,proveedoresList:yn,number:nt,factInpestatus:zu,setfactInpestatus:Vu,delFactura:WC,delItemFact:XC,factInpnumnota:ou,setfactInpnumnota:iu,factInpsubtotal:lu,setfactInpsubtotal:uu,factInpdescuento:hu,setfactInpdescuento:pu,factInpmonto_gravable:vu,setfactInpmonto_gravable:xu,factInpmonto_exento:ju,setfactInpmonto_exento:wu,factInpiva:Cu,setfactInpiva:Eu,factInpfechaemision:Iu,setfactInpfechaemision:Ou,factInpfecharecepcion:ku,setfactInpfecharecepcion:Du,factInpnota:Fu,setfactInpnota:Lu,sendFacturaCentral:function(e,t){confirm("Confirme envio y selección de factura")&&et.sendFacturaCentral({id:e}).then((function(e){e.data&&e.data.estatus&&sl[t]&&(Pl(t),UC(),r(e.data.msj))}))},productosInventario:Xe,changeInventario:ME,buscarInventario:sC,guardarNuevoProductoLote:TE,inputBuscarInventario:Cc,setQBuscarInventario:ot,qBuscarInventario:tt,Invnum:Ir,setInvnum:Or,InvorderBy:Fr,setInvorderBy:Lr,changeInventarioNewFact:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!=Tl&&sl[Tl]){sl[Tl].id;var o=(0,Ke.cloneDeep)(sl);switch(n){case"update":"new"!=o[Tl].items[t].producto.type&&(o[Tl].items[t].producto.type="update");break;case"delModeUpdateDelete":delete o[Tl].items[t].producto.type;break;case"changeInput":o[Tl].items[t].producto[a]=e}cl(o)}},guardarNuevoProductoLoteFact:function(e){if(t.iscentral){if(null!=Tl&&sl[Tl]){var a=sl[Tl].id,o=sl[Tl].items,i=o.filter((function(e){return e.producto.type})),s=0;o.map((function(e){s+=parseFloat(e.producto.precio3)*parseFloat(e.cantidad)})),s<parseFloat(sl[Tl].monto)?i.length&&(n(!0),et.guardarNuevoProductoLoteFact({items:i,id_factura:a}).then((function(e){var t=e.data;r(t.msj),t.estado&&UC(null),n(!1)}))):alert("BASE FACT o CANTIDADES incorrectas"),console.log(s,"sumTotal"),console.log(sl[Tl].monto,"facturas[factSelectIndex].monto")}}else alert("No tiene permisos para gestionar Inventario")}}):null,"ModalSelectProductoNewFact"==oe?(0,at.jsx)(Gj,{setView:ie,Invnum:Ir,setInvnum:Or,InvorderColumn:kr,setInvorderColumn:Dr,InvorderBy:Fr,setInvorderBy:Lr,qBuscarInventario:tt,setQBuscarInventario:ot,productosInventario:Xe,inputBuscarInventario:Cc,changeInventario:ME,categorias:Zy,proveedoresList:yn,guardarNuevoProductoLote:TE,addProductoFactInventario:function(e){var t=null;null!=Tl&&sl[Tl]&&(t=sl[Tl].id,et.addProductoFactInventario({id_producto:e,id_factura:t}).then((function(e){e.data.estado&&(r(e.data.msj),ie("SelectFacturasInventario"),UC(!1))})))}}):null,"proveedores"==oe?(0,at.jsx)(xn,{setView:ie,setProveedor:FC,proveedordescripcion:zr,setproveedordescripcion:Vr,proveedorrif:qr,setproveedorrif:Wr,proveedordireccion:$r,setproveedordireccion:Qr,proveedortelefono:Jr,setproveedortelefono:en,subViewInventario:nn,setsubViewInventario:an,setIndexSelectProveedores:ln,indexSelectProveedores:cn,qBuscarProveedor:fn,setQBuscarProveedor:hn,proveedoresList:yn,delProveedor:LC,delProducto:BC,inpInvid_proveedor:ur,setinpInvid_proveedor:dr,inpInvid_marca:pr,setinpInvid_marca:mr,inpInvid_deposito:xr,setinpInvid_deposito:br}):null,"Submenuinventario"==oe?(0,at.jsx)(Vj,{view:oe,setView:ie,setsubViewInventario:an,showAjustesPuntuales:function(){an("inventario"),ie("inventario")}}):null,"ViewPedidoVendedor"==oe?(0,at.jsx)(Cj(),{}):null,"pagar"==oe?(0,at.jsx)(ct,{children:ho?(0,at.jsx)(Ej,{number:nt,setToggleAddPersona:po,getPersona:Uj,personas:vo,setPersonas:IN,inputmodaladdpersonacarritoref:Oc,tbodypersoInterref:Sc,countListPersoInter:sc,setPersonaFast:hN,clienteInpidentificacion:id,setclienteInpidentificacion:sd,clienteInpnombre:ud,setclienteInpnombre:dd,clienteInptelefono:wd,setclienteInptelefono:Nd,clienteInpdireccion:xd,setclienteInpdireccion:bd}):Ba?(0,at.jsx)(Sj,{pedidoData:ve,setPagoPedido:o_,viewconfigcredito:Ba,setviewconfigcredito:Ua,fechainiciocredito:Ga,setfechainiciocredito:Ha,fechavencecredito:Ya,setfechavencecredito:Xa,formatopagocredito:Za,setformatopagocredito:Ka,datadeudacredito:to,setdatadeudacredito:ro,setconfigcredito:u_}):Sa?(0,at.jsx)(zj,{bancos:Fx,addRefPago:Lb,descripcion_referenciapago:ma,setdescripcion_referenciapago:ga,banco_referenciapago:Na,setbanco_referenciapago:_a,monto_referenciapago:ba,setmonto_referenciapago:ya,tipo_referenciapago:da,settipo_referenciapago:fa,transferencia:$n,dolar:je,number:nt}):(0,at.jsx)(Pj,{setModRetencion:function(){et.setModRetencion({id:ve.id}).then((function(e){yN(null,null,!1)}))},sendNotaCredito:function(){var e=prompt("Indique el número de Factura Fiscal que desea Afectar"),t=prompt("Indique el Serial de la Factura. Ejemplo: ZPA2000343"),n=confirm("Confirme los Datos introducidos. Si hay un error, cancele esta ventana. #Factura: "+e+" SerialDeFactura: "+t);e&&t&&n&&et.sendNotaCredito({pedido:ve.id,numfact:e,serial:t}).then((function(e){r(e)}))},sendReciboFiscal:function(){confirm("CONFIRME RECIBO FISCAL")&&et.sendReciboFiscal({pedido:ve.id}).then((function(e){r(e)}))},changeOnlyInputBulto:$N,setchangeOnlyInputBultoFun:function(e,t){var r=(0,Ke.cloneDeep)($N);r[t]=nt(e,3),QN(r)},setshowXBulto:WN,showXBulto:qN,printBultos:function(){var e=window.prompt("Número de Bultos");e&&et.printBultos(ve.id,e)},delRetencionPago:function(e){confirm("Confirme eliminación de Retencion")&&et.delRetencionPago({id:e}).then((function(e){yN(),r(e)}))},addRetencionesPago:function(){var e=prompt("Descripción"),t=prompt("Monto");ve.id&&e&&t&&et.addRetencionesPago({monto:parseFloat(t),id_pedido:ve.id,descripcion:e,num:null}).then((function(e){yN(null,null,!1),r(e)}))},setGastoOperativo:function(){confirm("¿Realmente desea guardar como gasto Operativo?")&&et.setGastoOperativo({id:ve.id}).then((function(e){r(e.data.msj),e.data.estado&&(ie("seleccionar"),Bj(),ue(null))}))},user:t,setselectprinter:w,setmonedaToPrint:E,selectprinter:j,monedaToPrint:C,view:oe,changeEntregado:function(e){var t=e.currentTarget.attributes["data-id"].value;confirm("Confirme Entrega de producto")&&et.changeEntregado({id:t}).then((function(e){yN(),r(e)}))},setPagoPedido:o_,viewconfigcredito:Ba,setviewconfigcredito:Ua,fechainiciocredito:Ga,setfechainiciocredito:Ha,fechavencecredito:Ya,setfechavencecredito:Xa,formatopagocredito:Za,setformatopagocredito:Ka,datadeudacredito:to,setdatadeudacredito:ro,setconfigcredito:u_,setPrecioAlternoCarrito:function(e){var t=e.currentTarget.attributes["data-iditem"].value,n=window.prompt("p1 | p2","p1");"p1"!=n&&"p2"!=n||et.setPrecioAlternoCarrito({iditem:t,p:n}).then((function(e){r(e),yN()}))},setCtxBultoCarrito:function(e){var t=e.currentTarget.attributes["data-iditem"].value,n=window.prompt("Cantidad por bulto");n&&et.setCtxBultoCarrito({iditem:t,ct:n}).then((function(e){r(e),yN()}))},addRefPago:Lb,delRefPago:function(e){var t=e.currentTarget.attributes["data-id"].value;confirm("Confirme eliminación de referencia")&&et.delRefPago({id:t}).then((function(e){yN(),r(e)}))},refPago:Ob,setrefPago:Tb,pedidosFast:hp,pedidoData:ve,getPedido:yN,debito:zn,setDebito:Vn,efectivo:qn,setEfectivo:Wn,transferencia:$n,setTransferencia:Qn,credito:Jn,setCredito:ea,vuelto:na,setVuelto:aa,number:nt,delItemPedido:function(e){n(!0);var t={index:e.currentTarget.attributes["data-index"].value};et.delItemPedido(t).then((function(e){yN(),n(!1),r(e),!1===e.data.estado&&(eS({dbFunction:et.delItemPedido,params:t}),ZE(e.data.id_tarea))}))},setDescuento:oo,setDescuentoUnitario:function(e){n(!0);var t=window.prompt("Descuento unitario");if(t){var a=e.currentTarget.attributes["data-index"].value;et.setDescuentoUnitario({index:a,descuento:t}).then((function(e){yN(),n(!1),r(e)}))}},setDescuentoTotal:function(e){var t=window.prompt("Descuento Total *0 para eliminar*"),a=e.currentTarget.attributes["data-index"].value;if(t)if("0"==t){var o={index:a,descuento:0};et.setDescuentoTotal(o).then((function(e){yN(),n(!1),r(e),!1===e.data.estado&&(eS({dbFunction:et.setDescuentoTotal,params:o}),ZE(e.data.id_tarea))}))}else if("number"==typeof parseFloat(t)&&ve.clean_subtotal){var i=parseFloat(ve.clean_subtotal),s={index:a,descuento:t=100-(100*parseFloat(t)/i).toFixed(3)};et.setDescuentoTotal(s).then((function(e){yN(),n(!1),r(e),!1===e.data.estado&&(eS({dbFunction:et.setDescuentoTotal,params:s}),ZE(e.data.id_tarea))}))}},setCantidadCarrito:function(e){var t=window.prompt("Cantidad");if(t){var a=e.currentTarget.attributes["data-index"].value;n(!0);var o={index:a,cantidad:t};et.setCantidad(o).then((function(e){yN(),n(!1),r(e),!1===e.data.estado&&(eS({dbFunction:et.setCantidad,params:o}),ZE(e.data.id_tarea))}))}},toggleAddPersona:ho,setToggleAddPersona:po,getPersona:Uj,personas:vo,setPersonas:IN,ModaladdproductocarritoToggle:co,toggleImprimirTicket:Fj,del_pedido:function(){if(confirm("¿Seguro de eliminar?"))if(ve.id){var e=window.prompt("¿Cuál es el Motivo de eliminación?");if(e){var t={id:ve.id,motivo:e};et.delpedido(t).then((function(e){r(e),ie("seleccionar"),!1===e.data.estado&&(eS({dbFunction:et.delpedido,params:t}),ZE(e.data.id_tarea))}))}}else alert("No hay pedido seleccionado")},facturar_pedido:f_,inputmodaladdpersonacarritoref:Oc,tbodypersoInterref:Sc,countListPersoInter:sc,entregarVuelto:function(){var e=window.prompt("Monto a entregar");e&&ve.id&&nt(e)&&(n(!0),et.entregarVuelto({id_pedido:ve.id,monto:e}).then((function(e){r(e),yN(),n(!1)})))},setPersonaFast:hN,clienteInpidentificacion:id,setclienteInpidentificacion:sd,clienteInpnombre:ud,setclienteInpnombre:dd,clienteInptelefono:wd,setclienteInptelefono:Nd,clienteInpdireccion:xd,setclienteInpdireccion:bd,viewReportPedido:function(){et.openNotaentregapedido({id:ve.id})},autoCorrector:Nh,setautoCorrector:_h,getDebito:function(){Vn(ve.clean_total),Wn(""),Qn(""),ea(""),ca("")},getCredito:function(){ea(ve.clean_total),Wn(""),Vn(""),Qn(""),ca("")},getTransferencia:function(){Qn(ve.clean_total),Wn(""),Vn(""),ea(""),ca("")},getEfectivo:function(){Wn(ve.clean_total),Vn(""),Qn(""),ea(""),ca("")},onClickEditPedido:wN,setBiopago:ca,biopago:sa,getBio:function(){ca(ve.clean_total),Qn(""),Wn(""),Vn(""),ea("")},facturar_e_imprimir:function(){f_((function(){Fj()}))},moneda:rt,dolar:je,peso:Ce,auth:FE,togglereferenciapago:Sa,tipo_referenciapago:da,settipo_referenciapago:fa,descripcion_referenciapago:ma,setdescripcion_referenciapago:ga,monto_referenciapago:ba,setmonto_referenciapago:ya,banco_referenciapago:Na,setbanco_referenciapago:_a,refaddfast:Nc,inputqinterno:s,setinputqinterno:c,productoSelectinternouno:EN,addCarritoRequestInterno:AN,cantidad:Ie,devolucionTipo:mw,setdevolucionTipo:gw,setToggleAddPersonaFun:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;po(e),t&&t()},transferirpedidoa:Mx,settransferirpedidoa:Rx,sucursalesCentral:Yv,setexportpedido:function(){var e=Yv.filter((function(e){return e.id==Mx}));e.length&&confirm("¿Realmente desea exportar los productos a "+e[0].nombre+"?")&&et.setexportpedido({transferirpedidoa:Mx,id:ve.id}).then((function(e){r(e),e.data.estado&&(ie("seleccionar"),Bj(),ue(null),et.openTransferenciaPedido(ve.id))}))},getSucursales:Vx,setView:ie})}):null,"ModalAddListProductosInterno"==oe?(0,at.jsx)(ft,{auth:FE,refaddfast:Nc,setinputqinterno:c,inputqinterno:s,tbodyproducInterref:Ec,productos:He,countListInter:nc,setProductoCarritoInterno:function(e){var t=He.filter((function(t){return t.id==e}))[0];SN({descripcion:t.descripcion,precio:t.precio,unidad:t.unidad,cantidad:t.cantidad,id:e}),gw(null),lo(!0)},moneda:rt,ModaladdproductocarritoToggle:co,setQProductosMain:W,setCountListInter:ac,toggleModalProductos:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;SN(e),t&&t()},productoSelectinternouno:EN,setproductoSelectinternouno:SN,inputCantidadCarritoref:Ac,setCantidad:Oe,cantidad:Ie,number:nt,dolar:je,setdevolucionTipo:gw,devolucionTipo:mw,addCarritoRequestInterno:AN,getProductos:Bj,setView:ie,pedidosFast:hp,onClickEditPedido:wN,pedidoData:ve,permisoExecuteEnter:Bh,devolucionMotivo:bw,setdevolucionMotivo:yw,devolucion_cantidad_salida:ww,setdevolucion_cantidad_salida:Nw,devolucion_motivo_salida:Cw,setdevolucion_motivo_salida:Ew,devolucion_ci_cajero:Aw,setdevolucion_ci_cajero:Iw,devolucion_ci_autorizo:Tw,setdevolucion_ci_autorizo:Pw,devolucion_dias_desdecompra:Dw,setdevolucion_dias_desdecompra:Mw,devolucion_ci_cliente:Fw,setdevolucion_ci_cliente:Lw,devolucion_telefono_cliente:Uw,setdevolucion_telefono_cliente:zw,devolucion_nombre_cliente:Gw,setdevolucion_nombre_cliente:Hw,devolucion_nombre_cajero:Ww,setdevolucion_nombre_cajero:Yw,devolucion_nombre_autorizo:$w,setdevolucion_nombre_autorizo:Qw,devolucion_trajo_factura:Kw,setdevolucion_trajo_factura:Jw,devolucion_motivonotrajofact:tN,setdevolucion_motivonotrajofact:rN}):null,"panelcentrodeacopio"==oe?(0,at.jsx)(yt,{guardarDeSucursalEnCentral:function(e,t){et.guardarDeSucursalEnCentral({producto:ox[e]}).then((function(n){var a=n.data;a.estado?(RE(a.id,e,t,"changeInput","id_vinculacion"),r(a.msj,!1)):(a.id&&RE(a.id,e,t,"changeInput","id_vinculacion"),r(a.msj,!1))}))},autovincularSucursalCentral:function(){var e=(0,Ke.cloneDeep)(ox);et.getSyncProductosCentralSucursal({obj:e}).then((function(e){ix(e.data)}))},datainventarioSucursalFromCentralcopy:pb,setdatainventarioSucursalFromCentralcopy:mb,estadisticasinventarioSucursalFromCentral:cx,uniqueproductofastshowbyid:wb,getUniqueProductoById:function(e,t){var r=e.currentTarget.getBoundingClientRect(),n=r.top+window.scrollY,a=r.left;Xx(n),qx(a),Eb(!0),Nb({}),et.getUniqueProductoById({id:t}).then((function(e){Nb(e.data)}))},showdatafastproductobyid:Cb,setshowdatafastproductobyid:Eb,puedoconsultarproductosinsucursalfromcentral:bb,getProductos:Bj,productos:He,idselectproductoinsucursalforvicular:Jx,linkproductocentralsucursal:xb,openVincularSucursalwithCentral:vb,modalmovilRef:gb,inputbuscarcentralforvincular:tb,modalmovilx:Hx,modalmovily:Yx,modalmovilshow:Qx,setmodalmovilshow:Zx,getTareasCentral:Sb,tareasCentral:cv,getSucursales:Vx,sucursalesCentral:Yv,setselectSucursalCentral:qv,selectSucursalCentral:Hv,getInventarioSucursalFromCentral:yb,setInventarioSucursalFromCentral:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n(!0),et.setInventarioSucursalFromCentral({codigo_destino:Hv,type:e||rx}).then((function(e){n(!1);var t=e.data;if(t.estado)switch(rx){case"inventarioSucursalFromCentral":if(ab(h_(h_({},nb),{},{inventarioSucursalFromCentral:t.msj.id})),t.msj.respuesta){var a=JSON.parse(t.msj.respuesta);ix(a.respuesta?a.respuesta:a),mb(a.respuesta?a.respuesta:a),lx(a.estadisticas)}break;case"fallaspanelcentroacopio":fx(e.data);break;case"estadisticaspanelcentroacopio":mx(e.data);break;case"gastospanelcentroacopio":xx(e.data);break;case"cierrespanelcentroacopio":jx(e.data);break;case"diadeventapanelcentroacopio":_x(e.data);break;case"tasaventapanelcentroacopio":Sx(e.data)}else r(e.data.msj,!0)}))},subviewpanelcentroacopio:rx,setsubviewpanelcentroacopio:nx,parametrosConsultaFromsucursalToCentral:Jv,setparametrosConsultaFromsucursalToCentral:ex,onchangeparametrosConsultaFromsucursalToCentral:function(e){var t=e.target.getAttribute("name"),r=e.target.value;ex(h_(h_({},Jv),{},p_({},t,r)))},fallaspanelcentroacopio:dx,estadisticaspanelcentroacopio:px,gastospanelcentroacopio:vx,cierrespanelcentroacopio:yx,diadeventapanelcentroacopio:Nx,tasaventapanelcentroacopio:Ex,setchangetasasucursal:function(e){var t=e.currentTarget.attributes["data-type"].value,a=window.prompt("Nueva tasa");a&&nt(a)&&(n(!0),et.setnewtasainsucursal({tipo:t,valor:a,id_sucursal:Hv}).then((function(e){r(e),yb("tasaventapanelcentroacopio"),n(!1)})))},inventarioSucursalFromCentral:ox,categorias:Zy,proveedoresList:yn,changeInventarioFromSucursalCentral:RE,setCambiosInventarioSucursal:function(){var e=ox.filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.id_categoria||""==e.unidad||""==e.id_proveedor||""==e.cantidad||""==e.precio}));ox.length&&!e.length?(n(!0),et.setCambiosInventarioSucursal({productos:ox,sucursal:vp}).then((function(e){r(e),n(!1);try{e.data.estado&&yb(rx)}catch(e){}}))):alert("¡Error con los campos! Algunos pueden estar vacíos "+JSON.stringify(e))},number:nt}):null,"credito"==oe?(0,at.jsx)(Tt,{getDeudores:iC,limitdeudores:Cs,setlimitdeudores:Es,moneda:rt,orderbycolumdeudores:vs,setorderbycolumdeudores:xs,orderbyorderdeudores:js,setorderbyorderdeudores:ws,printCreditos:function(){et.openPrintCreditos("qDeudores="+hs+"&orderbycolumdeudores="+vs+"&orderbyorderdeudores="+js)},onchangecaja:jj,qDeudores:hs,deudoresList:Is,tipo_pago_deudor:zs,monto_pago_deudor:qs,selectDeudor:Fs,setSelectDeudor:Ls,setPagoCredito:oC,detallesDeudor:$s,onClickEditPedido:wN,onCLickDelPedido:NN,onlyVueltos:Fe,setOnlyVueltos:Le,qBuscarCliente:qu,setqBuscarCliente:Wu,clientesCrud:Ku,setindexSelectCliente:nd,indexSelectCliente:rd,setClienteCrud:$C,delCliente:ZC,clienteInpidentificacion:id,setclienteInpidentificacion:sd,clienteInpnombre:ud,setclienteInpnombre:dd,clienteInpcorreo:pd,setclienteInpcorreo:md,clienteInpdireccion:xd,setclienteInpdireccion:bd,clienteInptelefono:wd,setclienteInptelefono:Nd,clienteInpestado:Ed,setclienteInpestado:Sd,clienteInpciudad:Od,setclienteInpciudad:Td,sumPedidos:KC,sumPedidosArr:Dd,setsumPedidosArr:Md}):null,"configuracion"==oe?(0,at.jsx)(st,{subViewConfig:Ux,setsubViewConfig:zx,categorias:Zy,addNewCategorias:function(e){e.preventDefault();var t=null;nj&&Zy[nj]&&(t=Zy[nj].id),ej&&(n(!0),et.setCategorias({id:t,categoriasDescripcion:ej}).then((function(e){r(e),n(!1),oj()})))},categoriasDescripcion:ej,setcategoriasDescripcion:tj,indexSelectCategorias:nj,setIndexSelectCategorias:aj,qBuscarCategorias:Xy,setQBuscarCategorias:$y,delCategorias:function(){n(!0);var e=null;nj&&Zy[nj]&&(e=Zy[nj].id),et.delCategoria({id:e}).then((function(e){n(!1),oj(),r(e),aj(null)}))},addNewUsuario:function(e){e.preventDefault();var t=null;Nm&&(t=Jp[Nm].id),dm&&nm&&sm?(n(!0),et.setUsuario({id:t,role:dm,nombres:nm,usuario:sm,clave:mm}).then((function(e){r(e),n(!1),_E()}))):console.log("Err: addNewUsuario"+dm+" "+nm+" "+sm)},usuarioNombre:nm,setusuarioNombre:am,usuarioUsuario:sm,setusuarioUsuario:cm,usuarioRole:dm,setusuarioRole:fm,usuarioClave:mm,setusuarioClave:gm,indexSelectUsuarios:Nm,setIndexSelectUsuarios:_m,qBuscarUsuario:bm,setQBuscarUsuario:ym,delUsuario:function(){n(!0);var e=null;Nm&&(e=Jp[Nm].id),et.delUsuario({id:e}).then((function(e){n(!1),_E(),r(e)}))},usuariosData:Jp}):null,"garantias"==oe?(0,at.jsx)(vN,{user:t,notificar:r,setLoading:n}):null,"inventario-ciclico"==oe?(0,at.jsx)(s_,{user:t,notificar:r,setLoading:n}):null]})]})}const x_=function(e){var t=e.active,r=void 0===t||t,n=e.message,a=void 0===n?"Cargando...":n;return r?(0,at.jsxs)("div",{className:"loading-overlay",role:"alert","aria-busy":"true",children:[(0,at.jsxs)("div",{className:"loading-container",children:[(0,at.jsxs)("div",{className:"loading-spinner",children:[(0,at.jsx)("div",{className:"spinner-circle"}),(0,at.jsx)("div",{className:"spinner-circle"}),(0,at.jsx)("div",{className:"spinner-circle"})]}),(0,at.jsx)("div",{className:"loading-message",children:a})]}),(0,at.jsx)("style",{jsx:!0,children:"\n\t\t\t\t.loading-overlay {\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbottom: 20px;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 12px 20px;\n\t\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\t\t\t\t\tanimation: slideUp 0.3s ease-out;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 12px;\n\t\t\t\t}\n\n\t\t\t\t.loading-spinner {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap: 4px;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle {\n\t\t\t\t\twidth: 8px;\n\t\t\t\t\theight: 8px;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tbackground-color: var(--sinapsis-color, #007bff);\n\t\t\t\t\tanimation: bounce 0.5s ease-in-out infinite;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle:nth-child(2) {\n\t\t\t\t\tanimation-delay: 0.1s;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle:nth-child(3) {\n\t\t\t\t\tanimation-delay: 0.2s;\n\t\t\t\t}\n\n\t\t\t\t.loading-message {\n\t\t\t\t\tcolor: #2c3e50;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\n\t\t\t\t@keyframes bounce {\n\t\t\t\t\t0%, 100% {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t\t50% {\n\t\t\t\t\t\ttransform: translateY(-4px);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideUp {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translate(-50%, 100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translate(-50%, 0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"})]}):null};function b_(e){return b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(e)}function y_(e){return function(e){if(Array.isArray(e))return j_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function N_(e,t,r){return t=C_(t),function(e,t){if(t&&("object"==b_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,__()?Reflect.construct(t,r||[],C_(e).constructor):t.apply(e,r))}function __(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(__=function(){return!!e})()}function C_(e){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C_(e)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E_(e,t)}function S_(e,t,r){return(t=A_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=function(e,t){if("object"!=b_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b_(t)?t:t+""}var I_=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S_(e=N_(this,t),"forceUpdateDollar",(function(){e.setState({updatingDollar:!0,updateMessage:"🔄 Conectando con el BCV para obtener el valor oficial..."}),axios.post("/forceUpdateDollar").then((function(t){t.data.estado?(e.setState({updateMessage:"✅ ".concat(t.data.msj,"\n\n💱 Valor: $").concat(t.data.valor,"\n📅 Fecha: ").concat(t.data.fecha_actualizacion,"\n🌐 Origen: BCV (Automático)"),updatingDollar:!1}),setTimeout((function(){e.setState({showDollarUpdate:!1,dollarStatus:null,updateMessage:""})}),5e3)):e.setState({updateMessage:"❌ ".concat(t.data.msj,"\n\n💡 Intente la actualización manual como alternativa."),updatingDollar:!1})})).catch((function(t){var r="❌ Error al conectar con el BCV.\n\n";t.response&&404===t.response.status?r+="🔍 La API del BCV no está disponible en este momento.\n":t.response&&t.response.status>=500?r+="🌐 Problema de conectividad con el servidor del BCV.\n":r+="🌐 Error de conexión con el BCV.\n",r+="\n💡 Use la actualización manual como alternativa.",e.setState({updateMessage:r,updatingDollar:!1})}))})),S_(e,"manualUpdateDollar",(function(){var t=window.prompt("💱 Ingrese el nuevo valor del dólar en Bolívares (Bs):\n\nEjemplo: 109.50");t&&!isNaN(t)&&parseFloat(t)>0?(e.setState({updatingDollar:!0,updateMessage:"Actualizando valor del dólar manualmente..."}),axios.post("/setMoneda",{tipo:1,valor:parseFloat(t),from_login:!0}).then((function(r){r.data.estado?(e.setState({updateMessage:"✅ ".concat(r.data.msj,"\n\n💱 Valor: $").concat(t," Bs\n📅 Fecha: ").concat((new Date).toLocaleDateString(),"\n🌐 Origen: Manual (Usuario)"),updatingDollar:!1}),setTimeout((function(){e.setState({showDollarUpdate:!1,dollarStatus:null,updateMessage:""})}),5e3)):e.setState({updateMessage:"❌ ".concat(r.data.msj),updatingDollar:!1})})).catch((function(t){e.setState({updateMessage:"❌ Error al actualizar el dólar manualmente",updatingDollar:!1}),console.error("Error updating dollar manually:",t)}))):null!==t&&e.setState({updateMessage:"❌ Por favor ingrese un valor válido mayor a 0.\n\n💡 Ejemplo: 109.50"})})),e.state={clave:"",usuario:"",activeLoading:!1,quotes:[],currentQuoteIndex:0,isLoadingQuotes:!1,dollarStatus:null,showDollarUpdate:!1,updatingDollar:!1,updateMessage:""},e.passwordTimeout=null,e.loc=window.location.origin,e.getApiData=e.getApiData.bind(e),e.changeUniqueState=e.changeUniqueState.bind(e),e.submit=e.submit.bind(e),e.rotateQuote=e.rotateQuote.bind(e),e.motivationalQuotes=[{content:"El éxito es la suma de pequeños esfuerzos repetidos día tras día.",author:"Robert Collier"},{content:"El éxito no es final, el fracaso no es fatal: lo que cuenta es el coraje para continuar.",author:"Winston Churchill"},{content:"El éxito es ir de fracaso en fracaso sin perder el entusiasmo.",author:"Winston Churchill"},{content:"La mejor venganza es un éxito masivo.",author:"Frank Sinatra"},{content:"El éxito no es la clave de la felicidad. La felicidad es la clave del éxito.",author:"Albert Schweitzer"},{content:"El éxito es la realización progresiva de un ideal digno.",author:"Earl Nightingale"},{content:"El éxito es la suma de pequeños esfuerzos repetidos día tras día.",author:"Robert Collier"},{content:"El éxito no es para los que piensan que pueden hacer algo, sino para los que lo hacen.",author:"Anónimo"},{content:"El éxito es la capacidad de ir de un fracaso a otro sin perder el entusiasmo.",author:"Winston Churchill"},{content:"El éxito no es la ausencia de fracasos, es la persistencia a través de los fracasos.",author:"Aisha Tyler"},{content:"Cada día es una nueva oportunidad para ser mejor.",author:"Anónimo"},{content:"La excelencia no es un acto, es un hábito.",author:"Aristóteles"},{content:"El único límite es el que te pones a ti mismo.",author:"Anónimo"},{content:"La persistencia es el camino del éxito.",author:"Anónimo"},{content:"La disciplina es el puente entre las metas y los logros.",author:"Jim Rohn"},{content:"El optimismo es la fe que lleva al logro.",author:"Helen Keller"},{content:"La creatividad es la inteligencia divirtiéndose.",author:"Albert Einstein"},{content:"La confianza en sí mismo es el primer secreto del éxito.",author:"Ralph Waldo Emerson"},{content:"El conocimiento es la inversión que paga los mejores intereses.",author:"Benjamin Franklin"},{content:"La innovación distingue entre un líder y un seguidor.",author:"Steve Jobs"},{content:"La mejor manera de predecir el futuro es crearlo.",author:"Peter Drucker"},{content:"El cambio es la única constante en la vida.",author:"Heráclito"},{content:"La determinación de hoy es el éxito de mañana.",author:"Robert H. Schuller"},{content:"El aprendizaje es un tesoro que seguirá a su dueño a todas partes.",author:"Proverbio chino"},{content:"La visión sin acción es solo un sueño. La acción sin visión es solo pasar el tiempo.",author:"Joel A. Barker"},{content:"El entusiasmo es la madre del esfuerzo, y sin él nunca se logró nada grande.",author:"Ralph Waldo Emerson"},{content:"La paciencia es amarga, pero su fruto es dulce.",author:"Jean-Jacques Rousseau"},{content:"El trabajo duro vence al talento cuando el talento no trabaja duro.",author:"Tim Notke"},{content:"La calidad perdura mucho después de olvidado el precio.",author:"Aldo Gucci"},{content:"El coraje no es tener la fuerza para seguir adelante, es seguir adelante cuando no tienes fuerza.",author:"Napoleón Bonaparte"},{content:"El trabajo duro supera al talento cuando el talento no trabaja duro.",author:"Tim Notke"},{content:"La genialidad es 1% inspiración y 99% transpiración.",author:"Thomas Edison"},{content:"El éxito es el resultado de la perfección, el trabajo duro, el aprendizaje de los errores, la lealtad y la persistencia.",author:"Colin Powell"},{content:"No hay atajos para el éxito. Es trabajo duro, perseverancia, aprendizaje, estudio, sacrificio y, sobre todo, amor por lo que estás haciendo.",author:"Pelé"},{content:"El trabajo duro no garantiza el éxito, pero mejora sus probabilidades.",author:"B.J. Gupta"},{content:"El trabajo duro es el precio que pagamos por el éxito.",author:"Anónimo"},{content:"La diferencia entre lo ordinario y lo extraordinario es ese pequeño extra.",author:"Jimmy Johnson"},{content:"El trabajo duro es el combustible del éxito.",author:"Anónimo"},{content:"La excelencia no es un acto, es un hábito. El trabajo duro es la clave.",author:"Aristóteles"},{content:"El trabajo duro es el puente entre tus sueños y la realidad.",author:"Anónimo"},{content:"Las oportunidades no ocurren, las creas.",author:"Chris Grosser"},{content:"La oportunidad no toca la puerta, la creas.",author:"Anónimo"},{content:"Cada día es una nueva oportunidad para ser mejor.",author:"Anónimo"},{content:"Las oportunidades son como los amaneceres. Si esperas demasiado, te las pierdes.",author:"William Arthur Ward"},{content:"La oportunidad es como el amanecer: si esperas demasiado, la pierdes.",author:"William Arthur Ward"},{content:"Las oportunidades no son perdidas, son tomadas por otros.",author:"Anónimo"},{content:"La oportunidad es el momento perfecto para comenzar.",author:"Anónimo"},{content:"Las oportunidades son como los autobuses, siempre viene otro.",author:"Anónimo"},{content:"La oportunidad es el momento de actuar.",author:"Anónimo"},{content:"Las oportunidades son como las estrellas, siempre están ahí, solo necesitas mirar hacia arriba.",author:"Anónimo"},{content:"La perseverancia es el trabajo duro que haces después de que te cansas del trabajo duro que ya hiciste.",author:"Newt Gingrich"},{content:"La perseverancia es el secreto de todos los triunfos.",author:"Victor Hugo"},{content:"La perseverancia es el camino del éxito.",author:"Anónimo"},{content:"La perseverancia es la madre del éxito.",author:"Anónimo"},{content:"La perseverancia es la clave del éxito.",author:"Anónimo"},{content:"La perseverancia es el puente entre el fracaso y el éxito.",author:"Anónimo"},{content:"La perseverancia es la diferencia entre el éxito y el fracaso.",author:"Anónimo"},{content:"La perseverancia es el camino hacia la grandeza.",author:"Anónimo"},{content:"La perseverancia es la llave que abre todas las puertas.",author:"Anónimo"},{content:"La perseverancia es el motor del éxito.",author:"Anónimo"},{content:"La actitud es una pequeña cosa que marca una gran diferencia.",author:"Winston Churchill"},{content:"Tu actitud determina tu altitud.",author:"Zig Ziglar"},{content:"La actitud es más importante que la aptitud.",author:"Anónimo"},{content:"La actitud es el pincel de la mente. Puede colorear cualquier situación.",author:"Anónimo"},{content:"La actitud es el 90% del éxito.",author:"Anónimo"},{content:"La actitud es la diferencia entre una aventura y un problema.",author:"Anónimo"},{content:"La actitud es el espejo del alma.",author:"Anónimo"},{content:"La actitud es la clave del éxito.",author:"Anónimo"},{content:"La actitud es el motor del éxito.",author:"Anónimo"},{content:"La actitud es el puente entre el fracaso y el éxito.",author:"Anónimo"},{content:"El liderazgo es la capacidad de transformar la visión en realidad.",author:"Warren Bennis"},{content:"El liderazgo es influencia.",author:"John C. Maxwell"},{content:"El liderazgo es acción, no posición.",author:"Donald H. McGannon"},{content:"El liderazgo es la capacidad de hacer que otros quieran hacer lo que tú quieres que hagan.",author:"Anónimo"},{content:"El liderazgo es la capacidad de inspirar a otros a seguirte.",author:"Anónimo"},{content:"El liderazgo es la capacidad de tomar decisiones difíciles.",author:"Anónimo"},{content:"El liderazgo es la capacidad de ver el futuro.",author:"Anónimo"},{content:"El liderazgo es la capacidad de motivar a otros.",author:"Anónimo"},{content:"El liderazgo es la capacidad de servir a otros.",author:"Anónimo"},{content:"El liderazgo es la capacidad de hacer que otros sean mejores.",author:"Anónimo"},{content:"La innovación distingue entre un líder y un seguidor.",author:"Steve Jobs"},{content:"La innovación es el motor del progreso.",author:"Anónimo"},{content:"La innovación es la clave del éxito.",author:"Anónimo"},{content:"La innovación es el puente entre el presente y el futuro.",author:"Anónimo"},{content:"La innovación es la capacidad de ver lo que otros no ven.",author:"Anónimo"},{content:"La innovación es la capacidad de hacer lo que otros no hacen.",author:"Anónimo"},{content:"La innovación es la capacidad de pensar diferente.",author:"Anónimo"},{content:"La innovación es la capacidad de crear valor.",author:"Anónimo"},{content:"La innovación es la capacidad de resolver problemas.",author:"Anónimo"},{content:"La innovación es la capacidad de mejorar.",author:"Anónimo"},{content:"La excelencia no es un acto, es un hábito.",author:"Aristóteles"},{content:"La excelencia es el resultado de la atención a los detalles.",author:"Anónimo"},{content:"La excelencia es el resultado de la práctica constante.",author:"Anónimo"},{content:"La excelencia es el resultado del trabajo duro.",author:"Anónimo"},{content:"La excelencia es el resultado de la dedicación.",author:"Anónimo"},{content:"La excelencia es el resultado de la pasión.",author:"Anónimo"},{content:"La excelencia es el resultado de la perseverancia.",author:"Anónimo"},{content:"La excelencia es el resultado de la disciplina.",author:"Anónimo"},{content:"La excelencia es el resultado de la consistencia.",author:"Anónimo"},{content:"La excelencia es el resultado de la mejora continua.",author:"Anónimo"}],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this,t=y_(this.motivationalQuotes).sort((function(){return Math.random()-.5}));this.setState({quotes:t,isLoadingQuotes:!1}),this.quoteInterval=setInterval((function(){e.rotateQuote()}),15e3)}},{key:"rotateQuote",value:function(){this.setState((function(e){return{currentQuoteIndex:(e.currentQuoteIndex+1)%e.quotes.length}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.quoteInterval),this.passwordTimeout&&clearTimeout(this.passwordTimeout)}},{key:"getApiData",value:function(e,t,r){var n=this;axios.get(t,{params:{q:e?e.target.value:""}}).then((function(e){n.setState(S_({},r,e.data))})).catch((function(e){console.log(e)}))}},{key:"changeUniqueState",value:function(e){var t=this;return new Promise((function(r){return t.setState(e,r)}))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.setState({activeLoading:!0,dollarStatus:null,showDollarUpdate:!1,updateMessage:""}),axios.post("/login",{clave:this.state.clave,usuario:this.state.usuario}).then((function(e){t.setState({activeLoading:!1}),e.data.estado?t.props.loginRes(e):e.data.requires_update?t.setState({dollarStatus:e.data.dollar_status,showDollarUpdate:!0}):alert(e.data.msj)})).catch((function(e){t.setState({activeLoading:!1}),alert("Error de conexión. Intente nuevamente.")}))}},{key:"render",value:function(){var e=this,t=this.state.quotes[this.state.currentQuoteIndex]||{content:"",author:""};return(0,at.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-900 to-sinapsis/20 p-4 relative overflow-hidden",children:[(0,at.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:y_(Array(50)).map((function(e,t){return(0,at.jsx)("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(5+10*Math.random(),"s"),opacity:.5*Math.random()+.3}},t)}))}),(0,at.jsxs)("div",{className:"w-full max-w-md backdrop-blur-sm rounded-2xl overflow-hidden relative z-10",children:[(0,at.jsx)("div",{className:"p-8 text-center",children:(0,at.jsx)("img",{src:"/images/logo-blanco.png?e10fca3e513540031a0ae60bde32134b",alt:"logo ao",className:"h-28 w-auto mx-auto mb-6 object-contain"})}),(0,at.jsxs)("form",{onSubmit:this.submit,className:"px-8 pb-8",children:[(0,at.jsx)("div",{className:"mb-8",children:(0,at.jsxs)("div",{className:"relative group",children:[(0,at.jsx)("div",{className:"absolute left-0 top-4 text-white/50 group-focus-within:text-sinapsis transition-colors duration-300",children:(0,at.jsx)("i",{className:"fas fa-user"})}),(0,at.jsx)("input",{className:"w-full py-4 pl-10 pr-4 bg-transparent text-white placeholder-transparent peer border-0 border-b-2 border-white/20 focus:border-sinapsis transition-all duration-300 focus:outline-none focus:ring-0",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:this.state.usuario,name:"usuario",onChange:function(t){return e.changeUniqueState({usuario:t.target.value})},placeholder:"Usuario",required:!0}),(0,at.jsx)("label",{className:"absolute left-10 -top-2.5 text-white/70 text-sm transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-4 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-sinapsis",children:"Usuario"})]})}),(0,at.jsx)("div",{className:"mb-10",children:(0,at.jsxs)("div",{className:"relative group",children:[(0,at.jsx)("div",{className:"absolute left-0 top-4 text-white/50 group-focus-within:text-sinapsis transition-colors duration-300",children:(0,at.jsx)("i",{className:"fas fa-lock"})}),(0,at.jsx)("input",{className:"w-full py-4 pl-10 pr-4 bg-transparent text-white placeholder-transparent peer border-0 border-b-2 border-white/20 focus:border-sinapsis transition-all duration-300 focus:outline-none focus:ring-0",type:"password",autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:this.state.clave,name:"clave",onChange:function(t){e.changeUniqueState({clave:t.target.value})},onCopy:function(e){return e.preventDefault(),!1},onCut:function(e){return e.preventDefault(),!1},onContextMenu:function(e){return e.preventDefault(),!1},onDrag:function(e){return e.preventDefault(),!1},onDrop:function(e){return e.preventDefault(),!1},"data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true","data-bwignore":"true","data-kwignore":"true",placeholder:"Contraseña",required:!0}),(0,at.jsx)("label",{className:"absolute left-10 -top-2.5 text-white/70 text-sm transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-4 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-sinapsis",children:"Contraseña"})]})}),(0,at.jsxs)("button",{className:"w-full py-4 px-4 bg-sinapsis/90 text-white font-medium rounded-lg hover:bg-sinapsis transform hover:-translate-y-0.5 transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-sinapsis/20",type:"submit",children:[this.state.activeLoading?(0,at.jsx)("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):(0,at.jsx)("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]})]}),(0,at.jsxs)("div",{className:"px-8 py-6 border-t border-white/10 text-center",children:[(0,at.jsx)("p",{className:"text-white/80 font-medium",children:"OSPINO SYSTEMS, C.A"}),(0,at.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"v2.0.0"})]})]}),(0,at.jsx)("div",{className:"fixed bottom-10 right-10 max-w-md bg-gray-900/40 backdrop-blur-sm rounded-lg p-6 shadow-xl transition-all duration-700 z-10 hidden md:block",children:this.state.isLoadingQuotes?(0,at.jsxs)("div",{className:"flex items-center justify-center text-white/70",children:[(0,at.jsx)("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Cargando frases motivacionales..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("p",{className:"text-white/90 italic text-lg leading-relaxed mb-2 transition-opacity duration-700",children:t.content}),(0,at.jsxs)("p",{className:"text-white/60 text-sm transition-opacity duration-700",children:["- ",t.author]})]})}),this.state.showDollarUpdate&&(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,at.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:(0,at.jsxs)("div",{className:"text-center",children:[(0,at.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,at.jsx)("i",{className:"fas fa-exclamation-triangle text-yellow-600 text-2xl"})}),(0,at.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Actualización del Dólar Requerida"}),(0,at.jsx)("p",{className:"text-gray-600 mb-4",children:"El valor del dólar no ha sido actualizado hoy. Debe actualizarlo antes de continuar."}),(0,at.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,at.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,at.jsx)("strong",{children:"🔄 Automático:"})," Se intentará actualizar automáticamente desde el BCV."]})}),this.state.dollarStatus&&(0,at.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[(0,at.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Estado Actual:"}),(0,at.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Última actualización:"})," ",this.state.dollarStatus.last_update||"No disponible"]}),(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Valor actual:"})," $",this.state.dollarStatus.value||"No disponible"]}),(0,at.jsxs)("p",{children:[(0,at.jsx)("strong",{children:"Origen:"})," ",this.state.dollarStatus.origin||"No disponible"]})]})]}),this.state.updateMessage&&(0,at.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,at.jsx)("pre",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:this.state.updateMessage})}),(0,at.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,at.jsx)("button",{type:"button",onClick:this.forceUpdateDollar,disabled:this.state.updatingDollar,className:"w-full px-4 py-3 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:this.state.updatingDollar?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Conectando con BCV..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fas fa-sync-alt mr-2"}),"Actualizar Automáticamente (BCV)"]})}),this.state.updateMessage&&this.state.updateMessage.includes("❌")&&(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{className:"text-center",children:(0,at.jsx)("span",{className:"text-sm text-gray-500",children:"o"})}),(0,at.jsx)("button",{type:"button",onClick:this.manualUpdateDollar,disabled:this.state.updatingDollar,className:"w-full px-4 py-2 text-sm font-medium text-orange-700 bg-orange-50 border border-orange-300 rounded-md hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:this.state.updatingDollar?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("span",{className:"animate-spin h-4 w-4 border-2 border-orange-600 border-t-transparent rounded-full mr-2"}),"Actualizando..."]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("i",{className:"fas fa-edit mr-2"}),"Actualización Manual (Alternativa)"]})})]}),(0,at.jsx)("button",{type:"button",onClick:function(){return e.setState({showDollarUpdate:!1,dollarStatus:null})},className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"})]})]})})}),(0,at.jsx)("style",{jsx:!0,children:"\n\t\t\t\t\t@keyframes float {\n\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\ttransform: translateY(0) translateX(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t50% {\n\t\t\t\t\t\t\ttransform: translateY(-20px) translateX(10px);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\ttransform: translateY(0) translateX(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.animate-float {\n\t\t\t\t\t\tanimation: float linear infinite;\n\t\t\t\t\t}\n\t\t\t\t"})]})}}],n&&w_(r.prototype,n),a&&w_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);const O_=I_;function T_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const k_=function(e){var t=e.msj,r=e.notificar,n=T_((0,o.useState)(!0),2),a=n[0],i=n[1],s=T_((0,o.useState)(!1),2),c=s[0],l=s[1];return(0,o.useEffect)((function(){t&&(i(!0),l(!1))}),[t]),t&&a?(0,at.jsxs)("div",{className:"notification-container ".concat(c?"notification-exit":"notification-enter"),children:[(0,at.jsxs)("div",{className:"notification-content",children:[(0,at.jsxs)("div",{className:"notification-header",children:[(0,at.jsxs)("div",{className:"notification-title",children:[(0,at.jsx)("i",{className:"fa fa-bell text-primary me-2"}),"Notificación"]}),(0,at.jsx)("button",{className:"notification-close",onClick:function(){l(!0),setTimeout((function(){i(!1),r("")}),300)},title:"Cerrar notificación",children:(0,at.jsx)("i",{className:"fa fa-times"})})]}),(0,at.jsx)("div",{className:"notification-body",children:t})]}),(0,at.jsx)("style",{jsx:!0,children:"\n\t\t\t\t.notification-container {\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbottom: 20px;\n\t\t\t\t\tright: 20px;\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tmin-width: 300px;\n\t\t\t\t\tmax-width: 450px;\n\t\t\t\t}\n\n\t\t\t\t.notification-content {\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.notification-header {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 12px 16px;\n\t\t\t\t\tbackground: #f8f9fa;\n\t\t\t\t\tborder-bottom: 1px solid #e9ecef;\n\t\t\t\t}\n\n\t\t\t\t.notification-title {\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcolor: #212529;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.notification-close {\n\t\t\t\t\tbackground: none;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tcolor: #6c757d;\n\t\t\t\t\tpadding: 4px 8px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: color 0.2s;\n\t\t\t\t}\n\n\t\t\t\t.notification-close:hover {\n\t\t\t\t\tcolor: #dc3545;\n\t\t\t\t}\n\n\t\t\t\t.notification-body {\n\t\t\t\t\tpadding: 16px;\n\t\t\t\t\tcolor: #212529;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tline-height: 1.5;\n\t\t\t\t}\n\n\t\t\t\t.notification-enter {\n\t\t\t\t\tanimation: slideUp 0.3s ease-out;\n\t\t\t\t}\n\n\t\t\t\t.notification-exit {\n\t\t\t\t\tanimation: slideDown 0.3s ease-in;\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideUp {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideDown {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"})]}):null};function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M_(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R_(){var e=D_((0,o.useState)(!1),2),t=e[0],r=e[1],n=D_((0,o.useState)([]),2),a=n[0],i=n[1],c=D_((0,o.useState)(""),2),l=c[0],u=c[1],d=D_((0,o.useState)(!1),2),f=d[0],h=d[1];o.useEffect((function(){var e=localStorage.getItem("user_data"),t=localStorage.getItem("session_token");if(e&&t)try{var n=JSON.parse(e);i(n),r(!0),s().post("/verificarLogin").then((function(e){e.data.estado||(localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),i([]))})).catch((function(){localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),i([])}))}catch(e){localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),i([])}}),[]);var p=function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?setTimeout((function(){u("")}),3e3):setTimeout((function(){u("")}),1e5),""==e?u(""):e.data?e.data.msj?u(e.data.msj):u(JSON.stringify(e.data)):("string"==typeof e||e instanceof String)&&u(e)};return(0,at.jsxs)(o.StrictMode,{children:[(0,at.jsx)(x_,{active:f}),""!=l?(0,at.jsx)(k_,{msj:l,notificar:p}):null,t&&a?(0,at.jsx)(v_,{setLoading:h,user:a,notificar:p}):(0,at.jsx)(O_,{loginRes:function(e){p(e),e.data&&e.data.user&&(localStorage.setItem("user_data",JSON.stringify(e.data.user)),e.data.session_token&&localStorage.setItem("session_token",e.data.session_token),i(e.data.user),r(e.data.estado))}})]})}s().interceptors.request.use((function(e){var t=localStorage.getItem("session_token");return t&&(e.headers["X-Session-Token"]=t),e}),(function(e){return Promise.reject(e)})),s().interceptors.response.use((function(e){return e}),(function(e){return e.response&&e.response.data&&e.response.data.msj&&e.response.data.msj.includes("Sin sesión activa")&&(localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),window.location.reload()),Promise.reject(e)})),(0,a.render)((0,at.jsx)(R_,{}),document.getElementById("app"))},8303:(e,t,r)=>{var n=r(6110)(r(9325),"WeakMap");e.exports=n},8329:(e,t,r)=>{var n=r(4894);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,s=Object(r);(t?i--:++i<o)&&!1!==a(s[i],i,s););return r}}},8351:function(e,t,r){var n;!function(){"use strict";var a,o=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",u=c+"Exponent out of range: ",d=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function x(e,t){var r,n,a,o,i,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a){for(o<0?(n=l,o=-o,c=u.length):(n=u,a=i,c=l.length),o>(c=(i=Math.ceil(f/7))>c?i+1:c+1)&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((c=l.length)-(o=u.length)<0&&(o=c,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/p|0,l[o]%=p;for(r&&(l.unshift(r),++a),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=a,s?A(t,f):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(l+e)}function y(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(o+=C(r)),o+=n;(r=7-(n=(i=e[t])+"").length)&&(o+=C(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,r=(n=o.d.length)<(a=e.d.length)?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return j(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return A(j(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,o=n.precision,i=o+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(c+"NaN");if(r.s<1)throw Error(c+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=j(E(r,i),E(e,i),i),s=!0,A(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I(t,e):x(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(c+"NaN");return r.s?(s=!1,t=j(r,e,0,1).times(e),s=!0,r.minus(t)):A(new n(r),a)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return E(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):I(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,a,o,i,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(c+"NaN")}for(e=N(l),s=!1,0==(a=Math.sqrt(+l))||a==1/0?(((t=y(l.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=i=(r=u.precision)+3;;)if(n=(o=n).plus(j(l,o,i+2)).times(.5),y(o.d).slice(0,i)===(t=y(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(A(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if("9999"!=t)break;i+=4}return s=!0,A(n,r)},v.times=v.mul=function(e){var t,r,n,a,o,i,c,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,(l=h.length)<(u=m.length)&&(o=h,h=m,m=o,i=l,l=u,u=i),o=[],n=i=l+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)c=o[a]+m[n]*h[a-n-1]+t,o[a--]=c%p|0,t=c/p|0;o[a]=(o[a]+t)%p|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,s?A(e,f.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,o),void 0===t?t=n.rounding:b(t,0,8),A(r,e+N(r)+1,t))},v.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=O(n,!0):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),r=O(n=A(new a(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?O(a):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),r=O((n=A(new i(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return A(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,o,i,l,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(a))return u;if(n=f.precision,e.eq(a))return A(u,n);if(l=(t=e.e)>=(r=e.d.length-1),i=u.s,l){if((r=h<0?-h:h)<=m){for(o=new f(a),t=Math.ceil(n/7+4),s=!1;r%2&&T((o=o.times(u)).d,t),0!==(r=d(r/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new f(a).div(o):A(o,n)}}else if(i<0)throw Error(c+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,o=e.times(E(u,n+12)),s=!0,(o=w(o)).s=i,o},v.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=O(a,(r=N(a))<=i.toExpNeg||r>=i.toExpPos):(b(e,1,o),void 0===t?t=i.rounding:b(t,0,8),n=O(a=A(new i(a),e,t),e<=(r=N(a))||r<=i.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,o),void 0===t?t=r.rounding:b(t,0,8)),A(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),r=e.constructor;return O(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,o;if(r!=n)o=r>n?1:-1;else for(a=o=0;a<r;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,o,i){var s,l,u,d,f,h,m,g,v,x,b,y,j,w,_,C,E,S,I=n.constructor,O=n.s==a.s?1:-1,T=n.d,P=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(c+"Division by zero");for(l=n.e-a.e,E=P.length,_=T.length,g=(m=new I(O)).d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--l,(y=null==o?o=I.precision:i?o+(N(n)-N(a))+1:o)<0)return new I(0);if(y=y/7+2|0,u=0,1==E)for(d=0,P=P[0],y++;(u<_||d)&&y--;u++)j=d*p+(T[u]||0),g[u]=j/P|0,d=j%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),T=e(T,d),E=P.length,_=T.length),w=E,x=(v=T.slice(0,E)).length;x<E;)v[x++]=0;(S=P.slice()).unshift(0),C=P[0],P[1]>=p/2&&++C;do{d=0,(s=t(P,v,E,x))<0?(b=v[0],E!=x&&(b=b*p+(v[1]||0)),(d=b/C|0)>1?(d>=p&&(d=p-1),1==(s=t(f=e(P,d),v,h=f.length,x=v.length))&&(d--,r(f,E<h?S:P,h))):(0==d&&(s=d=1),f=P.slice()),(h=f.length)<x&&f.unshift(0),r(v,f,x),-1==s&&(s=t(P,v,E,x=v.length))<1&&(d++,r(v,E<x?S:P,x)),x=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[x++]=T[w]||0:(v=[T[w]],x=1)}while((w++<_||void 0!==v[0])&&y--)}return g[0]||g.shift(),m.e=l,A(m,i?o+N(m)+1:o)}}();function w(e,t){var r,n,o,i,c,l=0,d=0,h=e.constructor,p=h.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new h(a);for(null==t?(s=!1,c=p):c=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(c+=Math.log(f(2,d))/Math.LN10*2+5|0,r=n=o=new h(a),h.precision=c;;){if(n=A(n.times(e),c),r=r.times(++l),y((i=o.plus(j(n,r,c))).d).slice(0,c)===y(o.d).slice(0,c)){for(;d--;)o=A(o.times(o),c);return h.precision=p,null==t?(s=!0,A(o,p)):o}o=i}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function _(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(c+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function C(e){for(var t="";e--;)t+="0";return t}function E(e,t){var r,n,o,i,l,u,d,f,h,p=1,m=e,g=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(s=!1,f=x):f=t,m.eq(10))return null==t&&(s=!0),_(v,f);if(f+=10,v.precision=f,n=(r=y(g)).charAt(0),i=N(m),!(Math.abs(i)<15e14))return d=_(v,f+2,x).times(i+""),m=E(new v(n+"."+r.slice(1)),f-10).plus(d),v.precision=x,null==t?(s=!0,A(m,x)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=y((m=m.times(e)).d)).charAt(0),p++;for(i=N(m),n>1?(m=new v("0."+r),i++):m=new v(n+"."+r.slice(1)),u=l=m=j(m.minus(a),m.plus(a),f),h=A(m.times(m),f),o=3;;){if(l=A(l.times(h),f),y((d=u.plus(j(l,new v(o),f))).d).slice(0,f)===y(u.d).slice(0,f))return u=u.times(2),0!==i&&(u=u.plus(_(v,f+2,x).times(i+""))),u=j(u,new v(p),f),v.precision=x,null==t?(s=!0,A(u,x)):u;u=d,o+=2}}function S(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,r){var n,a,o,i,c,l,h,m,v=e.d;for(i=1,o=v[0];o>=10;o/=10)i++;if((n=t-i)<0)n+=7,a=t,h=v[m=0];else{if((m=Math.ceil((n+1)/7))>=(o=v.length))return e;for(h=o=v[m],i=1;o>=10;o/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(c=h/(o=f(10,i-a-1))%10|0,l=t<0||void 0!==v[m+1]||h%o,l=r<4?(c||l)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||l||6==r&&(n>0?a>0?h/f(10,i-a):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return l?(o=N(e),v.length=1,t=t-o-1,v[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=m,o=1,m--):(v.length=m+1,o=f(10,7-n),v[m]=a>0?(h/f(10,i-a)%f(10,a)|0)*o:0),l)for(;;){if(0==m){(v[0]+=o)==p&&(v[0]=1,++e.e);break}if(v[m]+=o,v[m]!=p)break;v[m--]=0,o=1}for(n=v.length;0===v[--n];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function I(e,t){var r,n,a,o,i,c,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?A(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n){for((d=i<0)?(r=l,i=-i,c=f.length):(r=f,n=u,c=l.length),i>(a=Math.max(Math.ceil(m/7),c)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((d=(a=l.length)<(c=f.length))&&(c=a),a=0;a<c;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,a=f.length-c;a>0;--a)l[c++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&0===l[--o];)l[o]=p-1;--l[o],l[a]+=p}l[a]-=f[a]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,s?A(t,m):t):new h(0)}function O(e,t,r){var n,a=N(e),o=y(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+C(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+C(-a-1)+o,r&&(n=r-i)>0&&(o+=C(n))):a>=i?(o+=C(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+C(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=C(n))),e.s<0?"-"+o:o}function T(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,r,n,a=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(l+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(l+r+": "+n);this[r]=new this(n)}return this}i=function e(t){var r,n,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):S(t,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(l+e);S(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return o.config(t),o}(i),i.default=i.Decimal=i,a=new i(1),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8514:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(5556));var n=s(r(2963)),a=s(r(788)),o=s(r(6540)),i=s(r(495));r(554);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,o=r?n+" "+a:a;t.removeClasses(e,r?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,a=n?(n&&r?r+"-":"")+e:r[e];return{className:a,activeClassName:n?a+"-active":r[e+"Active"],doneClassName:n?a+"-done":r[e+"Done"]}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,a=r.activeClassName,o=r.doneClassName;n&&u(e,n),a&&u(e,a),o&&u(e,o)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(i.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(o.default.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d;t.default=f,e.exports=t.default},8586:(e,t,r)=>{var n=r(6449),a=r(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},8655:(e,t,r)=>{var n=r(6025);e.exports=function(e){return n(this.__data__,e)>-1}},8754:(e,t,r)=>{var n=r(5160);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8859:(e,t,r)=>{var n=r(3661),a=r(1380),o=r(1459);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},8984:(e,t,r)=>{var n=r(5527),a=r(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},9012:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9106:(e,t,r)=>{"use strict";var n=r(9516);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9255:function(e,t,r){!function(e){"use strict";function t(e){return null==e}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function a(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function i(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var s,c=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),o(n,r.prototype),i(n),n}return a(t,e),t}(Error);class l extends c{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}l.kind="Exception";class u extends l{}u.kind="ArgumentException";class d extends l{}d.kind="IllegalArgumentException";class f{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const a=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new f(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new f(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new f(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class h extends l{static getChecksumInstance(){return new h}}h.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class m{static arraycopy(e,t,r,n,a){for(;a--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class g extends l{}g.kind="IndexOutOfBoundsException";class v extends g{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}v.kind="ArrayIndexOutOfBoundsException";class x{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){x.rangeCheck(e.length,t,r);for(let a=t;a<r;a++)e[a]=n}static rangeCheck(e,t,r){if(t>r)throw new d("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new v(t);if(r>e)throw new v(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(r)))}static createInt32Array(e,t,r){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(r)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,a=new Int32Array(n);return m.arraycopy(e,t,a,0,n),a}static binarySearch(e,t,r){void 0===r&&(r=x.numberComparator);let n=0,a=e.length-1;for(;n<=a;){const o=a+n>>1,i=r(t,e[o]);if(i>0)n=o+1;else{if(!(i<0))return o;a=o-1}}return-n-1}static numberComparator(e,t){return e-t}}class b{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return t=e<<16,0!==t&&(r-=16,e=t),t=e<<8,0!==t&&(r-=8,e=t),t=e<<4,0!==t&&(r-=4,e=t),t=e<<2,0!==t&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class y{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?y.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=y.makeArray(e);m.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return!!(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=r[n];a&=~((1<<(31&e))-1);const o=r.length;for(;0===a;){if(++n===o)return t;a=r[n]}const i=32*n+b.numberOfTrailingZeros(a);return i>t?t:i}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=~r[n];a&=~((1<<(31&e))-1);const o=r.length;for(;0===a;){if(++n===o)return t;a=~r[n]}const i=32*n+b.numberOfTrailingZeros(a);return i>t?t:i}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),a=this.bits;for(let o=r;o<=n;o++){const i=(2<<(o<n?31:31&t))-(1<<(o>r?0:31&e));a[o]|=i}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const n=Math.floor(e/32),a=Math.floor(t/32),o=this.bits;for(let i=n;i<=a;i++){const s=(2<<(i<a?31:31&t))-(1<<(i>n?0:31&e))&4294967295;if((o[i]&s)!==(r?s:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let a=0;a<n;a++){let n=0;for(let t=0;t<8;t++)this.get(e)&&(n|=1<<7-t),e++;t[r+a]=n}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let a=0;a<r;a++){let r=n[a];r=r>>1&1431655765|(1431655765&r)<<1,r=r>>2&858993459|(858993459&r)<<2,r=r>>4&252645135|(252645135&r)<<4,r=r>>8&16711935|(16711935&r)<<8,r=r>>16&65535|(65535&r)<<16,e[t-a]=r}if(this.size!==32*r){const t=32*r-this.size;let n=e[0]>>>t;for(let a=1;a<r;a++){const r=e[a];n|=r<<32-t,e[a-1]=n,n=r>>>t}e[r-1]=n}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof y))return!1;const t=e;return this.size===t.size&&x.equals(this.bits,t.bits)}hashCode(){return 31*this.size+x.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)7&t||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new y(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(s||(s={}));var j,w=s;class N extends l{static getFormatInstance(){return new N}}N.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(j||(j={}));class _{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=n,_.VALUE_IDENTIFIER_TO_ECI.set(e,this),_.NAME_TO_ECI.set(r,this);const a=this.values;for(let e=0,t=a.length;e!==t;e++){const t=a[e];_.VALUES_TO_ECI.set(t,this)}for(const e of n)_.NAME_TO_ECI.set(e,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new N("incorect value");const t=_.VALUES_TO_ECI.get(e);if(void 0===t)throw new N("incorect value");return t}static getCharacterSetECIByName(e){const t=_.NAME_TO_ECI.get(e);if(void 0===t)throw new N("incorect value");return t}equals(e){if(!(e instanceof _))return!1;const t=e;return this.getName()===t.getName()}}_.VALUE_IDENTIFIER_TO_ECI=new Map,_.VALUES_TO_ECI=new Map,_.NAME_TO_ECI=new Map,_.Cp437=new _(j.Cp437,Int32Array.from([0,2]),"Cp437"),_.ISO8859_1=new _(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),_.ISO8859_2=new _(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),_.ISO8859_3=new _(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),_.ISO8859_4=new _(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),_.ISO8859_5=new _(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),_.ISO8859_6=new _(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),_.ISO8859_7=new _(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),_.ISO8859_8=new _(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),_.ISO8859_9=new _(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),_.ISO8859_10=new _(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),_.ISO8859_11=new _(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),_.ISO8859_13=new _(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),_.ISO8859_14=new _(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),_.ISO8859_15=new _(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),_.ISO8859_16=new _(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),_.SJIS=new _(j.SJIS,20,"SJIS","Shift_JIS"),_.Cp1250=new _(j.Cp1250,21,"Cp1250","windows-1250"),_.Cp1251=new _(j.Cp1251,22,"Cp1251","windows-1251"),_.Cp1252=new _(j.Cp1252,23,"Cp1252","windows-1252"),_.Cp1256=new _(j.Cp1256,24,"Cp1256","windows-1256"),_.UnicodeBigUnmarked=new _(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),_.UTF8=new _(j.UTF8,26,"UTF8","UTF-8"),_.ASCII=new _(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),_.Big5=new _(j.Big5,28,"Big5"),_.GB18030=new _(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),_.EUC_KR=new _(j.EUC_KR,30,"EUC_KR","EUC-KR");class C extends l{}C.kind="UnsupportedOperationException";class E{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!E.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof _?e:_.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(E.isDecodeFallbackSupported(r)){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)}if(r.equals(_.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new C(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(_.UTF8)||e.equals(_.ISO8859_1)||e.equals(_.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let e=0;e<t.length;e++)r.push(t[e].charCodeAt(0));return new Uint8Array(r)}}class S{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return E.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get(w.CHARACTER_SET))return t.get(w.CHARACTER_SET).toString();const r=e.length;let n=!0,a=!0,o=!0,i=0,s=0,c=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,g=0;const v=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let t=0;t<r&&(n||a||o);t++){const r=255&e[t];o&&(i>0?128&r?i--:o=!1:128&r&&(64&r?(i++,32&r?(i++,16&r?(i++,8&r?o=!1:l++):c++):s++):o=!1)),n&&(r>127&&r<160?n=!1:r>159&&(r<192||215===r||247===r)&&g++),a&&(u>0?r<64||127===r||r>252?a=!1:u--:128===r||160===r||r>239?a=!1:r>160&&r<224?(d++,h=0,f++,f>p&&(p=f)):r>127?(u++,f=0,h++,h>m&&(m=h)):(f=0,h=0))}return o&&i>0&&(o=!1),a&&u>0&&(a=!1),o&&(v||s+c+l>0)?S.UTF8:a&&(S.ASSUME_SHIFT_JIS||p>=3||m>=3)?S.SHIFT_JIS:n&&a?2===p&&2===d||10*g>=r?S.SHIFT_JIS:S.ISO88591:n?S.ISO88591:a?S.SHIFT_JIS:o?S.UTF8:S.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(e,n,a,o,i,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let c,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let u=parseInt(a),d=a&&a[0]+""=="0"?"0":" ";for(;c.length<u;)c=void 0!==n?c+d:d+c;return c}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,n)}static getBytes(e,t){return E.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}S.SHIFT_JIS=_.SJIS.getName(),S.GB2312="GB2312",S.ISO88591=_.ISO8859_1.getName(),S.EUC_JP="EUC_JP",S.UTF8=_.UTF8.getName(),S.PLATFORM_DEFAULT_ENCODING=S.UTF8,S.ASSUME_SHIFT_JIS=!1;class A{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=S.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class I{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new I(r,t);for(let a=0;a<t;a++){const t=e[a];for(let e=0;e<r;e++)t[e]&&n.set(e,a)}return n}static parseFromString(e,t,r){if(null===e)throw new d("stringRepresentation cannot be null");const n=new Array(e.length);let a=0,o=0,i=-1,s=0,c=0;for(;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(a>o){if(-1===i)i=a-o;else if(a-o!==i)throw new d("row lengths do not match");o=a,s++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,n[a]=!0,a++;else{if(e.substring(c,c+r.length)!==r)throw new d("illegal character encountered: "+e.substring(c));c+=r.length,n[a]=!1,a++}if(a>o){if(-1===i)i=a-o;else if(a-o!==i)throw new d("row lengths do not match");s++}const l=new I(i,s);for(let e=0;e<a;e++)n[e]&&l.set(Math.floor(e%i),Math.floor(e/i));return l}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return!!(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new y(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let a=0,o=this.height;a<o;a++){const o=a*r,i=e.getRow(a,t).getBitArray();for(let e=0;e<r;e++)n[o+e]^=i[e]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(n<1||r<1)throw new d("Height and width must be at least 1");const a=e+r,o=t+n;if(o>this.height||a>this.width)throw new d("The region must fit inside the matrix");const i=this.rowSize,s=this.bits;for(let r=t;r<o;r++){const t=r*i;for(let r=e;r<a;r++)s[t+Math.floor(r/32)]|=1<<(31&r)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new y(this.width):t.clear();const r=this.rowSize,n=this.bits,a=e*r;for(let e=0;e<r;e++)t.setBulk(32*e,n[a+e]);return t}setRow(e,t){m.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new y(e),n=new y(e);for(let e=0,a=Math.floor((t+1)/2);e<a;e++)r=this.getRow(e,r),n=this.getRow(t-1-e,n),r.reverse(),n.reverse(),this.setRow(e,n),this.setRow(t-1-e,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let a=e,o=t,i=-1,s=-1;for(let e=0;e<t;e++)for(let t=0;t<r;t++){const c=n[e*r+t];if(0!==c){if(e<o&&(o=e),e>s&&(s=e),32*t<a){let e=0;for(;!(c<<31-e&4294967295);)e++;32*t+e<a&&(a=32*t+e)}if(32*t+31>i){let e=31;for(;c>>>e==0;)e--;32*t+e>i&&(i=32*t+e)}}}return i<a||s<o?null:Int32Array.from([a,o,i-a+1,s-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let a=r%e*32;const o=t[r];let i=0;for(;!(o<<31-i&4294967295);)i++;return a+=i,Int32Array.from([a,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let a=32*Math.floor(r%e);const o=t[r];let i=31;for(;o>>>i==0;)i--;return a+=i,Int32Array.from([a,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof I))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&x.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+x.hashCode(this.bits),e}toString(e="X ",t="  ",r="\n"){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new A;for(let a=0,o=this.height;a<o;a++){for(let r=0,o=this.width;r<o;r++)n.append(this.get(r,a)?e:t);n.append(r)}return n.toString()}clone(){return new I(this.width,this.height,this.rowSize,this.bits.slice())}}class O extends l{static getNotFoundInstance(){return new O}}O.kind="NotFoundException";class T extends p{constructor(e){super(e),this.luminances=T.EMPTY,this.buckets=new Int32Array(T.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();null==t||t.getSize()<n?t=new y(n):t.clear(),this.initArrays(n);const a=r.getRow(e,this.luminances),o=this.buckets;for(let e=0;e<n;e++)o[(255&a[e])>>T.LUMINANCE_SHIFT]++;const i=T.estimateBlackPoint(o);if(n<3)for(let e=0;e<n;e++)(255&a[e])<i&&t.set(e);else{let e=255&a[0],r=255&a[1];for(let o=1;o<n-1;o++){const n=255&a[o+1];(4*r-e-n)/2<i&&t.set(o),e=r,r=n}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new I(t,r);this.initArrays(t);const a=this.buckets;for(let n=1;n<5;n++){const o=Math.floor(r*n/5),i=e.getRow(o,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)a[(255&i[e])>>T.LUMINANCE_SHIFT]++}const o=T.estimateBlackPoint(a),i=e.getMatrix();for(let e=0;e<r;e++){const r=e*t;for(let a=0;a<t;a++)(255&i[r+a])<o&&n.set(a,e)}return n}createBinarizer(e){return new T(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let e=0;e<T.LUMINANCE_BUCKETS;e++)t[e]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,a=0;for(let o=0;o<t;o++)e[o]>a&&(n=o,a=e[o]),e[o]>r&&(r=e[o]);let o=0,i=0;for(let r=0;r<t;r++){const t=r-n,a=e[r]*t*t;a>i&&(o=r,i=a)}if(n>o){const e=n;n=o,o=e}if(o-n<=t/16)throw new O;let s=o-1,c=-1;for(let t=o-1;t>n;t--){const a=t-n,i=a*a*(o-t)*(r-e[t]);i>c&&(s=t,c=i)}return s<<T.LUMINANCE_SHIFT}}T.LUMINANCE_BITS=5,T.LUMINANCE_SHIFT=8-T.LUMINANCE_BITS,T.LUMINANCE_BUCKETS=1<<T.LUMINANCE_BITS,T.EMPTY=Uint8ClampedArray.from([0]);class P extends T{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=P.MINIMUM_DIMENSION&&r>=P.MINIMUM_DIMENSION){const n=e.getMatrix();let a=t>>P.BLOCK_SIZE_POWER;t&P.BLOCK_SIZE_MASK&&a++;let o=r>>P.BLOCK_SIZE_POWER;r&P.BLOCK_SIZE_MASK&&o++;const i=P.calculateBlackPoints(n,a,o,t,r),s=new I(t,r);P.calculateThresholdForBlock(n,a,o,t,r,i,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new P(e)}static calculateThresholdForBlock(e,t,r,n,a,o,i){const s=a-P.BLOCK_SIZE,c=n-P.BLOCK_SIZE;for(let a=0;a<r;a++){let l=a<<P.BLOCK_SIZE_POWER;l>s&&(l=s);const u=P.cap(a,2,r-3);for(let r=0;r<t;r++){let a=r<<P.BLOCK_SIZE_POWER;a>c&&(a=c);const s=P.cap(r,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=o[u+e];d+=t[s-2]+t[s-1]+t[s]+t[s+1]+t[s+2]}const f=d/25;P.thresholdBlock(e,a,l,f,n,i)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,a,o){for(let i=0,s=r*a+t;i<P.BLOCK_SIZE;i++,s+=a)for(let a=0;a<P.BLOCK_SIZE;a++)(255&e[s+a])<=n&&o.set(t+a,r+i)}static calculateBlackPoints(e,t,r,n,a){const o=a-P.BLOCK_SIZE,i=n-P.BLOCK_SIZE,s=new Array(r);for(let a=0;a<r;a++){s[a]=new Int32Array(t);let r=a<<P.BLOCK_SIZE_POWER;r>o&&(r=o);for(let o=0;o<t;o++){let t=o<<P.BLOCK_SIZE_POWER;t>i&&(t=i);let c=0,l=255,u=0;for(let a=0,o=r*n+t;a<P.BLOCK_SIZE;a++,o+=n){for(let t=0;t<P.BLOCK_SIZE;t++){const r=255&e[o+t];c+=r,r<l&&(l=r),r>u&&(u=r)}if(u-l>P.MIN_DYNAMIC_RANGE)for(a++,o+=n;a<P.BLOCK_SIZE;a++,o+=n)for(let t=0;t<P.BLOCK_SIZE;t++)c+=255&e[o+t]}let d=c>>2*P.BLOCK_SIZE_POWER;if(u-l<=P.MIN_DYNAMIC_RANGE&&(d=l/2,a>0&&o>0)){const e=(s[a-1][o]+2*s[a][o-1]+s[a-1][o-1])/4;l<e&&(d=e)}s[a][o]=d}}return s}}P.BLOCK_SIZE_POWER=3,P.BLOCK_SIZE=1<<P.BLOCK_SIZE_POWER,P.BLOCK_SIZE_MASK=P.BLOCK_SIZE-1,P.MINIMUM_DIMENSION=5*P.BLOCK_SIZE,P.MIN_DYNAMIC_RANGE=24;class k{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new C("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new C("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new C("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new A;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let e=0;e<this.width;e++){const r=255&n[e];let a;a=r<64?"#":r<128?"+":r<192?".":" ",t.append(a)}t.append("\n")}return t.toString()}}class D extends k{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let e=0;e<n;e++)r[e]=255-(255&r[e]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new D(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new D(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new D(this.delegate.rotateCounterClockwise45())}}class M extends k{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=M.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return M.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let t=0,r=0,a=e.length;t<a;t+=4,r++){let a;a=0===e[t+3]?255:306*e[t]+601*e[t+1]+117*e[t+2]+512>>10,n[r]=a}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*M.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,i=Math.ceil(Math.abs(Math.cos(n))*a+Math.abs(Math.sin(n))*o),s=Math.ceil(Math.abs(Math.sin(n))*a+Math.abs(Math.cos(n))*o);return t.width=i,t.height=s,r.translate(i/2,s/2),r.rotate(n),r.drawImage(this.canvas,a/-2,o/-2),this.buffer=M.makeBufferFromCanvasImageData(t),this}invert(){return new D(this)}}M.DEGREE_TO_RADIANS=Math.PI/180;class R{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var F,L=(globalThis||r.g||self||window?(globalThis||r.g||self||window||void 0).__awaiter:void 0)||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):a(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))};class B{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return L(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const e="video"===r.kind?"videoinput":r.kind;if("videoinput"!==e)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:e,groupId:r.groupId};t.push(n)}return t}))}getVideoInputDevices(){return L(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new R(e.deviceId,e.label)))}))}findDeviceById(e){return L(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return L(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return L(this,void 0,void 0,(function*(){let r;this.reset(),r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)}))}decodeOnceFromConstraints(e,t){return L(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)}))}decodeOnceFromStream(e,t){return L(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)}))}decodeFromInputVideoDeviceContinuously(e,t,r){return L(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,r)}))}decodeFromVideoDevice(e,t,r){return L(this,void 0,void 0,(function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const a={video:n};return yield this.decodeFromConstraints(a,t,r)}))}decodeFromConstraints(e,t,r){return L(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)}))}decodeFromStream(e,t,r){return L(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return L(this,void 0,void 0,(function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r}))}playVideoOnLoadAsync(e){return new Promise(((t,r)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return L(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(e){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new u(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new u(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let r;return this.imageElement=t,r=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise(((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return L(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return L(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"==typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(a,o)=>{if(this._stopAsyncDecode)return o(new O("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{a(this.decode(e))}catch(e){if(t&&e instanceof O||(e instanceof h||e instanceof N)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,a,o);o(e)}};return new Promise(((e,t)=>n(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(e){t(null,e),(e instanceof h||e instanceof N||e instanceof O)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new M(t),n=new P(r);return new f(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return void 0!==e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class U{constructor(e,t,r=(null==t?0:8*t.length),n,a,o=m.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=n,this.format=a,this.resultMetadata=null,this.timestamp=null==o?m.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);m.arraycopy(t,0,r,0,t.length),m.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(F||(F={}));var z,V=F;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(z||(z={}));var G,H,q,W,Y,X,$=z;class Q{constructor(e,t,r,n,a=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Z{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class K{constructor(e,t){if(0===t.length)throw new d;this.field=e;const r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let e=0,n=t.length;e!==n;e++){const n=t[e];r=Z.addOrSubtract(r,n)}return r}r=t[0];const n=t.length,a=this.field;for(let o=1;o<n;o++)r=Z.addOrSubtract(a.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const e=t;t=r,r=e}let n=new Int32Array(r.length);const a=r.length-t.length;m.arraycopy(r,0,n,0,a);for(let e=a;e<r.length;e++)n[e]=Z.addOrSubtract(t[e-a],r[e]);return new K(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,o=new Int32Array(r+a-1),i=this.field;for(let e=0;e<r;e++){const r=t[e];for(let t=0;t<a;t++)o[e+t]=Z.addOrSubtract(o[e+t],i.multiply(r,n[t]))}return new K(i,o)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),a=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(a[o],e);return new K(r,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,a=new Int32Array(n+e),o=this.field;for(let e=0;e<n;e++)a[e]=o.multiply(r[e],t);return new K(o,a)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const a=e.getCoefficient(e.getDegree()),o=t.inverse(a);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const a=n.getDegree()-e.getDegree(),i=t.multiply(n.getCoefficient(n.getDegree()),o),s=e.multiplyByMonomial(a,i),c=t.buildMonomial(a,i);r=r.addOrSubtract(c),n=n.addOrSubtract(s)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const t=this.field.log(r);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class J extends l{}J.kind="ArithmeticException";class ee extends Z{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let a=1;for(let r=0;r<t;r++)n[r]=a,a*=2,a>=t&&(a^=e,a&=t-1);this.expTable=n;const o=new Int32Array(t);for(let e=0;e<t-1;e++)o[n[e]]=e;this.logTable=o,this.zero=new K(this,Int32Array.from([0])),this.one=new K(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new K(this,r)}inverse(e){if(0===e)throw new J;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends l{}te.kind="ReedSolomonException";class re extends l{}re.kind="IllegalStateException";class ne{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new K(r,e),a=new Int32Array(t);let o=!0;for(let e=0;e<t;e++){const t=n.evaluateAt(r.exp(e+r.getGeneratorBase()));a[a.length-1-e]=t,0!==t&&(o=!1)}if(o)return;const i=new K(r,a),s=this.runEuclideanAlgorithm(r.buildMonomial(t,1),i,t),c=s[0],l=s[1],u=this.findErrorLocations(c),d=this.findErrorMagnitudes(l,u);for(let t=0;t<u.length;t++){const n=e.length-1-r.log(u[t]);if(n<0)throw new te("Bad error location");e[n]=ee.addOrSubtract(e[n],d[t])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const r=e;e=t,t=r}const n=this.field;let a=e,o=t,i=n.getZero(),s=n.getOne();for(;o.getDegree()>=(r/2|0);){let e=a,t=i;if(a=o,i=s,a.isZero())throw new te("r_{i-1} was zero");o=e;let r=n.getZero();const c=a.getCoefficient(a.getDegree()),l=n.inverse(c);for(;o.getDegree()>=a.getDegree()&&!o.isZero();){const e=o.getDegree()-a.getDegree(),t=n.multiply(o.getCoefficient(o.getDegree()),l);r=r.addOrSubtract(n.buildMonomial(e,t)),o=o.addOrSubtract(a.multiplyByMonomial(e,t))}if(s=r.multiply(i).addOrSubtract(t),o.getDegree()>=a.getDegree())throw new re("Division algorithm failed to reduce polynomial?")}const c=s.getCoefficient(0);if(0===c)throw new te("sigmaTilde(0) was zero");const l=n.inverse(c);return[s.multiplyScalar(l),o.multiplyScalar(l)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const a=this.field;for(let o=1;o<a.getSize()&&n<t;o++)0===e.evaluateAt(o)&&(r[n]=a.inverse(o),n++);if(n!==t)throw new te("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),a=this.field;for(let o=0;o<r;o++){const i=a.inverse(t[o]);let s=1;for(let e=0;e<r;e++)if(o!==e){const r=a.multiply(t[e],i),n=1&r?-2&r:1|r;s=a.multiply(s,n)}n[o]=a.multiply(e.evaluateAt(i),a.inverse(s)),0!==a.getGeneratorBase()&&(n[o]=a.multiply(n[o],i))}return n}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(G||(G={}));class ae{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),a=ae.convertBoolArrayToByteArray(n),o=ae.getEncodedData(n),i=new Q(a,o,null,null);return i.setNumBits(n.length),i}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=G.UPPER,n=G.UPPER,a="",o=0;for(;o<t;)if(n===G.BINARY){if(t-o<5)break;let i=ae.readCode(e,o,5);if(o+=5,0===i){if(t-o<11)break;i=ae.readCode(e,o,11)+31,o+=11}for(let r=0;r<i;r++){if(t-o<8){o=t;break}const r=ae.readCode(e,o,8);a+=S.castAsNonUtf8Char(r),o+=8}n=r}else{let i=n===G.DIGIT?4:5;if(t-o<i)break;let s=ae.readCode(e,o,i);o+=i;let c=ae.getCharacter(n,s);c.startsWith("CTRL_")?(r=n,n=ae.getTable(c.charAt(5)),"L"===c.charAt(6)&&(r=n)):(a+=c,n=r)}return a}static getTable(e){switch(e){case"L":return G.LOWER;case"P":return G.PUNCT;case"M":return G.MIXED;case"D":return G.DIGIT;case"B":return G.BINARY;default:return G.UPPER}}static getCharacter(e,t){switch(e){case G.UPPER:return ae.UPPER_TABLE[t];case G.LOWER:return ae.LOWER_TABLE[t];case G.MIXED:return ae.MIXED_TABLE[t];case G.PUNCT:return ae.PUNCT_TABLE[t];case G.DIGIT:return ae.DIGIT_TABLE[t];default:throw new re("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ee.AZTEC_DATA_10):(r=12,t=ee.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),a=e.length/r;if(a<n)throw new N;let o=e.length%r,i=new Int32Array(a);for(let t=0;t<a;t++,o+=r)i[t]=ae.readCode(e,o,r);try{new ne(t).decode(i,a-n)}catch(e){throw new N(e)}let s=(1<<r)-1,c=0;for(let e=0;e<n;e++){let t=i[e];if(0===t||t===s)throw new N;1!==t&&t!==s-1||c++}let l=new Array(n*r-c),u=0;for(let e=0;e<n;e++){let t=i[e];if(1===t||t===s-1)l.fill(t>1,u,u+r-1),u+=r-1;else for(let e=r-1;e>=0;--e)l[u++]=!!(t&1<<e)}return l}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,a=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let e=0;e<a.length;e++)a[e]=e;else{let e=n+1+2*b.truncDivision(b.truncDivision(n,2)-1,15),t=n/2,r=b.truncDivision(e,2);for(let e=0;e<t;e++){let n=e+b.truncDivision(e,15);a[t-e-1]=r-n-1,a[t+e]=r+n+1}}for(let i=0,s=0;i<r;i++){let c=4*(r-i)+(t?9:12),l=2*i,u=n-1-l;for(let t=0;t<c;t++){let r=2*t;for(let n=0;n<2;n++)o[s+r+n]=e.get(a[l+n],a[l+t]),o[s+2*c+r+n]=e.get(a[l+t],a[u-n]),o[s+4*c+r+n]=e.get(a[u-n],a[u-t]),o[s+6*c+r+n]=e.get(a[u-t],a[l+n])}s+=8*c}return o}static readCode(e,t,r){let n=0;for(let a=t;a<t+r;a++)n<<=1,e[a]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?ae.readCode(e,t,8):ae.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ae.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ae.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const a=e-r,o=t-n;return Math.sqrt(a*a+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class ie{static floatToIntBits(e){return e}}ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof se){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ie.floatToIntBits(this.x)+ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let a,o,i;if(r>=t&&r>=n?(o=e[0],a=e[1],i=e[2]):n>=r&&n>=t?(o=e[1],a=e[0],i=e[2]):(o=e[2],a=e[0],i=e[1]),this.crossProductZ(a,o,i)<0){const e=a;a=i,i=e}e[0]=a,e[1]=o,e[2]=i}static distance(e,t){return oe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,a=t.y;return(r.x-n)*(e.y-a)-(r.y-a)*(e.x-n)}}class ce{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends ce{constructor(e,t,r,n,a){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=ue.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==n&&(n=e.getHeight()/2|0);const a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=n-a,this.downInit=n+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new O}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,a=!1,o=!0,i=!1,s=!1,c=!1,l=!1,u=!1;const d=this.width,f=this.height;for(;o;){o=!1;let h=!0;for(;(h||!s)&&t<d;)h=this.containsBlackPoint(r,n,t,!1),h?(t++,o=!0,s=!0):s||t++;if(t>=d){a=!0;break}let p=!0;for(;(p||!c)&&n<f;)p=this.containsBlackPoint(e,t,n,!0),p?(n++,o=!0,c=!0):c||n++;if(n>=f){a=!0;break}let m=!0;for(;(m||!l)&&e>=0;)m=this.containsBlackPoint(r,n,e,!1),m?(e--,o=!0,l=!0):l||e--;if(e<0){a=!0;break}let g=!0;for(;(g||!u)&&r>=0;)g=this.containsBlackPoint(e,t,r,!0),g?(r--,o=!0,u=!0):u||r--;if(r<0){a=!0;break}o&&(i=!0)}if(!a&&i){const a=t-e;let o=null;for(let t=1;null===o&&t<a;t++)o=this.getBlackPointOnSegment(e,n-t,e+t,n);if(null==o)throw new O;let i=null;for(let t=1;null===i&&t<a;t++)i=this.getBlackPointOnSegment(e,r+t,e+t,r);if(null==i)throw new O;let s=null;for(let e=1;null===s&&e<a;e++)s=this.getBlackPointOnSegment(t,r+e,t-e,r);if(null==s)throw new O;let c=null;for(let e=1;null===c&&e<a;e++)c=this.getBlackPointOnSegment(t,n-e,t-e,n);if(null==c)throw new O;return this.centerEdges(c,o,s,i)}throw new O}getBlackPointOnSegment(e,t,r,n){const a=oe.round(oe.distance(e,t,r,n)),o=(r-e)/a,i=(n-t)/a,s=this.image;for(let r=0;r<a;r++){const n=oe.round(e+r*o),a=oe.round(t+r*i);if(s.get(n,a))return new se(n,a)}return null}centerEdges(e,t,r,n){const a=e.getX(),o=e.getY(),i=t.getX(),s=t.getY(),c=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=ue.CORR;return a<this.width/2?[new se(u-f,d+f),new se(i+f,s+f),new se(c-f,l-f),new se(a+f,o-f)]:[new se(u+f,d+f),new se(i+f,s-f),new se(c-f,l+f),new se(a-f,o-f)]}containsBlackPoint(e,t,r,n){const a=this.image;if(n){for(let n=e;n<=t;n++)if(a.get(n,r))return!0}else for(let n=e;n<=t;n++)if(a.get(r,n))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class de{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let a=!0;for(let e=0;e<t.length&&a;e+=2){const o=Math.floor(t[e]),i=Math.floor(t[e+1]);if(o<-1||o>r||i<-1||i>n)throw new O;a=!1,-1===o?(t[e]=0,a=!0):o===r&&(t[e]=r-1,a=!0),-1===i?(t[e+1]=0,a=!0):i===n&&(t[e+1]=n-1,a=!0)}a=!0;for(let e=t.length-2;e>=0&&a;e-=2){const o=Math.floor(t[e]),i=Math.floor(t[e+1]);if(o<-1||o>r||i<-1||i>n)throw new O;a=!1,-1===o?(t[e]=0,a=!0):o===r&&(t[e]=r-1,a=!0),-1===i?(t[e+1]=0,a=!0):i===n&&(t[e+1]=n-1,a=!0)}}}class fe{constructor(e,t,r,n,a,o,i,s,c){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=a,this.a32=o,this.a13=i,this.a23=s,this.a33=c}static quadrilateralToQuadrilateral(e,t,r,n,a,o,i,s,c,l,u,d,f,h,p,m){const g=fe.quadrilateralToSquare(e,t,r,n,a,o,i,s);return fe.squareToQuadrilateral(c,l,u,d,f,h,p,m).times(g)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],f=e[d+1],h=a*t+s*f+u;e[d]=(r*t+o*f+c)/h,e[d+1]=(n*t+i*f+l)/h}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,d=e.length;for(let f=0;f<d;f++){const d=e[f],h=t[f],p=a*d+s*h+u;e[f]=(r*d+o*h+c)/p,t[f]=(n*d+i*h+l)/p}}static squareToQuadrilateral(e,t,r,n,a,o,i,s){const c=e-r+a-i,l=t-n+o-s;if(0===c&&0===l)return new fe(r-e,a-r,e,n-t,o-n,t,0,0,1);{const u=r-a,d=i-a,f=n-o,h=s-o,p=u*h-d*f,m=(c*h-d*l)/p,g=(u*l-c*f)/p;return new fe(r-e+m*r,i-e+g*i,e,n-t+m*n,s-t+g*s,t,m,g,1)}}static quadrilateralToSquare(e,t,r,n,a,o,i,s){return fe.squareToQuadrilateral(e,t,r,n,a,o,i,s).buildAdjoint()}buildAdjoint(){return new fe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new fe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class he extends de{sampleGrid(e,t,r,n,a,o,i,s,c,l,u,d,f,h,p,m,g,v,x){const b=fe.quadrilateralToQuadrilateral(n,a,o,i,s,c,l,u,d,f,h,p,m,g,v,x);return this.sampleGridWithTransform(e,t,r,b)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new O;const a=new I(t,r),o=new Float32Array(2*t);for(let t=0;t<r;t++){const r=o.length,i=t+.5;for(let e=0;e<r;e+=2)o[e]=e/2+.5,o[e+1]=i;n.transformPoints(o),de.checkAndNudgePoints(e,o);try{for(let n=0;n<r;n+=2)e.get(Math.floor(o[n]),Math.floor(o[n+1]))&&a.set(n/2,t)}catch(e){throw new O}}return a}}class pe{static setGridSampler(e){pe.gridSampler=e}static getInstance(){return pe.gridSampler}}pe.gridSampler=new he;class me{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ge{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let e=r[0];r[0]=r[2],r[2]=e}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new le(n,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new O;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let e=0;e<4;e++){let t=r[(this.shift+e)%4];this.compact?(n<<=7,n+=t>>1&127):(n<<=10,n+=(t>>2&992)+(t>>1&31))}let a=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))}getRotation(e,t){let r=0;e.forEach(((e,n,a)=>{r=(e>>t-2<<1)+(1&e)+(r<<3)})),r=((1&r)<<11)+(r>>1);for(let e=0;e<4;e++)if(b.bitCount(r^this.EXPECTED_CORNER_BITS[e])<=2)return e;throw new O}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let a=r-n,o=new Int32Array(r);for(let t=r-1;t>=0;--t)o[t]=15&e,e>>=4;try{new ne(ee.AZTEC_PARAM).decode(o,a)}catch(e){throw new O}let i=0;for(let e=0;e<n;e++)i=(i<<4)+o[e];return i}getBullsEyeCorners(e){let t=e,r=e,n=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,o,1,-1),i=this.getFirstDifferent(r,o,1,1),s=this.getFirstDifferent(n,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){let r=this.distancePoint(c,e)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(r<.75||r>1.25||!this.isWhiteOrBlackRectangle(e,i,s,c))break}t=e,r=i,n=s,a=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new O;this.compact=5===this.nbCenterLayers;let i=new se(t.getX()+.5,t.getY()-.5),s=new se(r.getX()+.5,r.getY()+.5),c=new se(n.getX()-.5,n.getY()+.5),l=new se(a.getX()-.5,a.getY()-.5);return this.expandSquare([i,s,c,l],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let a=new ue(this.image).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch(a){let o=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new me(o+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(o+7,i+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new me(o-7,i+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new me(o-7,i-7),!1,-1,-1).toResultPoint()}let a=oe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=oe.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let i=new ue(this.image,15,a,o).detect();e=i[0],t=i[1],r=i[2],n=i[3]}catch(i){e=this.getFirstDifferent(new me(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(a+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new me(a-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new me(a-7,o-7),!1,-1,-1).toResultPoint()}return a=oe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=oe.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new me(a,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,a){let o=pe.getInstance(),i=this.getDimension(),s=i/2-this.nbCenterLayers,c=i/2+this.nbCenterLayers;return o.sampleGrid(e,i,i,s,s,c,s,c,c,s,c,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY())}sampleLine(e,t,r){let n=0,a=this.distanceResultPoint(e,t),o=a/r,i=e.getX(),s=e.getY(),c=o*(t.getX()-e.getX())/a,l=o*(t.getY()-e.getY())/a;for(let e=0;e<r;e++)this.image.get(oe.round(i+e*c),oe.round(s+e*l))&&(n|=1<<r-e-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let a=3;e=new me(e.getX()-a,e.getY()+a),t=new me(t.getX()-a,t.getY()-a),r=new me(r.getX()+a,r.getY()-a),n=new me(n.getX()+a,n.getY()+a);let o=this.getColor(n,e);if(0===o)return!1;let i=this.getColor(e,t);return i===o&&(i=this.getColor(t,r),i===o&&(i=this.getColor(r,n),i===o))}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,o=0,i=e.getX(),s=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(r);for(let e=0;e<l;e++)i+=n,s+=a,this.image.get(oe.round(i),oe.round(s))!==c&&o++;let u=o/r;return u>.1&&u<.9?0:u<=.1===c?1:-1}getFirstDifferent(e,t,r,n){let a=e.getX()+r,o=e.getY()+n;for(;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r,o+=n;for(a-=r,o-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=n;return o-=n,new me(a,o)}expandSquare(e,t,r){let n=r/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),i=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,c=new se(i+n*a,s+n*o),l=new se(i-n*a,s-n*o);return a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),i=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[c,new se(i+n*a,s+n*o),l,new se(i-n*a,s-n*o)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=oe.round(e.getX()),r=oe.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class ve{decode(e,t=null){let r=null,n=new ge(e.getBlackMatrix()),a=null,o=null;try{let e=n.detectMirror(!1);a=e.getPoints(),this.reportFoundResultPoints(t,a),o=(new ae).decode(e)}catch(e){r=e}if(null==o)try{let e=n.detectMirror(!0);a=e.getPoints(),this.reportFoundResultPoints(t,a),o=(new ae).decode(e)}catch(e){if(null!=r)throw r;throw e}let i=new U(o.getText(),o.getRawBytes(),o.getNumBits(),a,V.AZTEC,m.currentTimeMillis()),s=o.getByteSegments();null!=s&&i.putMetadata($.BYTE_SEGMENTS,s);let c=o.getECLevel();return null!=c&&i.putMetadata($.ERROR_CORRECTION_LEVEL,c),i}reportFoundResultPoints(e,t){if(null!=e){let r=e.get(w.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach(((e,t,n)=>{r.foundPossibleResultPoint(e)}))}}reset(){}}class xe extends B{constructor(e=500){super(new ve,e)}}class be{decode(e,t){try{return this.doDecode(e,t)}catch(r){if(t&&!0===t.get(w.TRY_HARDER)&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),a=n.getResultMetadata();let o=270;null!==a&&!0===a.get($.ORIENTATION)&&(o+=a.get($.ORIENTATION)%360),n.putMetadata($.ORIENTATION,o);const i=n.getResultPoints();if(null!==i){const e=r.getHeight();for(let t=0;t<i.length;t++)i[t]=new se(e-i[t].getY()-1,i[t].getX())}return n}throw new O}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let a=new y(r);const o=t&&!0===t.get(w.TRY_HARDER),i=Math.max(1,n>>(o?8:5));let s;s=o?n:15;const c=Math.trunc(n/2);for(let o=0;o<s;o++){const s=Math.trunc((o+1)/2),l=c+i*(1&o?-s:s);if(l<0||l>=n)break;try{a=e.getBlackRow(l,a)}catch(e){continue}for(let e=0;e<2;e++){if(1===e&&(a.reverse(),t&&!0===t.get(w.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,r)=>e.set(r,t))),e.delete(w.NEED_RESULT_POINT_CALLBACK),t=e}try{const n=this.decodeRow(l,a,t);if(1===e){n.putMetadata($.ORIENTATION,180);const e=n.getResultPoints();null!==e&&(e[0]=new se(r-e[0].getX()-1,e[0].getY()),e[1]=new se(r-e[1].getX()-1,e[1].getY()))}return n}catch(e){}}}throw new O}static recordPattern(e,t,r){const n=r.length;for(let e=0;e<n;e++)r[e]=0;const a=e.getSize();if(t>=a)throw new O;let o=!e.get(t),i=0,s=t;for(;s<a;){if(e.get(s)!==o)r[i]++;else{if(++i===n)break;r[i]=1,o=!o}s++}if(i!==n&&(i!==n-1||s!==a))throw new O}static recordPatternInReverse(e,t,r){let n=r.length,a=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==a&&(n--,a=!a);if(n>=0)throw new O;be.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let a=0,o=0;for(let r=0;r<n;r++)a+=e[r],o+=t[r];if(a<o)return Number.POSITIVE_INFINITY;const i=a/o;r*=i;let s=0;for(let a=0;a<n;a++){const n=e[a],o=t[a]*i,c=n>o?n-o:o-n;if(c>r)return Number.POSITIVE_INFINITY;s+=c}return s/a}}class ye extends be{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,a=Int32Array.from([0,0,0,0,0,0]),o=r,i=!1;const s=6;for(let c=r;c<t;c++)if(e.get(c)!==i)a[n]++;else{if(n===s-1){let t=ye.MAX_AVG_VARIANCE,r=-1;for(let e=ye.CODE_START_A;e<=ye.CODE_START_C;e++){const n=be.patternMatchVariance(a,ye.CODE_PATTERNS[e],ye.MAX_INDIVIDUAL_VARIANCE);n<t&&(t=n,r=e)}if(r>=0&&e.isRange(Math.max(0,o-(c-o)/2),o,!1))return Int32Array.from([o,c,r]);o+=a[0]+a[1],a=a.slice(2,a.length-1),a[n-1]=0,a[n]=0,n--}else n++;a[n]=1,i=!i}throw new O}static decodeCode(e,t,r){be.recordPattern(e,r,t);let n=ye.MAX_AVG_VARIANCE,a=-1;for(let e=0;e<ye.CODE_PATTERNS.length;e++){const r=ye.CODE_PATTERNS[e],o=this.patternMatchVariance(t,r,ye.MAX_INDIVIDUAL_VARIANCE);o<n&&(n=o,a=e)}if(a>=0)return a;throw new O}decodeRow(e,t,r){const n=r&&!0===r.get(w.ASSUME_GS1),a=ye.findStartPattern(t),o=a[2];let i=0;const s=new Uint8Array(20);let c;switch(s[i++]=o,o){case ye.CODE_START_A:c=ye.CODE_CODE_A;break;case ye.CODE_START_B:c=ye.CODE_CODE_B;break;case ye.CODE_START_C:c=ye.CODE_CODE_C;break;default:throw new N}let l=!1,u=!1,d="",f=a[0],p=a[1];const m=Int32Array.from([0,0,0,0,0,0]);let g=0,v=0,x=o,b=0,y=!0,j=!1,_=!1;for(;!l;){const e=u;switch(u=!1,g=v,v=ye.decodeCode(t,m,p),s[i++]=v,v!==ye.CODE_STOP&&(y=!0),v!==ye.CODE_STOP&&(b++,x+=b*v),f=p,p+=m.reduce(((e,t)=>e+t),0),v){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new N}switch(c){case ye.CODE_CODE_A:if(v<64)d+=_===j?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),_=!1;else if(v<96)d+=_===j?String.fromCharCode(v-64):String.fromCharCode(v+64),_=!1;else switch(v!==ye.CODE_STOP&&(y=!1),v){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case ye.CODE_SHIFT:u=!0,c=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:c=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:c=ye.CODE_CODE_C;break;case ye.CODE_STOP:l=!0}break;case ye.CODE_CODE_B:if(v<96)d+=_===j?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),_=!1;else switch(v!==ye.CODE_STOP&&(y=!1),v){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case ye.CODE_SHIFT:u=!0,c=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:c=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:c=ye.CODE_CODE_C;break;case ye.CODE_STOP:l=!0}break;case ye.CODE_CODE_C:if(v<100)v<10&&(d+="0"),d+=v;else switch(v!==ye.CODE_STOP&&(y=!1),v){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_CODE_A:c=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:c=ye.CODE_CODE_B;break;case ye.CODE_STOP:l=!0}}e&&(c=c===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const C=p-f;if(p=t.getNextUnset(p),!t.isRange(p,Math.min(t.getSize(),p+(p-f)/2),!1))throw new O;if(x-=b*g,x%103!==g)throw new h;const E=d.length;if(0===E)throw new O;E>0&&y&&(d=c===ye.CODE_CODE_C?d.substring(0,E-2):d.substring(0,E-1));const S=(a[1]+a[0])/2,A=f+C/2,I=s.length,T=new Uint8Array(I);for(let e=0;e<I;e++)T[e]=s[e];const P=[new se(S,e),new se(A,e)];return new U(d,T,0,P,V.CODE_128,(new Date).getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class je extends be{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let a,o,i=je.findAsteriskPattern(t,n),s=t.getNextSet(i[1]),c=t.getSize();do{je.recordPattern(t,s,n);let e=je.toNarrowWidePattern(n);if(e<0)throw new O;a=je.patternToChar(e),this.decodeRowResult+=a,o=s;for(let e of n)s+=e;s=t.getNextSet(s)}while("*"!==a);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let l,u=0;for(let e of n)u+=e;if(s!==c&&2*(s-o-u)<u)throw new O;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let r=0;r<e;r++)t+=je.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(r));if(this.decodeRowResult.charAt(e)!==je.ALPHABET_STRING.charAt(t%43))throw new h;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new O;l=this.extendedMode?je.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(i[1]+i[0])/2,f=o+u/2;return new U(l,null,0,[new se(d,e),new se(f,e)],V.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),a=0,o=n,i=!1,s=t.length;for(let c=n;c<r;c++)if(e.get(c)!==i)t[a]++;else{if(a===s-1){if(this.toNarrowWidePattern(t)===je.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((c-o)/2)),o,!1))return[o,c];o+=t[0]+t[1],t.copyWithin(0,2,2+a-1),t[a-1]=0,t[a]=0,a--}else a++;t[a]=1,i=!i}throw new O}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let a=2147483647;for(let t of e)t<a&&t>n&&(a=t);n=a,t=0;let o=0,i=0;for(let a=0;a<r;a++){let s=e[a];s>n&&(i|=1<<r-1-a,t++,o+=s)}if(3===t){for(let a=0;a<r&&t>0;a++){let r=e[a];if(r>n&&(t--,2*r>=o))return-1}return i}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<je.CHARACTER_ENCODINGS.length;t++)if(je.CHARACTER_ENCODINGS[t]===e)return je.ALPHABET_STRING.charAt(t);if(e===je.ASTERISK_ENCODING)return"*";throw new O}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let t=e.charAt(n);if("+"===t||"$"===t||"%"===t||"/"===t){let a=e.charAt(n+1),o="\0";switch(t){case"+":if(!(a>="A"&&a<="Z"))throw new N;o=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new N;o=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")o=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")o=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")o=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")o=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)o="\0";else if("V"===a)o="@";else if("W"===a)o="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new N;o=""}break;case"/":if(a>="A"&&a<="O")o=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new N;o=":"}}r+=o,n++}else r+=t}return r}}je.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",je.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],je.ASTERISK_ENCODING=148;class we extends be{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),a=this.decodeEnd(t),o=new A;we.decodeMiddle(t,n[1],a[0],o);let i=o.toString(),s=null;null!=r&&(s=r.get(w.ALLOWED_LENGTHS)),null==s&&(s=we.DEFAULT_ALLOWED_LENGTHS);let c=i.length,l=!1,u=0;for(let e of s){if(c===e){l=!0;break}e>u&&(u=e)}if(!l&&c>u&&(l=!0),!l)throw new N;const d=[new se(n[1],e),new se(a[0],e)];return new U(i,null,0,d,V.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let a=new Int32Array(10),o=new Int32Array(5),i=new Int32Array(5);for(a.fill(0),o.fill(0),i.fill(0);t<r;){be.recordPattern(e,t,a);for(let e=0;e<5;e++){let t=2*e;o[e]=a[t],i[e]=a[t+1]}let r=we.decodeDigit(o);n.append(r.toString()),r=this.decodeDigit(i),n.append(r.toString()),a.forEach((function(e){t+=e}))}}decodeStart(e){let t=we.skipWhiteSpace(e),r=we.findGuardPattern(e,t,we.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new O}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new O;return r}decodeEnd(e){e.reverse();try{let t,r=we.skipWhiteSpace(e);try{t=we.findGuardPattern(e,r,we.END_PATTERN_REVERSED[0])}catch(n){n instanceof O&&(t=we.findGuardPattern(e,r,we.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,t[0]);let n=t[0];return t[0]=e.getSize()-t[1],t[1]=e.getSize()-n,t}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,a=new Int32Array(n),o=e.getSize(),i=!1,s=0,c=t;a.fill(0);for(let l=t;l<o;l++)if(e.get(l)!==i)a[s]++;else{if(s===n-1){if(be.patternMatchVariance(a,r,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return[c,l];c+=a[0]+a[1],m.arraycopy(a,2,a,0,s-1),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,i=!i}throw new O}static decodeDigit(e){let t=we.MAX_AVG_VARIANCE,r=-1,n=we.PATTERNS.length;for(let a=0;a<n;a++){let n=we.PATTERNS[a],o=be.patternMatchVariance(e,n,we.MAX_INDIVIDUAL_VARIANCE);o<t?(t=o,r=a):o===t&&(r=-1)}if(r>=0)return r%10;throw new O}}we.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],we.MAX_AVG_VARIANCE=.38,we.MAX_INDIVIDUAL_VARIANCE=.5,we.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],we.START_PATTERN=Int32Array.from([1,1,1,1]),we.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ne extends be{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),t=Ne.findGuardPattern(e,n,!1,this.START_END_PATTERN,a);let o=t[0];n=t[1];let i=o-(n-o);i>=0&&(r=e.isRange(i,o,!1))}return t}static checkChecksum(e){return Ne.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Ne.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new N;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new N;r+=t}return(1e3-r)%10}static decodeEnd(e,t){return Ne.findGuardPattern(e,t,!1,Ne.START_END_PATTERN,new Int32Array(Ne.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,a){let o=e.getSize(),i=0,s=t=r?e.getNextUnset(t):e.getNextSet(t),c=n.length,l=r;for(let r=t;r<o;r++)if(e.get(r)!==l)a[i]++;else{if(i===c-1){if(be.patternMatchVariance(a,n,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return Int32Array.from([s,r]);s+=a[0]+a[1];let e=a.slice(2,a.length-1);for(let t=0;t<i-1;t++)a[t]=e[t];a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,l=!l}throw new O}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let a=this.MAX_AVG_VARIANCE,o=-1,i=n.length;for(let e=0;e<i;e++){let r=n[e],i=be.patternMatchVariance(t,r,Ne.MAX_INDIVIDUAL_VARIANCE);i<a&&(a=i,o=e)}if(o>=0)return o;throw new O}}Ne.MAX_AVG_VARIANCE=.48,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.START_END_PATTERN=Int32Array.from([1,1,1]),Ne.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ne.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ne.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _e{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),o=n.toString(),i=_e.parseExtensionString(o),s=[new se((r[0]+r[1])/2,e),new se(a,e)],c=new U(o,null,0,s,V.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&c.putAllMetadata(i),c}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<5&&o<a;t++){let a=Ne.decodeDigit(e,n,o,Ne.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<4-t),4!==t&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(5!==r.length)throw new O;let s=this.determineCheckDigit(i);if(_e.extensionChecksum(r.toString())!==s)throw new O;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new O}static parseExtensionString(e){if(5!==e.length)return null;let t=_e.parseExtension5String(e);return null==t?null:new Map([[$.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class Ce{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),o=n.toString(),i=Ce.parseExtensionString(o),s=[new se((r[0]+r[1])/2,e),new se(a,e)],c=new U(o,null,0,s,V.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&c.putAllMetadata(i),c}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<2&&o<a;t++){let a=Ne.decodeDigit(e,n,o,Ne.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<1-t),1!==t&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(2!==r.length)throw new O;if(parseInt(r.toString())%4!==i)throw new O;return o}static parseExtensionString(e){return 2!==e.length?null:new Map([[$.ISSUE_NUMBER,parseInt(e)]])}}class Ee{static decodeRow(e,t,r){let n=Ne.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new _e).decodeRow(e,t,n)}catch(r){return(new Ce).decodeRow(e,t,n)}}}Ee.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Se extends Ne{constructor(){super(),this.decodeRowStringBuffer="",Se.L_AND_G_PATTERNS=Se.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Se.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[t.length-e-1];Se.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Se.findStartGuardPattern(t),a=null==r?null:r.get(w.NEED_RESULT_POINT_CALLBACK);if(null!=a){const t=new se((n[0]+n[1])/2,e);a.foundPossibleResultPoint(t)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),i=o.rowOffset,s=o.resultString;if(null!=a){const t=new se(i,e);a.foundPossibleResultPoint(t)}let c=this.decodeEnd(t,i);if(null!=a){const t=new se((c[0]+c[1])/2,e);a.foundPossibleResultPoint(t)}let l=c[1],u=l+(l-c[0]);if(u>=t.getSize()||!t.isRange(l,u,!1))throw new O;let d=s.toString();if(d.length<8)throw new N;if(!Se.checkChecksum(d))throw new h;let f=(n[1]+n[0])/2,p=(c[1]+c[0])/2,m=this.getBarcodeFormat(),g=[new se(f,e),new se(p,e)],v=new U(d,null,0,g,m,(new Date).getTime()),x=0;try{let r=Ee.decodeRow(e,t,c[1]);v.putMetadata($.UPC_EAN_EXTENSION,r.getText()),v.putAllMetadata(r.getResultMetadata()),v.addResultPoints(r.getResultPoints()),x=r.getText().length}catch(e){}let b=null==r?null:r.get(w.ALLOWED_EAN_EXTENSIONS);if(null!=b){let e=!1;for(let t in b)if(x.toString()===t){e=!0;break}if(!e)throw new O}return v}decodeEnd(e,t){return Se.findGuardPattern(e,t,!1,Se.START_END_PATTERN,new Int32Array(Se.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Se.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Se.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new N;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new N;r+=t}return(1e3-r)%10}}class Ae extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<6&&o<a;t++){let a=Se.decodeDigit(e,n,o,Se.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<5-t)}r=Ae.determineFirstDigit(r,i),o=Se.findGuardPattern(e,o,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<6&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return V.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new O}}Ae.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ie extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1];for(let t=0;t<4&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}o=Se.findGuardPattern(e,o,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<4&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return V.EAN_8}}class Oe extends Se{constructor(){super(...arguments),this.ean13Reader=new Ae}getBarcodeFormat(){return V.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new U(t.substring(1),null,null,e.getResultPoints(),V.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new O}reset(){this.ean13Reader.reset()}}class Te extends Se{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map((e=>e));n[0]=0,n[1]=0,n[2]=0,n[3]=0;const a=e.getSize();let o=t[1],i=0;for(let t=0;t<6&&o<a;t++){const a=Te.decodeDigit(e,n,o,Te.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<5-t)}return{rowOffset:o,resultString:Te.determineNumSysAndCheckDigit(r,i)}}decodeEnd(e,t){return Te.findGuardPatternWithoutCounters(e,t,!0,Te.MIDDLE_END_PATTERN)}checkChecksum(e){return Se.checkChecksum(Te.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return String.fromCharCode("0".charCodeAt(0)+r)+e+String.fromCharCode("0".charCodeAt(0)+n);throw O.getNotFoundInstance()}getBarcodeFormat(){return V.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),r=new A;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Te.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Te.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pe extends be{constructor(e){super();let r=null==e?null:e.get(w.POSSIBLE_FORMATS),n=[];t(r)?(n.push(new Ae),n.push(new Oe),n.push(new Ie),n.push(new Te)):(r.indexOf(V.EAN_13)>-1&&n.push(new Ae),r.indexOf(V.UPC_A)>-1&&n.push(new Oe),r.indexOf(V.EAN_8)>-1&&n.push(new Ie),r.indexOf(V.UPC_E)>-1&&n.push(new Te)),this.readers=n}decodeRow(e,t,r){for(let n of this.readers)try{const a=n.decodeRow(e,t,r),o=a.getBarcodeFormat()===V.EAN_13&&"0"===a.getText().charAt(0),i=null==r?null:r.get(w.POSSIBLE_FORMATS),s=null==i||i.includes(V.UPC_A);if(o&&s){const e=a.getRawBytes(),t=new U(a.getText().substring(1),e,e?e.length:null,a.getResultPoints(),V.UPC_A);return t.putAllMetadata(a.getResultMetadata()),t}return a}catch(e){}throw new O}reset(){for(let e of this.readers)e.reset()}}class ke extends be{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(be.patternMatchVariance(e,t[r],ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return r;throw new O}static count(e){return oe.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]>n&&(n=t[a],r=a);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]<n&&(n=t[a],r=a);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=ke.MIN_FINDER_PATTERN_RATIO&&r<=ke.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n of e)n>r&&(r=n),n<t&&(t=n);return r<10*t}return!1}}ke.MAX_AVG_VARIANCE=.2,ke.MAX_INDIVIDUAL_VARIANCE=.45,ke.MIN_FINDER_PATTERN_RATIO=9.5/12,ke.MAX_FINDER_PATTERN_RATIO=12.5/14;class De{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof De))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Me{constructor(e,t,r,n,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new se(r,a)),this.resultPoints.push(new se(n,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Me))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Re{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let t of e)n+=t;let a=0,o=0,i=e.length;for(let s=0;s<i-1;s++){let c;for(c=1,o|=1<<s;c<e[s];c++,o&=~(1<<s)){let e=Re.combins(n-c-1,i-s-2);if(r&&0===o&&n-c-(i-s-1)>=i-s-1&&(e-=Re.combins(n-c-(i-s),i-s-2)),i-s-1>1){let r=0;for(let e=n-c-(i-s-2);e>t;e--)r+=Re.combins(n-c-e-1,i-s-3);e-=r*(i-1-s)}else n-c>t&&e--;a+=e}n-=c}return a}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let a=1,o=1;for(let t=e;t>r;t--)a*=t,o<=n&&(a/=o,o++);for(;o<=n;)a/=o,o++;return a}}class Fe{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new y(12*t),n=0,a=e[0].getRightChar().getValue();for(let e=11;e>=0;--e)a&1<<e&&r.set(n),n++;for(let t=1;t<e.length;++t){let a=e[t],o=a.getLeftChar().getValue();for(let e=11;e>=0;--e)o&1<<e&&r.set(n),n++;if(null!=a.getRightChar()){let e=a.getRightChar().getValue();for(let t=11;t>=0;--t)e&1<<t&&r.set(n),n++}}return r}}class Le{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Be{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ue extends Be{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class ze extends Be{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ve extends Be{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new N;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ve.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ve.FNC1}isAnyFNC1(){return this.firstDigit===Ve.FNC1||this.secondDigit===Ve.FNC1}}Ve.FNC1=10;class Ge{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new O;let t=e.substring(0,2);for(let r of Ge.TWO_DIGIT_DATA_LENGTH)if(r[0]===t)return r[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(2,r[2],e):Ge.processFixedAI(2,r[1],e);if(e.length<3)throw new O;let r=e.substring(0,3);for(let t of Ge.THREE_DIGIT_DATA_LENGTH)if(t[0]===r)return t[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(3,t[2],e):Ge.processFixedAI(3,t[1],e);for(let t of Ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(t[0]===r)return t[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(4,t[2],e):Ge.processFixedAI(4,t[1],e);if(e.length<4)throw new O;let n=e.substring(0,4);for(let t of Ge.FOUR_DIGIT_DATA_LENGTH)if(t[0]===n)return t[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(4,t[2],e):Ge.processFixedAI(4,t[1],e);throw new O}static processFixedAI(e,t,r){if(r.length<e)throw new O;let n=r.substring(0,e);if(r.length<e+t)throw new O;let a=r.substring(e,e+t),o=r.substring(e+t),i="("+n+")"+a,s=Ge.parseFieldsInGeneralPurpose(o);return null==s?i:i+s}static processVariableAI(e,t,r){let n,a=r.substring(0,e);n=r.length<e+t?r.length:e+t;let o=r.substring(e,n),i=r.substring(n),s="("+a+")"+o,c=Ge.parseFieldsInGeneralPurpose(i);return null==c?s:s+c}}Ge.VARIABLE_LENGTH=[],Ge.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ge.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ge.VARIABLE_LENGTH,20],["22",Ge.VARIABLE_LENGTH,29],["30",Ge.VARIABLE_LENGTH,8],["37",Ge.VARIABLE_LENGTH,8],["90",Ge.VARIABLE_LENGTH,30],["91",Ge.VARIABLE_LENGTH,30],["92",Ge.VARIABLE_LENGTH,30],["93",Ge.VARIABLE_LENGTH,30],["94",Ge.VARIABLE_LENGTH,30],["95",Ge.VARIABLE_LENGTH,30],["96",Ge.VARIABLE_LENGTH,30],["97",Ge.VARIABLE_LENGTH,3],["98",Ge.VARIABLE_LENGTH,30],["99",Ge.VARIABLE_LENGTH,30]],Ge.THREE_DIGIT_DATA_LENGTH=[["240",Ge.VARIABLE_LENGTH,30],["241",Ge.VARIABLE_LENGTH,30],["242",Ge.VARIABLE_LENGTH,6],["250",Ge.VARIABLE_LENGTH,30],["251",Ge.VARIABLE_LENGTH,30],["253",Ge.VARIABLE_LENGTH,17],["254",Ge.VARIABLE_LENGTH,20],["400",Ge.VARIABLE_LENGTH,30],["401",Ge.VARIABLE_LENGTH,30],["402",17],["403",Ge.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ge.VARIABLE_LENGTH,20],["421",Ge.VARIABLE_LENGTH,15],["422",3],["423",Ge.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ge.VARIABLE_LENGTH,15],["391",Ge.VARIABLE_LENGTH,18],["392",Ge.VARIABLE_LENGTH,15],["393",Ge.VARIABLE_LENGTH,18],["703",Ge.VARIABLE_LENGTH,30]],Ge.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ge.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ge.VARIABLE_LENGTH,20],["8003",Ge.VARIABLE_LENGTH,30],["8004",Ge.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ge.VARIABLE_LENGTH,30],["8008",Ge.VARIABLE_LENGTH,12],["8018",18],["8020",Ge.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ge.VARIABLE_LENGTH,70],["8200",Ge.VARIABLE_LENGTH,70]];class He{constructor(e){this.buffer=new A,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let t=this.decodeGeneralPurposeField(r,n),a=Ge.parseFieldsInGeneralPurpose(t.getNewString());if(null!=a&&e.append(a),n=t.isRemaining()?""+t.getRemainingValue():null,r===t.getNewPosition())break;r=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new Ve(this.information.getSize(),0===t?Ve.FNC1:t-1,Ve.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new Ve(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return He.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let a=0;a<r;++a)e.get(t+a)&&(n|=1<<r-a-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new ze(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new ze(this.current.getPosition(),this.buffer.toString()):new ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Le(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Le(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ue(e+7,""+(n+1));if(n>=90&&n<116)return new Ue(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new N}return new Ue(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ue(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new re("Decoding invalid alphanumeric value: "+n)}return new Ue(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class qe{constructor(e){this.information=e,this.generalDecoder=new He(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class We extends qe{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n)}We.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let a=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=1&n?a:3*a}r=10-r%10,10===r&&(r=0),e.append(r)}}We.GTIN_SIZE=40;class Ye extends We{constructor(e){super(e)}parseInformation(){let e=new A;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ye.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Ye.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Ye.HEADER_SIZE+44)}}Ye.HEADER_SIZE=4;class Xe extends qe{constructor(e){super(e)}parseInformation(){let e=new A;return this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE)}}Xe.HEADER_SIZE=5;class $e extends We{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let a=this.checkWeight(n),o=1e5;for(let t=0;t<5;++t)a/o==0&&e.append("0"),o/=10;e.append(a)}}class Qe extends $e{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+$e.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new O;let e=new A;return this.encodeCompressedGtin(e,Qe.HEADER_SIZE),this.encodeCompressedWeight(e,Qe.HEADER_SIZE+$e.GTIN_SIZE,Qe.WEIGHT_SIZE),e.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class Ze extends Qe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ke extends Qe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends We{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+We.GTIN_SIZE)throw new O;let e=new A;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+We.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+We.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends We{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+We.GTIN_SIZE)throw new O;let e=new A;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+We.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+We.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+We.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends $e{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new O;let e=new A;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let a=r%12+1;r/=12;let o=r;o/10==0&&e.append("0"),e.append(o),a/10==0&&e.append("0"),e.append(a),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function rt(e){try{if(e.get(1))return new Ye(e);if(!e.get(2))return new Xe(e);switch(He.extractNumericValueFromBitArray(e,1,4)){case 4:return new Ze(e);case 5:return new Ke(e)}switch(He.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(He.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new re("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class nt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof nt&&nt.equalsOrNull(e.leftchar,t.leftchar)&&nt.equalsOrNull(e.rightchar,t.rightchar)&&nt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:nt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class at{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof at&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach(((e,n)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)}))})),r}}class ot extends ke{constructor(e){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(e,t))}catch(e){this.verbose&&console.log(e)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(e){if(e instanceof O){if(!this.pairs.length)throw new O;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new O}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(e){this.verbose&&console.log(e)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let t of e)this.pairs.push(t.getPairs());if(this.pairs.push(t.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let n=new Array(e);n.push(t);try{return this.checkRows(n,r+1)}catch(e){this.verbose&&console.log(e)}}throw new O}static isValidSequence(e){for(let t of ot.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,a=!1;for(;r<this.rows.length;){let t=this.rows[r];if(t.getRowNumber()>e){a=t.isEquivalent(this.pairs);break}n=t.isEquivalent(this.pairs),r++}a||n||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new at(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let t of r.getPairs())for(let r of e)if(nt.equals(t,r))break}static isPartialRow(e,t){for(let r of t){let t=!0;for(let n of e){let e=!1;for(let t of r.getPairs())if(n.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=rt(Fe.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),a=[r[0],r[1],n[0],n[1]];return new U(t,null,null,a,V.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),a=2;for(let e=1;e<this.pairs.size();++e){let t=this.pairs.get(e);n+=t.getLeftChar().getChecksumPortion(),a++;let r=t.getRightChar();null!=r&&(n+=r.getChecksumPortion(),a++)}return n%=211,211*(a-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,a=t.length%2==0;this.startFromEven&&(a=!a);let o=!0,i=-1;do{this.findNextPair(e,t,i),n=this.parseFoundFinderPattern(e,r,a),null==n?i=ot.getNextSecondBar(e,this.startEnd[0]):o=!1}while(o);let s,c=this.decodeDataCharacter(e,n,a,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new O;try{s=this.decodeDataCharacter(e,n,a,!1)}catch(e){s=null,this.verbose&&console.log(e)}return new nt(c,s,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a,o=e.getSize();a=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let i=t.length%2!=0;this.startFromEven&&(i=!i);let s=!1;for(;a<o&&(s=!e.get(a),s);)a++;let c=0,l=a;for(let t=a;t<o;t++)if(e.get(t)!=s)n[c]++;else{if(3==c){if(i&&ot.reverseCounters(n),ot.isFinderPattern(n))return this.startEnd[0]=l,void(this.startEnd[1]=t);i&&ot.reverseCounters(n),l+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new O}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,a,o;if(r){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,n=this.startEnd[0]-t,a=t,o=this.startEnd[1]}else a=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let i,s=this.getDecodeFinderCounters();m.arraycopy(s,0,s,1,s.length-1),s[0]=n;try{i=this.parseFinderValue(s,ot.FINDER_PATTERNS)}catch(e){return null}return new Me(i,[a,o],a,o,t)}decodeDataCharacter(e,t,r,n){let a=this.getDataCharacterCounters();for(let e=0;e<a.length;e++)a[e]=0;if(n)ot.recordPatternInReverse(e,t.getStartEnd()[0],a);else{ot.recordPattern(e,t.getStartEnd()[1],a);for(let e=0,t=a.length-1;e<t;e++,t--){let r=a[e];a[e]=a[t],a[t]=r}}let o=17,i=oe.sum(new Int32Array(a))/o,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(i-s)/s>.3)throw new O;let c=this.getOddCounts(),l=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let e=0;e<a.length;e++){let t=1*a[e]/i,r=t+.5;if(r<1){if(t<.3)throw new O;r=1}else if(r>8){if(t>8.7)throw new O;r=8}let n=e/2;1&e?(l[n]=r,d[n]=t-r):(c[n]=r,u[n]=t-r)}this.adjustOddEvenCounts(o);let f=4*t.getValue()+(r?0:2)+(n?0:1)-1,h=0,p=0;for(let e=c.length-1;e>=0;e--){if(ot.isNotA1left(t,r,n)){let t=ot.WEIGHTS[f][2*e];p+=c[e]*t}h+=c[e]}let m=0;for(let e=l.length-1;e>=0;e--)if(ot.isNotA1left(t,r,n)){let t=ot.WEIGHTS[f][2*e+1];m+=l[e]*t}let g=p+m;if(1&h||h>13||h<4)throw new O;let v=(13-h)/2,x=ot.SYMBOL_WIDEST[v],b=9-x,y=Re.getRSSvalue(c,x,!0),j=Re.getRSSvalue(l,b,!1),w=ot.EVEN_TOTAL_SUBSET[v],N=ot.GSUM[v];return new De(y*w+j+N,g)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=oe.sum(new Int32Array(this.getOddCounts())),r=oe.sum(new Int32Array(this.getEvenCounts())),n=!1,a=!1;t>13?a=!0:t<4&&(n=!0);let o=!1,i=!1;r>13?i=!0:r<4&&(o=!0);let s=t+r-e,c=!(1&~t),l=!(1&r);if(1==s)if(c){if(l)throw new O;a=!0}else{if(!l)throw new O;i=!0}else if(-1==s)if(c){if(l)throw new O;n=!0}else{if(!l)throw new O;o=!0}else{if(0!=s)throw new O;if(c){if(!l)throw new O;t<r?(n=!0,i=!0):(a=!0,o=!0)}else if(l)throw new O}if(n){if(a)throw new O;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(i)throw new O;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}i&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class it extends De{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends ke{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);st.addOrTally(this.possibleLeftPairs,n),t.reverse();let a=this.decodePair(t,!0,e,r);st.addOrTally(this.possibleRightPairs,a),t.reverse();for(let e of this.possibleLeftPairs)if(e.getCount()>1)for(let t of this.possibleRightPairs)if(t.getCount()>1&&st.checkChecksum(e,t))return st.constructResult(e,t);throw new O}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),a=new A;for(let e=13-n.length;e>0;e--)a.append("0");a.append(n);let o=0;for(let e=0;e<13;e++){let t=a.charAt(e).charCodeAt(0)-"0".charCodeAt(0);o+=1&e?t:3*t}o=10-o%10,10===o&&(o=0),a.append(o.toString());let i=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new U(a.toString(),null,0,[i[0],i[1],s[0],s[1]],V.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let a=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,a),i=null==n?null:n.get(w.NEED_RESULT_POINT_CALLBACK);if(null!=i){let n=(a[0]+a[1])/2;t&&(n=e.getSize()-1-n),i.foundPossibleResultPoint(new se(n,r))}let s=this.decodeDataCharacter(e,o,!0),c=this.decodeDataCharacter(e,o,!1);return new it(1597*s.getValue()+c.getValue(),s.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(e){return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let e=0;e<n.length;e++)n[e]=0;if(r)be.recordPatternInReverse(e,t.getStartEnd()[0],n);else{be.recordPattern(e,t.getStartEnd()[1]+1,n);for(let e=0,t=n.length-1;e<t;e++,t--){let r=n[e];n[e]=n[t],n[t]=r}}let a=r?16:15,o=oe.sum(new Int32Array(n))/a,i=this.getOddCounts(),s=this.getEvenCounts(),c=this.getOddRoundingErrors(),l=this.getEvenRoundingErrors();for(let e=0;e<n.length;e++){let t=n[e]/o,r=Math.floor(t+.5);r<1?r=1:r>8&&(r=8);let a=Math.floor(e/2);1&e?(s[a]=r,l[a]=t-r):(i[a]=r,c[a]=t-r)}this.adjustOddEvenCounts(r,a);let u=0,d=0;for(let e=i.length-1;e>=0;e--)d*=9,d+=i[e],u+=i[e];let f=0,h=0;for(let e=s.length-1;e>=0;e--)f*=9,f+=s[e],h+=s[e];let p=d+3*f;if(r){if(1&u||u>12||u<4)throw new O;let e=(12-u)/2,t=st.OUTSIDE_ODD_WIDEST[e],r=9-t,n=Re.getRSSvalue(i,t,!1),a=Re.getRSSvalue(s,r,!0),o=st.OUTSIDE_EVEN_TOTAL_SUBSET[e],c=st.OUTSIDE_GSUM[e];return new De(n*o+a+c,p)}{if(1&h||h>10||h<4)throw new O;let e=(10-h)/2,t=st.INSIDE_ODD_WIDEST[e],r=9-t,n=Re.getRSSvalue(i,t,!0),a=Re.getRSSvalue(s,r,!1),o=st.INSIDE_ODD_TOTAL_SUBSET[e],c=st.INSIDE_GSUM[e];return new De(a*o+n+c,p)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),a=!1,o=0;for(;o<n&&(a=!e.get(o),t!==a);)o++;let i=0,s=o;for(let t=o;t<n;t++)if(e.get(t)!==a)r[i]++;else{if(3===i){if(ke.isFinderPattern(r))return[s,t];s+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,i--}else i++;r[i]=1,a=!a}throw new O}parseFoundFinderPattern(e,t,r,n){let a=e.get(n[0]),o=n[0]-1;for(;o>=0&&a!==e.get(o);)o--;o++;const i=n[0]-o,s=this.getDecodeFinderCounters(),c=new Int32Array(s.length);m.arraycopy(s,0,c,1,s.length-1),c[0]=i;const l=this.parseFinderValue(c,st.FINDER_PATTERNS);let u=o,d=n[1];return r&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new Me(l,[o,n[1]],u,d,t)}adjustOddEvenCounts(e,t){let r=oe.sum(new Int32Array(this.getOddCounts())),n=oe.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,i=!1,s=!1;e?(r>12?o=!0:r<4&&(a=!0),n>12?s=!0:n<4&&(i=!0)):(r>11?o=!0:r<5&&(a=!0),n>10?s=!0:n<4&&(i=!0));let c=r+n-t,l=(1&r)==(e?1:0),u=!(1&~n);if(1===c)if(l){if(u)throw new O;o=!0}else{if(!u)throw new O;s=!0}else if(-1===c)if(l){if(u)throw new O;a=!0}else{if(!u)throw new O;i=!0}else{if(0!==c)throw new O;if(l){if(!u)throw new O;r<n?(a=!0,s=!0):(o=!0,i=!0)}else if(u)throw new O}if(a){if(o)throw new O;ke.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ke.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new O;ke.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&ke.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ct extends be{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get(w.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(w.ASSUME_CODE_39_CHECK_DIGIT);r?((r.includes(V.EAN_13)||r.includes(V.UPC_A)||r.includes(V.EAN_8)||r.includes(V.UPC_E))&&this.readers.push(new Pe(e)),r.includes(V.CODE_39)&&this.readers.push(new je(n)),r.includes(V.CODE_128)&&this.readers.push(new ye),r.includes(V.ITF)&&this.readers.push(new we),r.includes(V.RSS_14)&&this.readers.push(new st),r.includes(V.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Pe(e)),this.readers.push(new je),this.readers.push(new Pe(e)),this.readers.push(new ye),this.readers.push(new we),this.readers.push(new st),this.readers.push(new ot(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch(e){}throw new O}reset(){this.readers.forEach((e=>e.reset()))}}class lt extends B{constructor(e=500,t){super(new ct(t),e,t)}}class ut{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(e,t,r,n,a,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=a,this.ecBlocks=o;let i=0;const s=o.getECCodewords(),c=o.getECBlocks();for(let e of c)i+=e.getCount()*(e.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(1&e||1&t)throw new N;for(let r of ft.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new N}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new ut(5,new dt(1,3))),new ft(2,12,12,10,10,new ut(7,new dt(1,5))),new ft(3,14,14,12,12,new ut(10,new dt(1,8))),new ft(4,16,16,14,14,new ut(12,new dt(1,12))),new ft(5,18,18,16,16,new ut(14,new dt(1,18))),new ft(6,20,20,18,18,new ut(18,new dt(1,22))),new ft(7,22,22,20,20,new ut(20,new dt(1,30))),new ft(8,24,24,22,22,new ut(24,new dt(1,36))),new ft(9,26,26,24,24,new ut(28,new dt(1,44))),new ft(10,32,32,14,14,new ut(36,new dt(1,62))),new ft(11,36,36,16,16,new ut(42,new dt(1,86))),new ft(12,40,40,18,18,new ut(48,new dt(1,114))),new ft(13,44,44,20,20,new ut(56,new dt(1,144))),new ft(14,48,48,22,22,new ut(68,new dt(1,174))),new ft(15,52,52,24,24,new ut(42,new dt(2,102))),new ft(16,64,64,14,14,new ut(56,new dt(2,140))),new ft(17,72,72,16,16,new ut(36,new dt(4,92))),new ft(18,80,80,18,18,new ut(48,new dt(4,114))),new ft(19,88,88,20,20,new ut(56,new dt(4,144))),new ft(20,96,96,22,22,new ut(68,new dt(4,174))),new ft(21,104,104,24,24,new ut(56,new dt(6,136))),new ft(22,120,120,18,18,new ut(68,new dt(6,175))),new ft(23,132,132,20,20,new ut(62,new dt(8,163))),new ft(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ft(25,8,18,6,16,new ut(7,new dt(1,5))),new ft(26,8,32,6,14,new ut(11,new dt(1,10))),new ft(27,12,26,10,24,new ut(14,new dt(1,16))),new ft(28,12,36,10,16,new ut(18,new dt(1,22))),new ft(29,16,36,14,16,new ut(24,new dt(1,32))),new ft(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ft.VERSIONS=ft.buildVersions();class ht{constructor(e){const t=e.getHeight();if(t<8||t>144||1&t)throw new N;this.version=ht.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new I(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ft.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let i=!1,s=!1,c=!1,l=!1;do{if(r!==a||0!==n||i)if(r===a-2&&0===n&&3&o&&!s)e[t++]=255&this.readCorner2(a,o),r-=2,n+=2,s=!0;else if(r!==a+4||2!==n||7&o||c)if(r!==a-2||0!==n||4!=(7&o)||l){do{r<a&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,o)),r-=2,n+=2}while(r>=0&&n<o);r+=1,n+=3;do{r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,o)),r+=2,n-=2}while(r<a&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(a,o),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner3(a,o),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner1(a,o),r-=2,n+=2,i=!0}while(r<a||n<o);if(t!==this.version.getTotalCodewords())throw new N;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let a=0;return this.readModule(e-2,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t,r,n)&&(a|=1),a<<=1,this.readModule(e,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e,t,r,n)&&(a|=1),a}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/n|0,i=r/a|0,s=new I(i*a,o*n);for(let t=0;t<o;++t){const r=t*n;for(let o=0;o<i;++o){const i=o*a;for(let c=0;c<n;++c){const l=t*(n+2)+1+c,u=r+c;for(let t=0;t<a;++t){const r=o*(a+2)+1+t;if(e.get(r,l)){const e=i+t;s.set(e,u)}}}}}return s}}class pt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const a=r.getECBlocks();for(let e of a)n+=e.getCount();const o=new Array(n);let i=0;for(let e of a)for(let t=0;t<e.getCount();t++){const t=e.getDataCodewords(),n=r.getECCodewords()+t;o[i++]=new pt(t,new Uint8Array(n))}const s=o[0].codewords.length-r.getECCodewords(),c=s-1;let l=0;for(let t=0;t<c;t++)for(let r=0;r<i;r++)o[r].codewords[t]=e[l++];const u=24===t.getVersionNumber(),f=u?8:i;for(let t=0;t<f;t++)o[t].codewords[s-1]=e[l++];const h=o[0].codewords.length;for(let t=s;t<h;t++)for(let r=0;r<i;r++){const n=u?(r+8)%i:r,a=u&&n>7?t-1:t;o[n].codewords[a]=e[l++]}if(l!==e.length)throw new d;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class mt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const a=this.bytes;if(r>0){const o=8-r,i=e<o?e:o,s=o-i,c=255>>8-i<<s;t=(a[n]&c)>>s,e-=i,r+=i,8===r&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&a[n],n++,e-=8;if(e>0){const o=8-e,i=255>>o<<o;t=t<<e|(a[n]&i)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(H||(H={}));class gt{static decode(e){const t=new mt(e),r=new A,n=new A,a=new Array;let o=H.ASCII_ENCODE;do{if(o===H.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case H.C40_ENCODE:this.decodeC40Segment(t,r);break;case H.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case H.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case H.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case H.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new N}o=H.ASCII_ENCODE}}while(o!==H.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Q(e,r.toString(),0===a.length?null:a,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let a=e.readBits(8);if(0===a)throw new N;if(a<=128)return n&&(a+=128),t.append(String.fromCharCode(a-1)),H.ASCII_ENCODE;if(129===a)return H.PAD_ENCODE;if(a<=229){const e=a-130;e<10&&t.append("0"),t.append(""+e)}else switch(a){case 230:return H.C40_ENCODE;case 231:return H.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return H.ANSIX12_ENCODE;case 239:return H.TEXT_ENCODE;case 240:return H.EDIFACT_ENCODE;default:if(254!==a||0!==e.available())throw new N}}while(e.available()>0);return H.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let a=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(a){case 0:if(o<3)a=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new N;{const e=this.C40_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),a=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new N}a=0;break;case 3:r?(t.append(String.fromCharCode(o+224)),r=!1):t.append(String.fromCharCode(o+96)),a=0;break;default:throw new N}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],a=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(a){case 0:if(o<3)a=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new N;{const e=this.TEXT_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),a=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new N}a=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new N;{const e=this.TEXT_SHIFT3_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e),a=0}break;default:throw new N}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let e=0;e<3;e++){const n=r[e];switch(n){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(n<14)t.append(String.fromCharCode(n+44));else{if(!(n<40))throw new N;t.append(String.fromCharCode(n+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,a=Math.floor(n/1600);r[0]=a,n-=1600*a,a=Math.floor(n/40),r[1]=a,r[2]=n-40*a}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let r=e.readBits(6);if(31===r){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}32&r||(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),n++);let o;if(o=0===a?e.available()/8|0:a<250?a:250*(a-249)+this.unrandomize255State(e.readBits(8),n++),o<0)throw new N;const i=new Uint8Array(o);for(let t=0;t<o;t++){if(e.available()<8)throw new N;i[t]=this.unrandomize255State(e.readBits(8),n++)}r.push(i);try{t.append(E.decode(i,S.ISO88591))}catch(e){throw new re("Platform does not support required encoding: "+e.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}gt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gt.TEXT_SHIFT2_SET_CHARS=gt.C40_SHIFT2_SET_CHARS,gt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class vt{constructor(){this.rsDecoder=new ne(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ht(e),r=t.getVersion(),n=t.readCodewords(),a=pt.getDataBlocks(n,r);let o=0;for(let e of a)o+=e.getNumDataCodewords();const i=new Uint8Array(o),s=a.length;for(let e=0;e<s;e++){const t=a[e],r=t.getCodewords(),n=t.getNumDataCodewords();this.correctErrors(r,n);for(let t=0;t<n;t++)i[t*s+e]=r[t]}return gt.decode(i)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new h}for(let n=0;n<t;n++)e[n]=r[n]}}class xt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new O;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],a=t[2],o=t[3];let i=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(a,o)+1;1&~i||(i+=1),1&~s||(s+=1),4*i<7*s&&4*s<7*i&&(i=s=Math.max(i,s));let c=xt.sampleGrid(this.image,r,n,a,o,i,s);return new ce(c,[r,n,a,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new se(e.getX()+n,e.getY()+a)}static moveAway(e,t,r){let n=e.getX(),a=e.getY();return n<t?n-=1:n+=1,a<r?a-=1:a+=1,new se(n,a)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],a=e[2],o=this.transitionsBetween(t,r),i=this.transitionsBetween(r,n),s=this.transitionsBetween(n,a),c=this.transitionsBetween(a,t),l=o,u=[a,t,r,n];return l>i&&(l=i,u[0]=t,u[1]=r,u[2]=n,u[3]=a),l>s&&(l=s,u[0]=r,u[1]=n,u[2]=a,u[3]=t),l>c&&(u[0]=n,u[1]=a,u[2]=t,u[3]=r),u}detectSolid2(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a),i=xt.shiftPoint(r,n,4*(o+1)),s=xt.shiftPoint(n,r,4*(o+1));return this.transitionsBetween(i,t)<this.transitionsBetween(s,a)?(e[0]=t,e[1]=r,e[2]=n,e[3]=a):(e[0]=r,e[1]=n,e[2]=a,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a),i=this.transitionsBetween(r,a),s=xt.shiftPoint(t,r,4*(i+1)),c=xt.shiftPoint(n,r,4*(o+1));o=this.transitionsBetween(s,a),i=this.transitionsBetween(c,a);let l=new se(a.getX()+(n.getX()-r.getX())/(o+1),a.getY()+(n.getY()-r.getY())/(o+1)),u=new se(a.getX()+(t.getX()-r.getX())/(i+1),a.getY()+(t.getY()-r.getY())/(i+1));return this.isValid(l)?this.isValid(u)?this.transitionsBetween(s,l)+this.transitionsBetween(c,l)>this.transitionsBetween(s,u)+this.transitionsBetween(c,u)?l:u:l:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,i=this.transitionsBetween(n,a)+1,s=xt.shiftPoint(t,r,4*i),c=xt.shiftPoint(n,r,4*o);o=this.transitionsBetween(s,a)+1,i=this.transitionsBetween(c,a)+1,1&~o||(o+=1),1&~i||(i+=1);let l,u,d=(t.getX()+r.getX()+n.getX()+a.getX())/4,f=(t.getY()+r.getY()+n.getY()+a.getY())/4;return t=xt.moveAway(t,d,f),r=xt.moveAway(r,d,f),n=xt.moveAway(n,d,f),a=xt.moveAway(a,d,f),s=xt.shiftPoint(t,r,4*i),s=xt.shiftPoint(s,a,4*o),l=xt.shiftPoint(r,t,4*i),l=xt.shiftPoint(l,n,4*o),c=xt.shiftPoint(n,a,4*i),c=xt.shiftPoint(c,r,4*o),u=xt.shiftPoint(a,n,4*i),u=xt.shiftPoint(u,t,4*o),[s,l,c,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,a,o,i){return pe.getInstance().sampleGrid(e,o,i,.5,.5,o-.5,.5,o-.5,i-.5,.5,i-.5,t.getX(),t.getY(),a.getX(),a.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),i=Math.abs(o-n)>Math.abs(a-r);if(i){let e=r;r=n,n=e,e=a,a=o,o=e}let s=Math.abs(a-r),c=Math.abs(o-n),l=-s/2,u=n<o?1:-1,d=r<a?1:-1,f=0,h=this.image.get(i?n:r,i?r:n);for(let e=r,t=n;e!==a;e+=d){let r=this.image.get(i?t:e,i?e:t);if(r!==h&&(f++,h=r),l+=c,l>0){if(t===o)break;t+=u,l-=s}}return f}}class bt{constructor(){this.decoder=new vt}decode(e,t=null){let r,n;if(null!=t&&t.has(w.PURE_BARCODE)){const t=bt.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(t),n=bt.NO_POINTS}else{const t=new xt(e.getBlackMatrix()).detect();r=this.decoder.decode(t.getBits()),n=t.getPoints()}const a=r.getRawBytes(),o=new U(r.getText(),a,8*a.length,n,V.DATA_MATRIX,m.currentTimeMillis()),i=r.getByteSegments();null!=i&&o.putMetadata($.BYTE_SEGMENTS,i);const s=r.getECLevel();return null!=s&&o.putMetadata($.ERROR_CORRECTION_LEVEL,s),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new O;const n=this.moduleSize(t,e);let a=t[1];const o=r[1];let i=t[0];const s=(r[0]-i+1)/n,c=(o-a+1)/n;if(s<=0||c<=0)throw new O;const l=n/2;a+=l,i+=l;const u=new I(s,c);for(let t=0;t<c;t++){const r=a+t*n;for(let a=0;a<s;a++)e.get(i+a*n,r)&&u.set(a,t)}return u}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const a=e[1];for(;n<r&&t.get(n,a);)n++;if(n===r)throw new O;const o=n-e[0];if(0===o)throw new O;return o}}bt.NO_POINTS=[];class yt extends B{constructor(e=500){super(new bt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(q||(q={}));class jt{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,jt.FOR_BITS.set(r,this),jt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return jt.L;case"M":return jt.M;case"Q":return jt.Q;case"H":return jt.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof jt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=jt.FOR_BITS.size)throw new d;return jt.FOR_BITS.get(e)}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.L=new jt(q.L,"L",1),jt.M=new jt(q.M,"M",0),jt.Q=new jt(q.Q,"Q",3),jt.H=new jt(q.H,"H",2);class wt{constructor(e){this.errorCorrectionLevel=jt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return b.bitCount(e^t)}static decodeFormatInformation(e,t){const r=wt.doDecodeFormatInformation(e,t);return null!==r?r:wt.doDecodeFormatInformation(e^wt.FORMAT_INFO_MASK_QR,t^wt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const a of wt.FORMAT_INFO_DECODE_LOOKUP){const o=a[0];if(o===e||o===t)return new wt(a[1]);let i=wt.numBitsDiffering(e,o);i<r&&(n=a[1],r=i),e!==t&&(i=wt.numBitsDiffering(t,o),i<r&&(n=a[1],r=i))}return r<=3?new wt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof wt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}wt.FORMAT_INFO_MASK_QR=21522,wt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Nt{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _t{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const a=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const e of o)n+=e.getCount()*(e.getDataCodewords()+a);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new N;try{return this.getVersionForNumber((e-17)/4)}catch(e){throw new N}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return Ct.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Ct.VERSION_DECODE_INFO.length;n++){const a=Ct.VERSION_DECODE_INFO[n];if(a===e)return Ct.getVersionForNumber(n+7);const o=wt.numBitsDiffering(e,a);o<t&&(r=n+7,t=o)}return t<=3?Ct.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new I(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let e=0;e<r;e++){const n=this.alignmentPatternCenters[e]-2;for(let a=0;a<r;a++)0===e&&(0===a||a===r-1)||e===r-1&&0===a||t.setRegion(this.alignmentPatternCenters[a]-2,n,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ct.VERSIONS=[new Ct(1,new Int32Array(0),new Nt(7,new _t(1,19)),new Nt(10,new _t(1,16)),new Nt(13,new _t(1,13)),new Nt(17,new _t(1,9))),new Ct(2,Int32Array.from([6,18]),new Nt(10,new _t(1,34)),new Nt(16,new _t(1,28)),new Nt(22,new _t(1,22)),new Nt(28,new _t(1,16))),new Ct(3,Int32Array.from([6,22]),new Nt(15,new _t(1,55)),new Nt(26,new _t(1,44)),new Nt(18,new _t(2,17)),new Nt(22,new _t(2,13))),new Ct(4,Int32Array.from([6,26]),new Nt(20,new _t(1,80)),new Nt(18,new _t(2,32)),new Nt(26,new _t(2,24)),new Nt(16,new _t(4,9))),new Ct(5,Int32Array.from([6,30]),new Nt(26,new _t(1,108)),new Nt(24,new _t(2,43)),new Nt(18,new _t(2,15),new _t(2,16)),new Nt(22,new _t(2,11),new _t(2,12))),new Ct(6,Int32Array.from([6,34]),new Nt(18,new _t(2,68)),new Nt(16,new _t(4,27)),new Nt(24,new _t(4,19)),new Nt(28,new _t(4,15))),new Ct(7,Int32Array.from([6,22,38]),new Nt(20,new _t(2,78)),new Nt(18,new _t(4,31)),new Nt(18,new _t(2,14),new _t(4,15)),new Nt(26,new _t(4,13),new _t(1,14))),new Ct(8,Int32Array.from([6,24,42]),new Nt(24,new _t(2,97)),new Nt(22,new _t(2,38),new _t(2,39)),new Nt(22,new _t(4,18),new _t(2,19)),new Nt(26,new _t(4,14),new _t(2,15))),new Ct(9,Int32Array.from([6,26,46]),new Nt(30,new _t(2,116)),new Nt(22,new _t(3,36),new _t(2,37)),new Nt(20,new _t(4,16),new _t(4,17)),new Nt(24,new _t(4,12),new _t(4,13))),new Ct(10,Int32Array.from([6,28,50]),new Nt(18,new _t(2,68),new _t(2,69)),new Nt(26,new _t(4,43),new _t(1,44)),new Nt(24,new _t(6,19),new _t(2,20)),new Nt(28,new _t(6,15),new _t(2,16))),new Ct(11,Int32Array.from([6,30,54]),new Nt(20,new _t(4,81)),new Nt(30,new _t(1,50),new _t(4,51)),new Nt(28,new _t(4,22),new _t(4,23)),new Nt(24,new _t(3,12),new _t(8,13))),new Ct(12,Int32Array.from([6,32,58]),new Nt(24,new _t(2,92),new _t(2,93)),new Nt(22,new _t(6,36),new _t(2,37)),new Nt(26,new _t(4,20),new _t(6,21)),new Nt(28,new _t(7,14),new _t(4,15))),new Ct(13,Int32Array.from([6,34,62]),new Nt(26,new _t(4,107)),new Nt(22,new _t(8,37),new _t(1,38)),new Nt(24,new _t(8,20),new _t(4,21)),new Nt(22,new _t(12,11),new _t(4,12))),new Ct(14,Int32Array.from([6,26,46,66]),new Nt(30,new _t(3,115),new _t(1,116)),new Nt(24,new _t(4,40),new _t(5,41)),new Nt(20,new _t(11,16),new _t(5,17)),new Nt(24,new _t(11,12),new _t(5,13))),new Ct(15,Int32Array.from([6,26,48,70]),new Nt(22,new _t(5,87),new _t(1,88)),new Nt(24,new _t(5,41),new _t(5,42)),new Nt(30,new _t(5,24),new _t(7,25)),new Nt(24,new _t(11,12),new _t(7,13))),new Ct(16,Int32Array.from([6,26,50,74]),new Nt(24,new _t(5,98),new _t(1,99)),new Nt(28,new _t(7,45),new _t(3,46)),new Nt(24,new _t(15,19),new _t(2,20)),new Nt(30,new _t(3,15),new _t(13,16))),new Ct(17,Int32Array.from([6,30,54,78]),new Nt(28,new _t(1,107),new _t(5,108)),new Nt(28,new _t(10,46),new _t(1,47)),new Nt(28,new _t(1,22),new _t(15,23)),new Nt(28,new _t(2,14),new _t(17,15))),new Ct(18,Int32Array.from([6,30,56,82]),new Nt(30,new _t(5,120),new _t(1,121)),new Nt(26,new _t(9,43),new _t(4,44)),new Nt(28,new _t(17,22),new _t(1,23)),new Nt(28,new _t(2,14),new _t(19,15))),new Ct(19,Int32Array.from([6,30,58,86]),new Nt(28,new _t(3,113),new _t(4,114)),new Nt(26,new _t(3,44),new _t(11,45)),new Nt(26,new _t(17,21),new _t(4,22)),new Nt(26,new _t(9,13),new _t(16,14))),new Ct(20,Int32Array.from([6,34,62,90]),new Nt(28,new _t(3,107),new _t(5,108)),new Nt(26,new _t(3,41),new _t(13,42)),new Nt(30,new _t(15,24),new _t(5,25)),new Nt(28,new _t(15,15),new _t(10,16))),new Ct(21,Int32Array.from([6,28,50,72,94]),new Nt(28,new _t(4,116),new _t(4,117)),new Nt(26,new _t(17,42)),new Nt(28,new _t(17,22),new _t(6,23)),new Nt(30,new _t(19,16),new _t(6,17))),new Ct(22,Int32Array.from([6,26,50,74,98]),new Nt(28,new _t(2,111),new _t(7,112)),new Nt(28,new _t(17,46)),new Nt(30,new _t(7,24),new _t(16,25)),new Nt(24,new _t(34,13))),new Ct(23,Int32Array.from([6,30,54,78,102]),new Nt(30,new _t(4,121),new _t(5,122)),new Nt(28,new _t(4,47),new _t(14,48)),new Nt(30,new _t(11,24),new _t(14,25)),new Nt(30,new _t(16,15),new _t(14,16))),new Ct(24,Int32Array.from([6,28,54,80,106]),new Nt(30,new _t(6,117),new _t(4,118)),new Nt(28,new _t(6,45),new _t(14,46)),new Nt(30,new _t(11,24),new _t(16,25)),new Nt(30,new _t(30,16),new _t(2,17))),new Ct(25,Int32Array.from([6,32,58,84,110]),new Nt(26,new _t(8,106),new _t(4,107)),new Nt(28,new _t(8,47),new _t(13,48)),new Nt(30,new _t(7,24),new _t(22,25)),new Nt(30,new _t(22,15),new _t(13,16))),new Ct(26,Int32Array.from([6,30,58,86,114]),new Nt(28,new _t(10,114),new _t(2,115)),new Nt(28,new _t(19,46),new _t(4,47)),new Nt(28,new _t(28,22),new _t(6,23)),new Nt(30,new _t(33,16),new _t(4,17))),new Ct(27,Int32Array.from([6,34,62,90,118]),new Nt(30,new _t(8,122),new _t(4,123)),new Nt(28,new _t(22,45),new _t(3,46)),new Nt(30,new _t(8,23),new _t(26,24)),new Nt(30,new _t(12,15),new _t(28,16))),new Ct(28,Int32Array.from([6,26,50,74,98,122]),new Nt(30,new _t(3,117),new _t(10,118)),new Nt(28,new _t(3,45),new _t(23,46)),new Nt(30,new _t(4,24),new _t(31,25)),new Nt(30,new _t(11,15),new _t(31,16))),new Ct(29,Int32Array.from([6,30,54,78,102,126]),new Nt(30,new _t(7,116),new _t(7,117)),new Nt(28,new _t(21,45),new _t(7,46)),new Nt(30,new _t(1,23),new _t(37,24)),new Nt(30,new _t(19,15),new _t(26,16))),new Ct(30,Int32Array.from([6,26,52,78,104,130]),new Nt(30,new _t(5,115),new _t(10,116)),new Nt(28,new _t(19,47),new _t(10,48)),new Nt(30,new _t(15,24),new _t(25,25)),new Nt(30,new _t(23,15),new _t(25,16))),new Ct(31,Int32Array.from([6,30,56,82,108,134]),new Nt(30,new _t(13,115),new _t(3,116)),new Nt(28,new _t(2,46),new _t(29,47)),new Nt(30,new _t(42,24),new _t(1,25)),new Nt(30,new _t(23,15),new _t(28,16))),new Ct(32,Int32Array.from([6,34,60,86,112,138]),new Nt(30,new _t(17,115)),new Nt(28,new _t(10,46),new _t(23,47)),new Nt(30,new _t(10,24),new _t(35,25)),new Nt(30,new _t(19,15),new _t(35,16))),new Ct(33,Int32Array.from([6,30,58,86,114,142]),new Nt(30,new _t(17,115),new _t(1,116)),new Nt(28,new _t(14,46),new _t(21,47)),new Nt(30,new _t(29,24),new _t(19,25)),new Nt(30,new _t(11,15),new _t(46,16))),new Ct(34,Int32Array.from([6,34,62,90,118,146]),new Nt(30,new _t(13,115),new _t(6,116)),new Nt(28,new _t(14,46),new _t(23,47)),new Nt(30,new _t(44,24),new _t(7,25)),new Nt(30,new _t(59,16),new _t(1,17))),new Ct(35,Int32Array.from([6,30,54,78,102,126,150]),new Nt(30,new _t(12,121),new _t(7,122)),new Nt(28,new _t(12,47),new _t(26,48)),new Nt(30,new _t(39,24),new _t(14,25)),new Nt(30,new _t(22,15),new _t(41,16))),new Ct(36,Int32Array.from([6,24,50,76,102,128,154]),new Nt(30,new _t(6,121),new _t(14,122)),new Nt(28,new _t(6,47),new _t(34,48)),new Nt(30,new _t(46,24),new _t(10,25)),new Nt(30,new _t(2,15),new _t(64,16))),new Ct(37,Int32Array.from([6,28,54,80,106,132,158]),new Nt(30,new _t(17,122),new _t(4,123)),new Nt(28,new _t(29,46),new _t(14,47)),new Nt(30,new _t(49,24),new _t(10,25)),new Nt(30,new _t(24,15),new _t(46,16))),new Ct(38,Int32Array.from([6,32,58,84,110,136,162]),new Nt(30,new _t(4,122),new _t(18,123)),new Nt(28,new _t(13,46),new _t(32,47)),new Nt(30,new _t(48,24),new _t(14,25)),new Nt(30,new _t(42,15),new _t(32,16))),new Ct(39,Int32Array.from([6,26,54,82,110,138,166]),new Nt(30,new _t(20,117),new _t(4,118)),new Nt(28,new _t(40,47),new _t(7,48)),new Nt(30,new _t(43,24),new _t(22,25)),new Nt(30,new _t(10,15),new _t(67,16))),new Ct(40,Int32Array.from([6,30,58,86,114,142,170]),new Nt(30,new _t(19,118),new _t(6,119)),new Nt(28,new _t(18,47),new _t(31,48)),new Nt(30,new _t(34,24),new _t(34,25)),new Nt(30,new _t(20,15),new _t(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(W||(W={}));class Et{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}Et.values=new Map([[W.DATA_MASK_000,new Et(W.DATA_MASK_000,((e,t)=>!(e+t&1)))],[W.DATA_MASK_001,new Et(W.DATA_MASK_001,((e,t)=>!(1&e)))],[W.DATA_MASK_010,new Et(W.DATA_MASK_010,((e,t)=>t%3==0))],[W.DATA_MASK_011,new Et(W.DATA_MASK_011,((e,t)=>(e+t)%3==0))],[W.DATA_MASK_100,new Et(W.DATA_MASK_100,((e,t)=>!(Math.floor(e/2)+Math.floor(t/3)&1)))],[W.DATA_MASK_101,new Et(W.DATA_MASK_101,((e,t)=>e*t%6==0))],[W.DATA_MASK_110,new Et(W.DATA_MASK_110,((e,t)=>e*t%6<3))],[W.DATA_MASK_111,new Et(W.DATA_MASK_111,((e,t)=>!(e+t+e*t%3&1)))]]);class St{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new N;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let t=5;t>=0;t--)e=this.copyBit(8,t,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let e=t-1;e>=n;e--)r=this.copyBit(8,e,r);for(let e=t-8;e<t;e++)r=this.copyBit(e,8,r);if(this.parsedFormatInfo=wt.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new N}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ct.getVersionForNumber(t);let r=0;const n=e-11;for(let t=5;t>=0;t--)for(let a=e-9;a>=n;a--)r=this.copyBit(a,t,r);let a=Ct.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(let t=5;t>=0;t--)for(let a=e-9;a>=n;a--)r=this.copyBit(t,a,r);if(a=Ct.decodeVersionInformation(r),null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new N}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=Et.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const a=t.buildFunctionPattern();let o=!0;const i=new Uint8Array(t.getTotalCodewords());let s=0,c=0,l=0;for(let e=n-1;e>0;e-=2){6===e&&e--;for(let t=0;t<n;t++){const r=o?n-1-t:t;for(let t=0;t<2;t++)a.get(e-t,r)||(l++,c<<=1,this.bitMatrix.get(e-t,r)&&(c|=1),8===l&&(i[s++]=c,l=0,c=0))}o=!o}if(s!==t.getTotalCodewords())throw new N;return i}remask(){if(null===this.parsedFormatInfo)return;const e=Et.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let r=t+1,n=e.getHeight();r<n;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class At{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new d;const n=t.getECBlocksForLevel(r);let a=0;const o=n.getECBlocks();for(const e of o)a+=e.getCount();const i=new Array(a);let s=0;for(const e of o)for(let t=0;t<e.getCount();t++){const t=e.getDataCodewords(),r=n.getECCodewordsPerBlock()+t;i[s++]=new At(t,new Uint8Array(r))}const c=i[0].codewords.length;let l=i.length-1;for(;l>=0&&i[l].codewords.length!==c;)l--;l++;const u=c-n.getECCodewordsPerBlock();let f=0;for(let t=0;t<u;t++)for(let r=0;r<s;r++)i[r].codewords[t]=e[f++];for(let t=l;t<s;t++)i[t].codewords[u]=e[f++];const h=i[0].codewords.length;for(let t=u;t<h;t++)for(let r=0;r<s;r++){const n=r<l?t:t+1;i[r].codewords[n]=e[f++]}return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(Y||(Y={}));class It{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,It.FOR_BITS.set(n,this),It.FOR_VALUE.set(e,this)}static forBits(e){const t=It.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof It))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}It.FOR_BITS=new Map,It.FOR_VALUE=new Map,It.TERMINATOR=new It(Y.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),It.NUMERIC=new It(Y.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),It.ALPHANUMERIC=new It(Y.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),It.STRUCTURED_APPEND=new It(Y.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),It.BYTE=new It(Y.BYTE,"BYTE",Int32Array.from([8,16,16]),4),It.ECI=new It(Y.ECI,"ECI",Int32Array.from([0,0,0]),7),It.KANJI=new It(Y.KANJI,"KANJI",Int32Array.from([8,10,12]),8),It.FNC1_FIRST_POSITION=new It(Y.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),It.FNC1_SECOND_POSITION=new It(Y.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),It.HANZI=new It(Y.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ot{static decode(e,t,r,n){const a=new mt(e);let o=new A;const i=new Array;let s=-1,c=-1;try{let e,r=null,l=!1;do{if(a.available()<4)e=It.TERMINATOR;else{const t=a.readBits(4);e=It.forBits(t)}switch(e){case It.TERMINATOR:break;case It.FNC1_FIRST_POSITION:case It.FNC1_SECOND_POSITION:l=!0;break;case It.STRUCTURED_APPEND:if(a.available()<16)throw new N;s=a.readBits(8),c=a.readBits(8);break;case It.ECI:const u=Ot.parseECIValue(a);if(r=_.getCharacterSetECIByValue(u),null===r)throw new N;break;case It.HANZI:const d=a.readBits(4),f=a.readBits(e.getCharacterCountBits(t));d===Ot.GB2312_SUBSET&&Ot.decodeHanziSegment(a,o,f);break;default:const h=a.readBits(e.getCharacterCountBits(t));switch(e){case It.NUMERIC:Ot.decodeNumericSegment(a,o,h);break;case It.ALPHANUMERIC:Ot.decodeAlphanumericSegment(a,o,h,l);break;case It.BYTE:Ot.decodeByteSegment(a,o,h,r,i,n);break;case It.KANJI:Ot.decodeKanjiSegment(a,o,h);break;default:throw new N}}}while(e!==It.TERMINATOR)}catch(e){throw new N}return new Q(e,o.toString(),0===i.length?null:i,null===r?null:r.toString(),s,c)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new N;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let o=t/96<<8&4294967295|t%96;o+=o<959?41377:42657,n[a]=o>>8&255,n[a+1]=255&o,a+=2,r--}try{t.append(E.decode(n,S.GB2312))}catch(e){throw new N(e)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new N;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let o=t/192<<8&4294967295|t%192;o+=o<7936?33088:49472,n[a]=o>>8,n[a+1]=o,a+=2,r--}try{t.append(E.decode(n,S.SHIFT_JIS))}catch(e){throw new N(e)}}static decodeByteSegment(e,t,r,n,a,o){if(8*r>e.available())throw new N;const i=new Uint8Array(r);for(let t=0;t<r;t++)i[t]=e.readBits(8);let s;s=null===n?S.guessEncoding(i,o):n.getName();try{t.append(E.decode(i,s))}catch(e){throw new N(e)}a.push(i)}static toAlphaNumericChar(e){if(e>=Ot.ALPHANUMERIC_CHARS.length)throw new N;return Ot.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const a=t.length();for(;r>1;){if(e.available()<11)throw new N;const n=e.readBits(11);t.append(Ot.toAlphaNumericChar(Math.floor(n/45))),t.append(Ot.toAlphaNumericChar(n%45)),r-=2}if(1===r){if(e.available()<6)throw new N;t.append(Ot.toAlphaNumericChar(e.readBits(6)))}if(n)for(let e=a;e<t.length();e++)"%"===t.charAt(e)&&(e<t.length()-1&&"%"===t.charAt(e+1)?t.deleteCharAt(e+1):t.setCharAt(e,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new N;const n=e.readBits(10);if(n>=1e3)throw new N;t.append(Ot.toAlphaNumericChar(Math.floor(n/100))),t.append(Ot.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Ot.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new N;const r=e.readBits(7);if(r>=100)throw new N;t.append(Ot.toAlphaNumericChar(Math.floor(r/10))),t.append(Ot.toAlphaNumericChar(r%10))}else if(1===r){if(e.available()<4)throw new N;const r=e.readBits(4);if(r>=10)throw new N;t.append(Ot.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new N}}Ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ot.GB2312_SUBSET=1;class Tt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Pt{constructor(){this.rsDecoder=new ne(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(I.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new St(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(e){n=e}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const e=this.decodeBitMatrixParser(r,t);return e.setOther(new Tt(!0)),e}catch(e){if(null!==n)throw n;throw e}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),o=At.getDataBlocks(a,r,n);let i=0;for(const e of o)i+=e.getNumDataCodewords();const s=new Uint8Array(i);let c=0;for(const e of o){const t=e.getCodewords(),r=e.getNumDataCodewords();this.correctErrors(t,r);for(let e=0;e<r;e++)s[c++]=t[e]}return Ot.decode(s,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new h}for(let n=0;n<t;n++)e[n]=r[n]}}class kt extends se{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,a=(this.getY()+e)/2,o=(this.estimatedModuleSize+r)/2;return new kt(n,a,o)}}class Dt{constructor(e,t,r,n,a,o,i){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=a,this.moduleSize=o,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,a=new Int32Array(3),o=this.image;for(let i=0;i<t;i++){const t=n+(1&i?-Math.floor((i+1)/2):Math.floor((i+1)/2));a[0]=0,a[1]=0,a[2]=0;let s=e;for(;s<r&&!o.get(s,t);)s++;let c=0;for(;s<r;){if(o.get(s,t))if(1===c)a[1]++;else if(2===c){if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,s);if(null!==e)return e}a[0]=a[2],a[1]=1,a[2]=0,c=1}else a[++c]++;else 1===c&&c++,a[c]++;s++}if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,r);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new O}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const a=this.image,o=a.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s>=0&&a.get(t,s)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&!a.get(t,s)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(t,s)&&i[1]<=r;)i[1]++,s++;if(s===o||i[1]>r)return NaN;for(;s<o&&!a.get(t,s)&&i[2]<=r;)i[2]++,s++;if(i[2]>r)return NaN;const c=i[0]+i[1]+i[2];return 5*Math.abs(c-n)>=2*n?NaN:this.foundPatternCross(i)?Dt.centerFromEnd(i,s):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],a=Dt.centerFromEnd(e,r),o=this.crossCheckVertical(t,a,2*e[1],n);if(!isNaN(o)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,o,a))return e.combineEstimate(o,a,t);const r=new kt(a,o,t);this.possibleCenters.push(r),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(r)}return null}}class Mt extends se{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,a=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n,i=(this.count*this.estimatedModuleSize+r)/n;return new Mt(a,o,i,n)}}class Rt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ft{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get(w.TRY_HARDER),r=null!=e&&void 0!==e.get(w.PURE_BARCODE),n=this.image,a=n.getHeight(),o=n.getWidth();let i=Math.floor(3*a/(4*Ft.MAX_MODULES));(i<Ft.MIN_SKIP||t)&&(i=Ft.MIN_SKIP);let s=!1;const c=new Int32Array(5);for(let e=i-1;e<a&&!s;e+=i){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;let t=0;for(let a=0;a<o;a++)if(n.get(a,e))1&~t||t++,c[t]++;else if(1&t)c[t]++;else if(4===t)if(Ft.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,e,a,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;continue}if(i=2,!0===this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{const t=this.findRowSkip();t>c[2]&&(e+=t-c[2]-i,a=o-1)}t=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;else c[++t]++;Ft.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,e,o,r)&&(i=c[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}const l=this.selectBestPatterns();return se.orderBestPatterns(l),new Rt(l)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let r=0;r<5;r++){const n=e[r];if(0===n)return!1;t+=n}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const a=this.getCrossCheckStateCount();let o=0;const i=this.image;for(;e>=o&&t>=o&&i.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!i.get(t-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||t<o||a[1]>r)return!1;for(;e>=o&&t>=o&&i.get(t-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;const s=i.getHeight(),c=i.getWidth();for(o=1;e+o<s&&t+o<c&&i.get(t+o,e+o);)a[2]++,o++;if(e+o>=s||t+o>=c)return!1;for(;e+o<s&&t+o<c&&!i.get(t+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=s||t+o>=c||a[3]>=r)return!1;for(;e+o<s&&t+o<c&&i.get(t+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;const l=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(l-n)<2*n&&Ft.foundPatternCross(a)}crossCheckVertical(e,t,r,n){const a=this.image,o=a.getHeight(),i=this.getCrossCheckStateCount();let s=e;for(;s>=0&&a.get(t,s);)i[2]++,s--;if(s<0)return NaN;for(;s>=0&&!a.get(t,s)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&a.get(t,s)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(t,s);)i[2]++,s++;if(s===o)return NaN;for(;s<o&&!a.get(t,s)&&i[3]<r;)i[3]++,s++;if(s===o||i[3]>=r)return NaN;for(;s<o&&a.get(t,s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return NaN;const c=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(c-n)>=2*n?NaN:Ft.foundPatternCross(i)?Ft.centerFromEnd(i,s):NaN}crossCheckHorizontal(e,t,r,n){const a=this.image,o=a.getWidth(),i=this.getCrossCheckStateCount();let s=e;for(;s>=0&&a.get(s,t);)i[2]++,s--;if(s<0)return NaN;for(;s>=0&&!a.get(s,t)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&a.get(s,t)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(s,t);)i[2]++,s++;if(s===o)return NaN;for(;s<o&&!a.get(s,t)&&i[3]<r;)i[3]++,s++;if(s===o||i[3]>=r)return NaN;for(;s<o&&a.get(s,t)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return NaN;const c=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(c-n)>=n?NaN:Ft.foundPatternCross(i)?Ft.centerFromEnd(i,s):NaN}handlePossibleCenter(e,t,r,n){const a=e[0]+e[1]+e[2]+e[3]+e[4];let o=Ft.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(i)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(i),e[2],a),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(i),Math.floor(o),e[2],a)))){const e=a/7;let t=!1;const r=this.possibleCenters;for(let n=0,a=r.length;n<a;n++){const a=r[n];if(a.aboutEquals(e,i,o)){r[n]=a.combineEstimate(i,o,e),t=!0;break}}if(!t){const t=new Mt(o,i,e);r.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Ft.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const r of this.possibleCenters)r.getCount()>=Ft.CENTER_QUORUM&&(e++,t+=r.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let a=0;for(const e of this.possibleCenters)a+=Math.abs(e.getEstimatedModuleSize()-n);return a<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new O;const t=this.possibleCenters;let r;if(e>3){let n=0,a=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();n+=t,a+=t*t}r=n/e;let o=Math.sqrt(a/e-r*r);t.sort(((e,t)=>{const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?-1:n>a?1:0}));const i=Math.max(.2*r,o);for(let e=0;e<t.length&&t.length>3;e++){const n=t[e];Math.abs(n.getEstimatedModuleSize()-r)>i&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const r of t)e+=r.getEstimatedModuleSize();r=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?1:n>a?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Ft.CENTER_QUORUM=2,Ft.MIN_SKIP=3,Ft.MAX_MODULES=57;class Lt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(w.NEED_RESULT_POINT_CALLBACK);const t=new Ft(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),a=this.calculateModuleSize(t,r,n);if(a<1)throw new O("No pattern found in proccess finder.");const o=Lt.computeDimension(t,r,n,a),i=Ct.getProvisionalVersionForDimension(o),s=i.getDimensionForVersion()-7;let c=null;if(i.getAlignmentPatternCenters().length>0){const e=r.getX()-t.getX()+n.getX(),o=r.getY()-t.getY()+n.getY(),i=1-3/s,l=Math.floor(t.getX()+i*(e-t.getX())),u=Math.floor(t.getY()+i*(o-t.getY()));for(let e=4;e<=16;e<<=1)try{c=this.findAlignmentInRegion(a,l,u,e);break}catch(e){if(!(e instanceof O))throw e}}const l=Lt.createTransform(t,r,n,c,o),u=Lt.sampleGrid(this.image,l,o);let d;return d=null===c?[n,t,r]:[n,t,r,c],new ce(u,d)}static createTransform(e,t,r,n,a){const o=a-3.5;let i,s,c,l;return null!==n?(i=n.getX(),s=n.getY(),c=o-3,l=c):(i=t.getX()-e.getX()+r.getX(),s=t.getY()-e.getY()+r.getY(),c=o,l=o),fe.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,l,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),i,s,r.getX(),r.getY())}static sampleGrid(e,t,r){return pe.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const a=oe.round(se.distance(e,t)/n),o=oe.round(se.distance(e,r)/n);let i=Math.floor((a+o)/2)+7;switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw new O("Dimensions could be not found.")}return i}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let a=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,i=e-(r-e);i<0?(o=e/(e-i),i=0):i>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(i-e),i=this.image.getWidth()-1);let s=Math.floor(t-(n-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),i=Math.floor(e+(i-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,i,s),a-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const a=Math.abs(n-t)>Math.abs(r-e);if(a){let a=e;e=t,t=a,a=r,r=n,n=a}const o=Math.abs(r-e),i=Math.abs(n-t);let s=-o/2;const c=e<r?1:-1,l=t<n?1:-1;let u=0;const d=r+c;for(let r=e,f=t;r!==d;r+=c){const c=a?f:r,d=a?r:f;if(1===u===this.image.get(c,d)){if(2===u)return oe.distance(r,f,e,t);u++}if(s+=i,s>0){if(f===n)break;f+=l,s-=o}}return 2===u?oe.distance(r+c,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const a=Math.floor(n*e),o=Math.max(0,t-a),i=Math.min(this.image.getWidth()-1,t+a);if(i-o<3*e)throw new O("Alignment top exceeds estimated module size.");const s=Math.max(0,r-a),c=Math.min(this.image.getHeight()-1,r+a);if(c-s<3*e)throw new O("Alignment bottom exceeds estimated module size.");return new Dt(this.image,o,s,i-o,c-s,e,this.resultPointCallback).find()}}class Bt{constructor(){this.decoder=new Pt}getDecoder(){return this.decoder}decode(e,t){let r,n;if(null!=t&&void 0!==t.get(w.PURE_BARCODE)){const a=Bt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),n=Bt.NO_POINTS}else{const a=new Lt(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),n=a.getPoints()}r.getOther()instanceof Tt&&r.getOther().applyMirroredCorrection(n);const a=new U(r.getText(),r.getRawBytes(),void 0,n,V.QR_CODE,void 0),o=r.getByteSegments();null!==o&&a.putMetadata($.BYTE_SEGMENTS,o);const i=r.getECLevel();return null!==i&&a.putMetadata($.ERROR_CORRECTION_LEVEL,i),r.hasStructuredAppend()&&(a.putMetadata($.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata($.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new O;const n=this.moduleSize(t,e);let a=t[1],o=r[1],i=t[0],s=r[0];if(i>=s||a>=o)throw new O;if(o-a!=s-i&&(s=i+(o-a),s>=e.getWidth()))throw new O;const c=Math.round((s-i+1)/n),l=Math.round((o-a+1)/n);if(c<=0||l<=0)throw new O;if(l!==c)throw new O;const u=Math.floor(n/2);a+=u,i+=u;const d=i+Math.floor((c-1)*n)-s;if(d>0){if(d>u)throw new O;i-=d}const f=a+Math.floor((l-1)*n)-o;if(f>0){if(f>u)throw new O;a-=f}const h=new I(c,l);for(let t=0;t<l;t++){const r=a+Math.floor(t*n);for(let a=0;a<c;a++)e.get(i+Math.floor(a*n),r)&&h.set(a,t)}return h}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let a=e[0],o=e[1],i=!0,s=0;for(;a<n&&o<r;){if(i!==t.get(a,o)){if(5==++s)break;i=!i}a++,o++}if(a===n||o===r)throw new O;return(a-e[0])/7}}Bt.NO_POINTS=new Array;class Ut{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ut.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=x.binarySearch(Ut.SYMBOL_TABLE,262143&e);return t<0?-1:(Ut.CODEWORD_TABLE[t]-1)%Ut.NUMBER_OF_CODEWORDS}}Ut.NUMBER_OF_CODEWORDS=929,Ut.MAX_CODEWORDS_IN_BARCODE=Ut.NUMBER_OF_CODEWORDS-1,Ut.MIN_ROWS_IN_BARCODE=3,Ut.MAX_ROWS_IN_BARCODE=90,Ut.MODULES_IN_CODEWORD=17,Ut.MODULES_IN_STOP_PATTERN=18,Ut.BARS_IN_MODULE=8,Ut.EMPTY_INT_ARRAY=new Int32Array([]),Ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Vt{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),a=Vt.detect(r,n);return a.length||(n=n.clone(),n.rotate180(),a=Vt.detect(r,n)),new zt(n,a)}static detect(e,t){const r=new Array;let n=0,a=0,o=!1;for(;n<t.getHeight();){const i=Vt.findVertices(t,n,a);if(null!=i[0]||null!=i[3]){if(o=!0,r.push(i),!e)break;null!=i[2]?(a=Math.trunc(i[2].getX()),n=Math.trunc(i[2].getY())):(a=Math.trunc(i[4].getX()),n=Math.trunc(i[4].getY()))}else{if(!o)break;o=!1,a=0;for(const e of r)null!=e[1]&&(n=Math.trunc(Math.max(n,e[1].getY()))),null!=e[3]&&(n=Math.max(n,Math.trunc(e[3].getY())));n+=Vt.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),a=e.getWidth(),o=new Array(8);return Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,a,t,r,Vt.START_PATTERN),Vt.INDEXES_START_PATTERN),null!=o[4]&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,a,t,r,Vt.STOP_PATTERN),Vt.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,a,o){const i=new Array(4);let s=!1;const c=new Int32Array(o.length);for(;n<t;n+=Vt.ROW_STEP){let t=Vt.findGuardPattern(e,a,n,r,!1,o,c);if(null!=t){for(;n>0;){const i=Vt.findGuardPattern(e,a,--n,r,!1,o,c);if(null==i){n++;break}t=i}i[0]=new se(t[0],n),i[1]=new se(t[1],n),s=!0;break}}let l=n+1;if(s){let n=0,a=Int32Array.from([Math.trunc(i[0].getX()),Math.trunc(i[1].getX())]);for(;l<t;l++){const t=Vt.findGuardPattern(e,a[0],l,r,!1,o,c);if(null!=t&&Math.abs(a[0]-t[0])<Vt.MAX_PATTERN_DRIFT&&Math.abs(a[1]-t[1])<Vt.MAX_PATTERN_DRIFT)a=t,n=0;else{if(n>Vt.SKIPPED_ROW_COUNT_MAX)break;n++}}l-=n+1,i[2]=new se(a[0],l),i[3]=new se(a[1],l)}return l-n<Vt.BARCODE_MIN_HEIGHT&&x.fill(i,null),i}static findGuardPattern(e,t,r,n,a,o,i){x.fillWithin(i,0,i.length,0);let s=t,c=0;for(;e.get(s,r)&&s>0&&c++<Vt.MAX_PIXEL_DRIFT;)s--;let l=s,u=0,d=o.length;for(let t=a;l<n;l++)if(e.get(l,r)!==t)i[u]++;else{if(u===d-1){if(Vt.patternMatchVariance(i,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return new Int32Array([s,l]);s+=i[0]+i[1],m.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,t=!t}return u===d-1&&Vt.patternMatchVariance(i,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE?new Int32Array([s,l-1]):null}static patternMatchVariance(e,t,r){let n=e.length,a=0,o=0;for(let r=0;r<n;r++)a+=e[r],o+=t[r];if(a<o)return 1/0;let i=a/o;r*=i;let s=0;for(let a=0;a<n;a++){let n=e[a],o=t[a]*i,c=n>o?n-o:o-n;if(c>r)return 1/0;s+=c}return s/a}}Vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vt.MAX_AVG_VARIANCE=.42,Vt.MAX_INDIVIDUAL_VARIANCE=.8,Vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vt.MAX_PIXEL_DRIFT=3,Vt.MAX_PATTERN_DRIFT=5,Vt.SKIPPED_ROW_COUNT_MAX=25,Vt.ROW_STEP=5,Vt.BARCODE_MIN_HEIGHT=10;class Gt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let e=t;t=r,r=e}let n=new Int32Array(r.length),a=r.length-t.length;m.arraycopy(r,0,n,0,a);for(let e=a;e<r.length;e++)n[e]=this.field.add(t[e-a],r[e]);return new Gt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Gt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Gt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,o=new Int32Array(r+a-1);for(let e=0;e<r;e++){let r=t[e];for(let t=0;t<a;t++)o[e+t]=this.field.add(o[e+t],this.field.multiply(r,n[t]))}return new Gt(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Gt(this.field,t)}multiplyScalar(e){if(0===e)return new Gt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Gt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new Gt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let e=0;e<r;e++)n[e]=this.field.multiply(this.coefficients[e],t);return new Gt(this.field,n)}toString(){let e=new A;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Ht{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new J;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class qt extends Ht{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let t=0;t<e-1;t++)this.logTable[this.expTable[t]]=t;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Gt(this,r)}}qt.PDF417_GF=new qt(Ut.NUMBER_OF_CODEWORDS,3);class Wt{constructor(){this.field=qt.PDF417_GF}decode(e,t,r){let n=new Gt(this.field,e),a=new Int32Array(t),o=!1;for(let e=t;e>0;e--){let r=n.evaluateAt(this.field.exp(e));a[t-e]=r,0!==r&&(o=!0)}if(!o)return 0;let i=this.field.getOne();if(null!=r)for(const t of r){let r=this.field.exp(e.length-1-t),n=new Gt(this.field,new Int32Array([this.field.subtract(0,r),1]));i=i.multiply(n)}let s=new Gt(this.field,a),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),l=c[0],u=c[1],d=this.findErrorLocations(l),f=this.findErrorMagnitudes(u,l,d);for(let t=0;t<d.length;t++){let r=e.length-1-this.field.log(d[t]);if(r<0)throw h.getChecksumInstance();e[r]=this.field.subtract(e[r],f[t])}return d.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let r=e;e=t,t=r}let n=e,a=t,o=this.field.getZero(),i=this.field.getOne();for(;a.getDegree()>=Math.round(r/2);){let e=n,t=o;if(n=a,o=i,n.isZero())throw h.getChecksumInstance();a=e;let r=this.field.getZero(),s=n.getCoefficient(n.getDegree()),c=this.field.inverse(s);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){let e=a.getDegree()-n.getDegree(),t=this.field.multiply(a.getCoefficient(a.getDegree()),c);r=r.add(this.field.buildMonomial(e,t)),a=a.subtract(n.multiplyByMonomial(e,t))}i=r.multiply(o).subtract(t).negative()}let s=i.getCoefficient(0);if(0===s)throw h.getChecksumInstance();let c=this.field.inverse(s);return[i.multiply(c),a.multiply(c)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let a=1;a<this.field.getSize()&&n<t;a++)0===e.evaluateAt(a)&&(r[n]=this.field.inverse(a),n++);if(n!==t)throw h.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),a=new Int32Array(n);for(let e=1;e<=n;e++)a[n-e]=this.field.multiply(e,t.getCoefficient(e));let o=new Gt(this.field,a),i=r.length,s=new Int32Array(i);for(let t=0;t<i;t++){let n=this.field.inverse(r[t]),a=this.field.subtract(0,e.evaluateAt(n)),i=this.field.inverse(o.evaluateAt(n));s[t]=this.field.multiply(a,i)}return s}}class Yt{constructor(e,t,r,n,a){e instanceof Yt?this.constructor_2(e):this.constructor_1(e,t,r,n,a)}constructor_1(e,t,r,n,a){const o=null==t||null==r,i=null==n||null==a;if(o&&i)throw new O;o?(t=new se(0,n.getY()),r=new se(0,a.getY())):i&&(n=new se(e.getWidth()-1,t.getY()),a=new se(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Yt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,a=this.bottomLeft,o=this.topRight,i=this.bottomRight;if(e>0){let t=r?this.topLeft:this.topRight,a=Math.trunc(t.getY()-e);a<0&&(a=0);let i=new se(t.getX(),a);r?n=i:o=i}if(t>0){let e=r?this.bottomLeft:this.bottomRight,n=Math.trunc(e.getY()+t);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let o=new se(e.getX(),n);r?a=o:i=o}return new Yt(this.image,n,a,o,i)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xt{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class $t{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(e,n,a,o,i,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let c,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let u=parseInt(a),d=a&&a[0]+""=="0"?"0":" ";for(;c.length<u;)c=void 0!==n?c+d:d+c;return c}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,n)}format(e,...t){this.buffer+=$t.form(e,t)}toString(){return this.buffer}}class Qt{constructor(e){this.boundingBox=new Yt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<Qt.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],null!=t))return t;if(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new $t;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}Qt.MAX_NEARBY_DISTANCE=5;class Zt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const a={getKey:()=>r,getValue:()=>n};a.getValue()>e?(e=a.getValue(),t=[],t.push(a.getKey())):a.getValue()===e&&t.push(a.getKey())}return Ut.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Kt extends Qt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=-1,c=1,l=0;for(let r=o;r<i;r++){if(null==t[r])continue;let n=t[r],a=n.getRowNumber()-s;if(0===a)l++;else if(1===a)c=Math.max(c,l),l=1,s=n.getRowNumber();else if(a<0||n.getRowNumber()>=e.getRowCount()||a>r)t[r]=null;else{let e;e=c>2?(c-2)*a:a;let o=e>=r;for(let n=1;n<=e&&!o;n++)o=null!=t[r-n];o?t[r]=null:(s=n.getRowNumber(),l=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let e of this.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=t.length)continue;t[r]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.getCodewords(),s=-1;for(let t=a;t<o;t++){if(null==i[t])continue;let r=i[t];r.setRowNumberAsRowIndicatorColumn();let n=r.getRowNumber()-s;0===n||(1===n?s=r.getRowNumber():r.getRowNumber()>=e.getRowCount()?i[t]=null:s=r.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Zt,r=new Zt,n=new Zt,a=new Zt;for(let o of e){if(null==o)continue;o.setRowNumberAsRowIndicatorColumn();let e=o.getValue()%30,i=o.getRowNumber();switch(this._isLeft||(i+=2),i%3){case 0:r.setValue(3*e+1);break;case 1:a.setValue(e/3),n.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===a.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;let o=new Xt(t.getValue()[0],r.getValue()[0],n.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let a=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount())e[r]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*a+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(a/3)===t.getErrorCorrectionLevel()&&a%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:a+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ut.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let e=1;e<this.barcodeColumnCount+1;e++){let t=this.detectionResultColumns[e].getCodewords();for(let r=0;r<t.length;r++)null!=t[r]&&(t[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,t))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let n=this.detectionResultColumns[t].getCodewords()[r];null!=n&&(n.setRowNumber(e[r].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=this.barcodeColumnCount+1;t>0&&a<this.ADJUST_ROW_NUMBER_SKIP;t--){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(a=Jt.adjustRowNumberIfValid(n,a,o),o.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=1;t<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;t++){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(a=Jt.adjustRowNumberIfValid(n,a,o),o.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],a=this.detectionResultColumns[e-1].getCodewords(),o=a;null!=this.detectionResultColumns[e+1]&&(o=this.detectionResultColumns[e+1].getCodewords());let i=new Array(14);i[2]=a[t],i[3]=o[t],t>0&&(i[0]=r[t-1],i[4]=a[t-1],i[5]=o[t-1]),t>1&&(i[8]=r[t-2],i[10]=a[t-2],i[11]=o[t-2]),t<r.length-1&&(i[1]=r[t+1],i[6]=a[t+1],i[7]=o[t+1]),t<r.length-2&&(i[9]=r[t+2],i[12]=a[t+2],i[13]=o[t+2]);for(let e of i)if(Jt.adjustRowNumber(n,e))return}static adjustRowNumber(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new $t;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let n=this.detectionResultColumns[e].getCodewords()[r];null!=n?t.format(" %3d|%3d",n.getRowNumber(),n.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class er{constructor(e,t,r,n){this.rowNumber=er.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==er.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}er.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let e=0;e<Ut.SYMBOL_TABLE.length;e++){let t=Ut.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<Ut.BARS_IN_MODULE;n++){let a=0;for(;(1&t)===r;)a+=1,t>>=1;r=1&t,tr.RATIOS_TABLE[e]||(tr.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),tr.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-n-1]=Math.fround(a/Ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tr.getDecodedCodewordValue(tr.sampleBitCounts(e));return-1!==t?t:tr.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=oe.sum(e),r=new Int32Array(Ut.BARS_IN_MODULE),n=0,a=0;for(let o=0;o<Ut.MODULES_IN_CODEWORD;o++){let i=t/(2*Ut.MODULES_IN_CODEWORD)+o*t/Ut.MODULES_IN_CODEWORD;a+e[n]<=i&&(a+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=tr.getBitValue(e);return-1===Ut.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=oe.sum(e),r=new Array(Ut.BARS_IN_MODULE);if(t>1)for(let n=0;n<r.length;n++)r[n]=Math.fround(e[n]/t);let n=ie.MAX_VALUE,a=-1;this.bSymbolTableReady||tr.initialize();for(let e=0;e<tr.RATIOS_TABLE.length;e++){let t=0,o=tr.RATIOS_TABLE[e];for(let e=0;e<Ut.BARS_IN_MODULE;e++){let a=Math.fround(o[e]-r[e]);if(t+=Math.fround(a*a),t>=n)break}t<n&&(n=t,a=Ut.SYMBOL_TABLE[e])}return a}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map((e=>new Array(Ut.BARS_IN_MODULE)));class rr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class nr{static parseLong(e,t=void 0){return parseInt(e,t)}}class ar extends l{}ar.kind="NullPointerException";class or{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new ar;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new g;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class ir extends l{}class sr extends or{constructor(e=32){if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new ir;t=b.MAX_VALUE}this.buf=x.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new g;this.ensureCapacity(this.count+r),m.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return x.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function cr(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==r.g)return r.g.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lr;function ur(e){if(void 0===lr&&(lr=cr()),null===lr)throw new Error("BigInt is not supported!");return lr(e)}function dr(){let e=[];e[0]=ur(1);let t=ur(900);e[1]=t;for(let r=2;r<16;r++)e[r]=e[r-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(X||(X={}));class fr{static decode(e,t){let r=new A(""),n=_.ISO8859_1;r.enableDecoding(n);let a=1,o=e[a++],i=new rr;for(;a<e[0];){switch(o){case fr.TEXT_COMPACTION_MODE_LATCH:a=fr.textCompaction(e,a,r);break;case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:a=fr.byteCompaction(o,e,n,a,r);break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case fr.NUMERIC_COMPACTION_MODE_LATCH:a=fr.numericCompaction(e,a,r);break;case fr.ECI_CHARSET:_.getCharacterSetECIByValue(e[a++]);break;case fr.ECI_GENERAL_PURPOSE:a+=2;break;case fr.ECI_USER_DEFINED:a++;break;case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=fr.decodeMacroBlock(e,a,i);break;case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:throw new N;default:a--,a=fr.textCompaction(e,a,r)}if(!(a<e.length))throw N.getFormatInstance();o=e[a++]}if(0===r.length())throw N.getFormatInstance();let s=new Q(null,r.toString(),null,t);return s.setOther(i),s}static decodeMacroBlock(e,t,r){if(t+fr.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw N.getFormatInstance();let n=new Int32Array(fr.NUMBER_OF_SEQUENCE_CODEWORDS);for(let r=0;r<fr.NUMBER_OF_SEQUENCE_CODEWORDS;r++,t++)n[r]=e[t];r.setSegmentIndex(b.parseInt(fr.decodeBase900toBase10(n,fr.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new A;t=fr.textCompaction(e,t,a),r.setFileId(a.toString());let o=-1;for(e[t]===fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new A;t=fr.textCompaction(e,t+1,n),r.setFileName(n.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let a=new A;t=fr.textCompaction(e,t+1,a),r.setSender(a.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let o=new A;t=fr.textCompaction(e,t+1,o),r.setAddressee(o.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let i=new A;t=fr.numericCompaction(e,t+1,i),r.setSegmentCount(b.parseInt(i.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new A;t=fr.numericCompaction(e,t+1,s),r.setTimestamp(nr.parseLong(s.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let c=new A;t=fr.numericCompaction(e,t+1,c),r.setChecksum(b.parseInt(c.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let l=new A;t=fr.numericCompaction(e,t+1,l),r.setFileSize(nr.parseLong(l.toString()));break;default:throw N.getFormatInstance()}break;case fr.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw N.getFormatInstance()}if(-1!==o){let n=t-o;r.isLastSegment()&&n--,r.setOptionalData(x.copyOfRange(e,o,o+n))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),a=new Int32Array(2*(e[0]-t)),o=0,i=!1;for(;t<e[0]&&!i;){let r=e[t++];if(r<fr.TEXT_COMPACTION_MODE_LATCH)n[o]=r/30,n[o+1]=r%30,o+=2;else switch(r){case fr.TEXT_COMPACTION_MODE_LATCH:n[o++]=fr.TEXT_COMPACTION_MODE_LATCH;break;case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:t--,i=!0;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,r=e[t++],a[o]=r,o++}}return fr.decodeTextCompaction(n,a,o,r),t}static decodeTextCompaction(e,t,r,n){let a=X.ALPHA,o=X.ALPHA,i=0;for(;i<r;){let r=e[i],s="";switch(a){case X.ALPHA:if(r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case fr.LL:a=X.LOWER;break;case fr.ML:a=X.MIXED;break;case fr.PS:o=a,a=X.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}break;case X.LOWER:if(r<26)s=String.fromCharCode(97+r);else switch(r){case 26:s=" ";break;case fr.AS:o=a,a=X.ALPHA_SHIFT;break;case fr.ML:a=X.MIXED;break;case fr.PS:o=a,a=X.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}break;case X.MIXED:if(r<fr.PL)s=fr.MIXED_CHARS[r];else switch(r){case fr.PL:a=X.PUNCT;break;case 26:s=" ";break;case fr.LL:a=X.LOWER;break;case fr.AL:a=X.ALPHA;break;case fr.PS:o=a,a=X.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}break;case X.PUNCT:if(r<fr.PAL)s=fr.PUNCT_CHARS[r];else switch(r){case fr.PAL:a=X.ALPHA;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}break;case X.ALPHA_SHIFT:if(a=o,r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}break;case X.PUNCT_SHIFT:if(a=o,r<fr.PAL)s=fr.PUNCT_CHARS[r];else switch(r){case fr.PAL:a=X.ALPHA;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=X.ALPHA}}""!==s&&n.append(s),i++}}static byteCompaction(e,t,r,n,a){let o=new sr,i=0,s=0,c=!1;switch(e){case fr.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),r=t[n++];for(;n<t[0]&&!c;)switch(e[i++]=r,s=900*s+r,r=t[n++],r){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:n--,c=!0;break;default:if(i%5==0&&i>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,i=0}}n===t[0]&&r<fr.TEXT_COMPACTION_MODE_LATCH&&(e[i++]=r);for(let t=0;t<i;t++)o.write(e[t]);break;case fr.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!c;){let e=t[n++];if(e<fr.TEXT_COMPACTION_MODE_LATCH)i++,s=900*s+e;else switch(e){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:n--,c=!0}if(i%5==0&&i>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,i=0}}}return a.append(E.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,a=!1,o=new Int32Array(fr.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!a;){let i=e[t++];if(t===e[0]&&(a=!0),i<fr.TEXT_COMPACTION_MODE_LATCH)o[n]=i,n++;else switch(i){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:t--,a=!0}(n%fr.MAX_NUMERIC_CODEWORDS==0||i===fr.NUMERIC_COMPACTION_MODE_LATCH||a)&&n>0&&(r.append(fr.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=ur(0);for(let n=0;n<t;n++)r+=fr.EXP900[t-n-1]*ur(e[n]);let n=r.toString();if("1"!==n.charAt(0))throw new N;return n.substring(1)}}fr.TEXT_COMPACTION_MODE_LATCH=900,fr.BYTE_COMPACTION_MODE_LATCH=901,fr.NUMERIC_COMPACTION_MODE_LATCH=902,fr.BYTE_COMPACTION_MODE_LATCH_6=924,fr.ECI_USER_DEFINED=925,fr.ECI_GENERAL_PURPOSE=926,fr.ECI_CHARSET=927,fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fr.MACRO_PDF417_TERMINATOR=922,fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fr.MAX_NUMERIC_CODEWORDS=15,fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fr.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fr.PL=25,fr.LL=27,fr.AS=27,fr.ML=28,fr.AL=28,fr.PS=29,fr.PAL=29,fr.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",fr.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",fr.EXP900=cr()?dr():[],fr.NUMBER_OF_SEQUENCE_CODEWORDS=2;class hr{constructor(){}static decode(e,t,r,n,a,o,i){let s,c=new Yt(e,t,r,n,a),l=null,u=null;for(let r=!0;;r=!1){if(null!=t&&(l=hr.getRowIndicatorColumn(e,c,t,!0,o,i)),null!=n&&(u=hr.getRowIndicatorColumn(e,c,n,!1,o,i)),s=hr.merge(l,u),null==s)throw O.getNotFoundInstance();let a=s.getBoundingBox();if(!r||null==a||!(a.getMinY()<c.getMinY()||a.getMaxY()>c.getMaxY()))break;c=a}s.setBoundingBox(c);let d=s.getBarcodeColumnCount()+1;s.setDetectionResultColumn(0,l),s.setDetectionResultColumn(d,u);let f=null!=l;for(let t=1;t<=d;t++){let r,n=f?t:d-t;if(void 0!==s.getDetectionResultColumn(n))continue;r=0===n||n===d?new Kt(c,0===n):new Qt(c),s.setDetectionResultColumn(n,r);let a=-1,l=a;for(let t=c.getMinY();t<=c.getMaxY();t++){if(a=hr.getStartColumn(s,n,t,f),a<0||a>c.getMaxX()){if(-1===l)continue;a=l}let u=hr.detectCodeword(e,c.getMinX(),c.getMaxX(),f,a,t,o,i);null!=u&&(r.setCodeword(t,u),l=a,o=Math.min(o,u.getWidth()),i=Math.max(i,u.getWidth()))}}return hr.createDecoderResult(s)}static merge(e,t){if(null==e&&null==t)return null;let r=hr.getBarcodeMetadata(e,t);if(null==r)return null;let n=Yt.merge(hr.adjustBoundingBox(e),hr.adjustBoundingBox(t));return new Jt(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=hr.getMax(t),n=0;for(let e of t)if(n+=r-e,e>0)break;let a=e.getCodewords();for(let e=0;n>0&&null==a[e];e++)n--;let o=0;for(let e=t.length-1;e>=0&&(o+=r-t[e],!(t[e]>0));e--);for(let e=a.length-1;o>0&&null==a[e];e--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,a,o){let i=new Kt(t,n);for(let s=0;s<2;s++){let c=0===s?1:-1,l=Math.trunc(Math.trunc(r.getX()));for(let s=Math.trunc(Math.trunc(r.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=c){let t=hr.detectCodeword(e,0,e.getWidth(),n,l,s,a,o);null!=t&&(i.setCodeword(s,t),l=n?t.getStartX():t.getEndX())}}return i}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-hr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(a<1||a>Ut.MAX_CODEWORDS_IN_BARCODE)throw O.getNotFoundInstance();r.setValue(a)}else n[0]!==a&&r.setValue(a)}static createDecoderResult(e){let t=hr.createBarcodeMatrix(e);hr.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array;for(let i=0;i<e.getBarcodeRowCount();i++)for(let s=0;s<e.getBarcodeColumnCount();s++){let c=t[i][s+1].getValue(),l=i*e.getBarcodeColumnCount()+s;0===c.length?r.push(l):1===c.length?n[l]=c[0]:(o.push(l),a.push(c))}let i=new Array(a.length);for(let e=0;e<i.length;e++)i[e]=a[e];return hr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ut.toIntArray(r),Ut.toIntArray(o),i)}static createDecoderResultFromAmbiguousValues(e,t,r,n,a){let o=new Int32Array(n.length),i=100;for(;i-- >0;){for(let e=0;e<o.length;e++)t[n[e]]=a[e][o[e]];try{return hr.decodeCodewords(t,e,r)}catch(e){if(!(e instanceof h))throw e}if(0===o.length)throw h.getChecksumInstance();for(let e=0;e<o.length;e++){if(o[e]<a[e].length-1){o[e]++;break}if(o[e]=0,e===o.length-1)throw h.getChecksumInstance()}}throw h.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)t[e][r]=new Zt;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let e of n.getCodewords())if(null!=e){let n=e.getRowNumber();if(n>=0){if(n>=t.length)continue;t[n][r].setValue(e.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let a=n?1:-1,o=null;if(hr.isValidBarcodeColumn(e,t-a)&&(o=e.getDetectionResultColumn(t-a).getCodeword(r)),null!=o)return n?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(r),null!=o)return n?o.getStartX():o.getEndX();if(hr.isValidBarcodeColumn(e,t-a)&&(o=e.getDetectionResultColumn(t-a).getCodewordNearby(r)),null!=o)return n?o.getEndX():o.getStartX();let i=0;for(;hr.isValidBarcodeColumn(e,t-a);){t-=a;for(let r of e.getDetectionResultColumn(t).getCodewords())if(null!=r)return(n?r.getEndX():r.getStartX())+a*i*(r.getEndX()-r.getStartX());i++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,a,o,i,s){a=hr.adjustCodewordStartColumn(e,t,r,n,a,o);let c,l=hr.getModuleBitCount(e,t,r,n,a,o);if(null==l)return null;let u=oe.sum(l);if(n)c=a+u;else{for(let e=0;e<l.length/2;e++){let t=l[e];l[e]=l[l.length-1-e],l[l.length-1-e]=t}c=a,a=c-u}if(!hr.checkCodewordSkew(u,i,s))return null;let d=tr.getDecodedValue(l),f=Ut.getCodeword(d);return-1===f?null:new er(a,c,hr.getCodewordBucketNumber(d),f)}static getModuleBitCount(e,t,r,n,a,o){let i=a,s=new Int32Array(8),c=0,l=n?1:-1,u=n;for(;(n?i<r:i>=t)&&c<s.length;)e.get(i,o)===u?(s[c]++,i+=l):(c++,u=!u);return c===s.length||i===(n?r:t)&&c===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,a,o){let i=a,s=n?-1:1;for(let c=0;c<2;c++){for(;(n?i>=t:i<r)&&n===e.get(i,o);){if(Math.abs(a-i)>hr.CODEWORD_SKEW_SIZE)return a;i+=s}s=-s,n=!n}return i}static checkCodewordSkew(e,t,r){return t-hr.CODEWORD_SKEW_SIZE<=e&&e<=r+hr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw N.getFormatInstance();let n=1<<t+1,a=hr.correctErrors(e,r,n);hr.verifyCodewordCount(e,n);let o=fr.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(r.length),o}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+hr.MAX_ERRORS||r<0||r>hr.MAX_EC_CODEWORDS)throw h.getChecksumInstance();return hr.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw N.getFormatInstance();let r=e[0];if(r>e.length)throw N.getFormatInstance();if(0===r){if(!(t<e.length))throw N.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return hr.getCodewordBucketNumber(hr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new $t;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let a=e[r][n];0===a.getValue().length?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()}}hr.CODEWORD_SKEW_SIZE=2,hr.MAX_ERRORS=3,hr.MAX_EC_CODEWORDS=512,hr.errorCorrection=new Wt;class pr{decode(e,t=null){let r=pr.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw O.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return pr.decode(e,t,!0)}catch(e){if(e instanceof N||e instanceof h)throw O.getNotFoundInstance();throw e}}static decode(e,t,r){const n=new Array,a=Vt.detectMultiple(e,t,r);for(const e of a.getPoints()){const t=hr.decode(a.getBits(),e[4],e[5],e[6],e[7],pr.getMinCodewordWidth(e),pr.getMaxCodewordWidth(e)),r=new U(t.getText(),t.getRawBytes(),void 0,e,V.PDF_417);r.putMetadata($.ERROR_CORRECTION_LEVEL,t.getECLevel());const o=t.getOther();null!=o&&r.putMetadata($.PDF417_EXTRA_METADATA,o),n.push(r)}return n.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?b.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(pr.getMaxWidth(e[0],e[4]),pr.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(pr.getMaxWidth(e[1],e[5]),pr.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(pr.getMinWidth(e[0],e[4]),pr.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(pr.getMinWidth(e[1],e[5]),pr.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class mr extends l{}mr.kind="ReaderException";class gr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!t(e)&&!0===e.get(w.TRY_HARDER),n=t(e)?null:e.get(w.POSSIBLE_FORMATS),a=new Array;if(!t(n)){const t=n.some((e=>e===V.UPC_A||e===V.UPC_E||e===V.EAN_13||e===V.EAN_8||e===V.CODABAR||e===V.CODE_39||e===V.CODE_93||e===V.CODE_128||e===V.ITF||e===V.RSS_14||e===V.RSS_EXPANDED));t&&!r&&a.push(new ct(e,this.verbose)),n.includes(V.QR_CODE)&&a.push(new Bt),n.includes(V.DATA_MATRIX)&&a.push(new bt),n.includes(V.AZTEC)&&a.push(new ve),n.includes(V.PDF_417)&&a.push(new pr),t&&r&&a.push(new ct(e,this.verbose))}0===a.length&&(r||a.push(new ct(e,this.verbose)),a.push(new Bt),a.push(new bt),a.push(new ve),a.push(new pr),r&&a.push(new ct(e,this.verbose))),this.readers=a}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new mr("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(e){if(e instanceof mr)continue}throw new O("No MultiFormat Readers were able to detect the code.")}}class vr extends B{constructor(e=null,t=500){const r=new gr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class xr extends B{constructor(e=500){super(new pr,e)}}class br extends B{constructor(e=500){super(new Bt,e)}}var yr;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(yr||(yr={}));var jr=yr;class wr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new K(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let a=t.length;a<=e;a++){const e=r.multiply(new K(n,Int32Array.from([1,n.exp(a-1+n.getGeneratorBase())])));t.push(e),r=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const r=e.length-t;if(r<=0)throw new d("No data bytes provided");const n=this.buildGenerator(t),a=new Int32Array(r);m.arraycopy(e,0,a,0,r);let o=new K(this.field,a);o=o.multiplyByMonomial(t,1);const i=o.divide(n)[1].getCoefficients(),s=t-i.length;for(let t=0;t<s;t++)e[r+t]=0;m.arraycopy(i,0,e,r+s,i.length)}}class Nr{constructor(){}static applyMaskPenaltyRule1(e){return Nr.applyMaskPenaltyRule1Internal(e,!0)+Nr.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a-1;e++){const a=r[e];for(let o=0;o<n-1;o++){const n=a[o];n===a[o+1]&&n===r[e+1][o]&&n===r[e+1][o+1]&&t++}}return Nr.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a;e++)for(let o=0;o<n;o++){const i=r[e];o+6<n&&1===i[o]&&0===i[o+1]&&1===i[o+2]&&1===i[o+3]&&1===i[o+4]&&0===i[o+5]&&1===i[o+6]&&(Nr.isWhiteHorizontal(i,o-4,o)||Nr.isWhiteHorizontal(i,o+7,o+11))&&t++,e+6<a&&1===r[e][o]&&0===r[e+1][o]&&1===r[e+2][o]&&1===r[e+3][o]&&1===r[e+4][o]&&0===r[e+5][o]&&1===r[e+6][o]&&(Nr.isWhiteVertical(r,o,e-4,e)||Nr.isWhiteVertical(r,o,e+7,e+11))&&t++}return t*Nr.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let a=r;a<n;a++)if(1===e[a][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a;e++){const a=r[e];for(let e=0;e<n;e++)1===a[e]&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-o)/o)*Nr.N4}static getDataMaskBit(e,t,r){let n,a;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,n=(1&a)+a%3;break;case 6:a=r*t,n=(1&a)+a%3&1;break;case 7:a=r*t,n=a%3+(r+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray();for(let e=0;e<n;e++){let n=0,i=-1;for(let s=0;s<a;s++){const a=t?o[e][s]:o[s][e];a===i?n++:(n>=5&&(r+=Nr.N1+(n-5)),n=1,i=a)}n>=5&&(r+=Nr.N1+(n-5))}return r}}Nr.N1=3,Nr.N2=3,Nr.N3=40,Nr.N4=10;class _r{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)x.fill(t,e)}equals(e){if(!(e instanceof _r))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let e=0,r=this.height;e<r;++e){const r=this.bytes[e],n=t.bytes[e];for(let e=0,t=this.width;e<t;++e)if(r[e]!==n[e])return!1}return!0}toString(){const e=new A;for(let t=0,r=this.height;t<r;++t){const r=this.bytes[t];for(let t=0,n=this.width;t<n;++t)switch(r[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Cr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new A;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Cr.NUM_MASK_PATTERNS}}Cr.NUM_MASK_PATTERNS=8;class Er extends l{}Er.kind="WriterException";class Sr{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,a){Sr.clearMatrix(a),Sr.embedBasicPatterns(r,a),Sr.embedTypeInfo(t,n,a),Sr.maybeEmbedVersionInfo(r,a),Sr.embedDataBits(e,n,a)}static embedBasicPatterns(e,t){Sr.embedPositionDetectionPatternsAndSeparators(t),Sr.embedDarkDotAtLeftBottomCorner(t),Sr.maybeEmbedPositionAdjustmentPatterns(e,t),Sr.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new y;Sr.makeTypeInfoBits(e,t,n);for(let e=0,t=n.getSize();e<t;++e){const t=n.get(n.getSize()-1-e),a=Sr.TYPE_INFO_COORDINATES[e],o=a[0],i=a[1];if(r.setBoolean(o,i,t),e<8){const n=r.getWidth()-e-1,a=8;r.setBoolean(n,a,t)}else{const n=8,a=r.getHeight()-7+(e-8);r.setBoolean(n,a,t)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new y;Sr.makeVersionInfoBits(e,r);let n=17;for(let e=0;e<6;++e)for(let a=0;a<3;++a){const o=r.get(n);n--,t.setBoolean(e,t.getHeight()-11+a,o),t.setBoolean(t.getHeight()-11+a,e,o)}}static embedDataBits(e,t,r){let n=0,a=-1,o=r.getWidth()-1,i=r.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);i>=0&&i<r.getHeight();){for(let a=0;a<2;++a){const s=o-a;if(!Sr.isEmpty(r.get(s,i)))continue;let c;n<e.getSize()?(c=e.get(n),++n):c=!1,255!==t&&Nr.getDataMaskBit(t,s,i)&&(c=!c),r.setBoolean(s,i,c)}i+=a}a=-a,i+=a,o-=2}if(n!==e.getSize())throw new Er("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-b.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const r=Sr.findMSBSet(t);for(e<<=r-1;Sr.findMSBSet(e)>=r;)e^=t<<Sr.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Cr.isValidMaskPattern(t))throw new Er("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const a=Sr.calculateBCHCode(n,Sr.TYPE_INFO_POLY);r.appendBits(a,10);const o=new y;if(o.appendBits(Sr.TYPE_INFO_MASK_PATTERN,15),r.xor(o),15!==r.getSize())throw new Er("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Sr.calculateBCHCode(e.getVersionNumber(),Sr.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new Er("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Sr.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Sr.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Er;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Sr.isEmpty(r.get(e+n,t)))throw new Er;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Sr.isEmpty(r.get(e,t+n)))throw new Er;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const a=Sr.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,a[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const a=Sr.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,a[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Sr.POSITION_DETECTION_PATTERN[0].length;Sr.embedPositionDetectionPattern(0,0,e),Sr.embedPositionDetectionPattern(e.getWidth()-t,0,e),Sr.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Sr.embedHorizontalSeparationPattern(0,r-1,e),Sr.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Sr.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Sr.embedVerticalSeparationPattern(n,0,e),Sr.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Sr.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Sr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let e=0,r=n.length;e!==r;e++){const a=n[e];if(a>=0)for(let e=0;e!==r;e++){const r=n[e];r>=0&&Sr.isEmpty(t.get(r,a))&&Sr.embedPositionAdjustmentPattern(r-2,a-2,t)}}}}Sr.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Sr.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Sr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Sr.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Sr.VERSION_INFO_POLY=7973,Sr.TYPE_INFO_POLY=1335,Sr.TYPE_INFO_MASK_PATTERN=21522;class Ar{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ir{constructor(){}static calculateMaskPenalty(e){return Nr.applyMaskPenaltyRule1(e)+Nr.applyMaskPenaltyRule2(e)+Nr.applyMaskPenaltyRule3(e)+Nr.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=Ir.DEFAULT_BYTE_MODE_ENCODING;const a=null!==r&&void 0!==r.get(jr.CHARACTER_SET);a&&(n=r.get(jr.CHARACTER_SET).toString());const o=this.chooseMode(e,n),i=new y;if(o===It.BYTE&&(a||Ir.DEFAULT_BYTE_MODE_ENCODING!==n)){const e=_.getCharacterSetECIByName(n);void 0!==e&&this.appendECI(e,i)}this.appendModeInfo(o,i);const s=new y;let c;if(this.appendBytes(e,o,s,n),null!==r&&void 0!==r.get(jr.QR_VERSION)){const e=Number.parseInt(r.get(jr.QR_VERSION).toString(),10);c=Ct.getVersionForNumber(e);const n=this.calculateBitsNeeded(o,i,s,c);if(!this.willFit(n,c,t))throw new Er("Data too big for requested version")}else c=this.recommendVersion(t,o,i,s);const l=new y;l.appendBitArray(i);const u=o===It.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,c,o,l),l.appendBitArray(s);const d=c.getECBlocksForLevel(t),f=c.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(f,l);const h=this.interleaveWithECBytes(l,c.getTotalCodewords(),f,d.getNumBlocks()),p=new Cr;p.setECLevel(t),p.setMode(o),p.setVersion(c);const m=c.getDimensionForVersion(),g=new _r(m,m),v=this.chooseMaskPattern(h,t,c,g);return p.setMaskPattern(v),Sr.buildMatrix(h,t,c,v,g),p.setMatrix(g),p}static recommendVersion(e,t,r,n){const a=this.calculateBitsNeeded(t,r,n,Ct.getVersionForNumber(1)),o=this.chooseVersion(a,e),i=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(i,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Ir.ALPHANUMERIC_TABLE.length?Ir.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(_.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return It.KANJI;let r=!1,n=!1;for(let t=0,a=e.length;t<a;++t){const a=e.charAt(t);if(Ir.isDigit(a))r=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return It.BYTE;n=!0}}return n?It.ALPHANUMERIC:r?It.NUMERIC:It.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=E.encode(e,_.SJIS)}catch(e){return!1}const r=t.length;if(r%2!=0)return!1;for(let e=0;e<r;e+=2){const r=255&t[e];if((r<129||r>159)&&(r<224||r>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let a=Number.MAX_SAFE_INTEGER,o=-1;for(let i=0;i<Cr.NUM_MASK_PATTERNS;i++){Sr.buildMatrix(e,t,r,i,n);let s=this.calculateMaskPenalty(n);s<a&&(a=s,o=i)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Ct.getVersionForNumber(r);if(Ir.willFit(e,n,t))return n}throw new Er("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new Er("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let e=0;e<4&&t.getSize()<r;++e)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let e=n;e<8;e++)t.appendBit(!1);const a=e-t.getSizeInBytes();for(let e=0;e<a;++e)t.appendBits(1&e?17:236,8);if(t.getSize()!==r)throw new Er("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,a,o){if(n>=r)throw new Er("Block ID too large");const i=e%r,s=r-i,c=Math.floor(e/r),l=c+1,u=Math.floor(t/r),d=u+1,f=c-u,h=l-d;if(f!==h)throw new Er("EC bytes mismatch");if(r!==s+i)throw new Er("RS blocks mismatch");if(e!==(u+f)*s+(d+h)*i)throw new Er("Total bytes mismatch");n<s?(a[0]=u,o[0]=f):(a[0]=d,o[0]=h)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Er("Number of bits and data bytes does not match");let a=0,o=0,i=0;const s=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),u=new Int32Array(1);Ir.getNumDataBytesAndNumECBytesForBlockID(t,r,n,c,l,u);const d=l[0],f=new Uint8Array(d);e.toBytes(8*a,f,0,d);const h=Ir.generateECBytes(f,u[0]);s.push(new Ar(f,h)),o=Math.max(o,d),i=Math.max(i,h.length),a+=l[0]}if(r!==a)throw new Er("Data bytes does not match offset");const c=new y;for(let e=0;e<o;++e)for(const t of s){const r=t.getDataBytes();e<r.length&&c.appendBits(r[e],8)}for(let e=0;e<i;++e)for(const t of s){const r=t.getErrorCorrectionBytes();e<r.length&&c.appendBits(r[e],8)}if(t!==c.getSizeInBytes())throw new Er("Interleaving error: "+t+" and "+c.getSizeInBytes()+" differ.");return c}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let t=0;t<r;t++)n[t]=255&e[t];new wr(ee.QR_CODE_FIELD_256).encode(n,t);const a=new Uint8Array(t);for(let e=0;e<t;e++)a[e]=n[r+e];return a}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Er(e+" is bigger than "+((1<<a)-1));n.appendBits(e,a)}static appendBytes(e,t,r,n){switch(t){case It.NUMERIC:Ir.appendNumericBytes(e,r);break;case It.ALPHANUMERIC:Ir.appendAlphanumericBytes(e,r);break;case It.BYTE:Ir.append8BitBytes(e,r,n);break;case It.KANJI:Ir.appendKanjiBytes(e,r);break;default:throw new Er("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Ir.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Ir.getDigit(e.charAt(n));if(n+2<r){const r=Ir.getDigit(e.charAt(n+1)),o=Ir.getDigit(e.charAt(n+2));t.appendBits(100*a+10*r+o,10),n+=3}else if(n+1<r){const r=Ir.getDigit(e.charAt(n+1));t.appendBits(10*a+r,7),n+=2}else t.appendBits(a,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Ir.getAlphanumericCode(e.charCodeAt(n));if(-1===a)throw new Er;if(n+1<r){const r=Ir.getAlphanumericCode(e.charCodeAt(n+1));if(-1===r)throw new Er;t.appendBits(45*a+r,11),n+=2}else t.appendBits(a,6),n++}}static append8BitBytes(e,t,r){let n;try{n=E.encode(e,r)}catch(e){throw new Er(e)}for(let e=0,r=n.length;e!==r;e++){const r=n[e];t.appendBits(r,8)}}static appendKanjiBytes(e,t){let r;try{r=E.encode(e,_.SJIS)}catch(e){throw new Er(e)}const n=r.length;for(let e=0;e<n;e+=2){const n=(255&r[e])<<8&4294967295|255&r[e+1];let a=-1;if(n>=33088&&n<=40956?a=n-33088:n>=57408&&n<=60351&&(a=n-49472),-1===a)throw new Er("Invalid byte sequence");const o=192*(a>>8)+(255&a);t.appendBits(o,13)}}static appendECI(e,t){t.appendBits(It.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ir.DEFAULT_BYTE_MODE_ENCODING=_.UTF8.getName();class Or{write(e,t,r,n=null){if(0===e.length)throw new d("Found empty contents");if(t<0||r<0)throw new d("Requested dimensions are too small: "+t+"x"+r);let a=jt.L,o=Or.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(jr.ERROR_CORRECTION)&&(a=jt.fromString(n.get(jr.ERROR_CORRECTION).toString())),void 0!==n.get(jr.MARGIN)&&(o=Number.parseInt(n.get(jr.MARGIN).toString(),10)));const i=Ir.encode(e,a,n);return this.renderResult(i,t,r,o)}writeToDom(e,t,r,n,a=null){"string"==typeof e&&(e=document.querySelector(e));const o=this.write(t,r,n,a);e&&e.appendChild(o)}renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const o=a.getWidth(),i=a.getHeight(),s=o+2*n,c=i+2*n,l=Math.max(t,s),u=Math.max(r,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*d)/2),h=Math.floor((u-i*d)/2),p=this.createSVGElement(l,u);for(let e=0,t=h;e<i;e++,t+=d)for(let r=0,n=f;r<o;r++,n+=d)if(1===a.get(r,e)){const e=this.createSvgRectElement(n,t,d,d);p.appendChild(e)}return p}createSVGElement(e,t){const r=document.createElementNS(Or.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const a=document.createElementNS(Or.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Or.QUIET_ZONE_SIZE=4,Or.SVG_NS="http://www.w3.org/2000/svg";class Tr{encode(e,t,r,n,a){if(0===e.length)throw new d("Found empty contents");if(t!==V.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new d(`Requested dimensions are too small: ${r}x${n}`);let o=jt.L,i=Tr.QUIET_ZONE_SIZE;null!==a&&(void 0!==a.get(jr.ERROR_CORRECTION)&&(o=jt.fromString(a.get(jr.ERROR_CORRECTION).toString())),void 0!==a.get(jr.MARGIN)&&(i=Number.parseInt(a.get(jr.MARGIN).toString(),10)));const s=Ir.encode(e,o,a);return Tr.renderResult(s,r,n,i)}static renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const o=a.getWidth(),i=a.getHeight(),s=o+2*n,c=i+2*n,l=Math.max(t,s),u=Math.max(r,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*d)/2),h=Math.floor((u-i*d)/2),p=new I(l,u);for(let e=0,t=h;e<i;e++,t+=d)for(let r=0,n=f;r<o;r++,n+=d)1===a.get(r,e)&&p.setRegion(n,t,d,d);return p}}Tr.QUIET_ZONE_SIZE=4;class Pr{encode(e,t,r,n,a){let o;if(t!==V.QR_CODE)throw new d("No encoder available for format "+t);return o=new Tr,o.encode(e,t,r,n,a)}}class kr extends k{constructor(e,t,r,n,a,o,i,s){if(super(o,i),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=a,n+o>t||a+i>r)throw new d("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(o,i)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.yuvData,a,n,0,r),n;for(let r=0;r<t;r++){const t=r*e;m.arraycopy(this.yuvData,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new kr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const t=o*e;for(let o=0;o<e;o++){const e=255&n[a+o*kr.THUMBNAIL_SCALE_FACTOR];r[t+o]=4278190080|65793*e}a+=this.dataWidth*kr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,a=this.top*this.dataWidth+this.left;n<t;n++,a+=this.dataWidth){const t=a+e/2;for(let n=a,o=a+e-1;n<t;n++,o--){const e=r[n];r[n]=r[o],r[o]=e}}}invert(){return new D(this)}}kr.THUMBNAIL_SCALE_FACTOR=2;class Dr extends k{constructor(e,t,r,n,a,o,i){if(super(t,r),this.dataWidth=n,this.dataHeight=a,this.left=o,this.top=i,4===e.BYTES_PER_ELEMENT){const n=t*r,a=new Uint8ClampedArray(n);for(let t=0;t<n;t++){const r=e[t],n=r>>16&255,o=r>>7&510,i=255&r;a[t]=(n+o+i)/4&255}this.luminances=a}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===a&&(this.dataHeight=r),void 0===o&&(this.left=0),void 0===i&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.luminances,a,n,0,r),n;for(let r=0;r<t;r++){const t=r*e;m.arraycopy(this.luminances,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Dr(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new D(this)}}class Mr extends _{static forName(e){return this.getCharacterSetECIByName(e)}}class Rr{}Rr.ISO_8859_1=_.ISO8859_1;class Fr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Lr{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Br{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ur extends Br{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Ur(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ur(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+b.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class zr extends Ur{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new zr(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vr(e,t,r){return new zr(e,t,r)}function Gr(e,t,r){return new Ur(e,t,r)}const Hr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qr=0,Wr=1,Yr=2,Xr=3,$r=4,Qr=new Ur(null,0,0),Zr=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Kr(e){for(let t of e)x.fill(t,-1);return e[qr][$r]=0,e[Wr][$r]=0,e[Wr][qr]=28,e[Xr][$r]=0,e[Yr][$r]=0,e[Yr][qr]=15,e}const Jr=Kr(x.createInt32Array(6,6));class en{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let t=Zr[this.mode][e];n=Gr(n,65535&t,t>>16),r+=t>>16}let a=e===Yr?4:5;return n=Gr(n,t,a),new en(n,e,0,r+a)}shiftAndAppend(e,t){let r=this.token,n=this.mode===Yr?4:5;return r=Gr(r,Jr[this.mode][e],n),r=Gr(r,t,5),new en(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===$r||this.mode===Yr){let e=Zr[r][qr];t=Gr(t,65535&e,e>>16),n+=e>>16,r=qr}let a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,o=new en(t,r,this.binaryShiftByteCount+1,n+a);return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new en(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Zr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=en.calculateBinaryShiftCost(e)-en.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let r=new y;for(const n of t)n.appendTo(r,e);return r}toString(){return S.format("%s bits=%d bytes=%d",Hr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function tn(e){const t=S.getCharCode(" "),r=S.getCharCode("."),n=S.getCharCode(",");e[qr][t]=1;const a=S.getCharCode("Z"),o=S.getCharCode("A");for(let t=o;t<=a;t++)e[qr][t]=t-o+2;e[Wr][t]=1;const i=S.getCharCode("z"),s=S.getCharCode("a");for(let t=s;t<=i;t++)e[Wr][t]=t-s+2;e[Yr][t]=1;const c=S.getCharCode("9"),l=S.getCharCode("0");for(let t=l;t<=c;t++)e[Yr][t]=t-l+2;e[Yr][n]=12,e[Yr][r]=13;const u=["\0"," ","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","@","\\","^","_","`","|","~",""];for(let t=0;t<u.length;t++)e[Xr][S.getCharCode(u[t])]=t;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let t=0;t<d.length;t++)S.getCharCode(d[t])>0&&(e[$r][S.getCharCode(d[t])]=t);return e}en.INITIAL_STATE=new en(Qr,qr,0,0);const rn=tn(x.createInt32Array(5,256));class nn{constructor(e){this.text=e}encode(){const e=S.getCharCode(" "),t=S.getCharCode("\n");let r=Lr.singletonList(en.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let a,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case S.getCharCode("\r"):a=o===t?2:0;break;case S.getCharCode("."):a=o===e?3:0;break;case S.getCharCode(","):a=o===e?4:0;break;case S.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=nn.updateStateListForPair(r,n,a),n++):r=this.updateStateListForChar(r,n)}return Lr.min(r,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return nn.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],a=rn[e.getMode()][n]>0,o=null;for(let i=0;i<=$r;i++){let s=rn[i][n];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!a||i===e.getMode()||i===Yr){const e=o.latchAndAppend(i,s);r.push(e)}if(!a&&Jr[e.getMode()][i]>=0){const e=o.shiftAndAppend(i,s);r.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rn[e.getMode()][n]){let n=e.addBinaryShiftChar(t);r.push(n)}}static updateStateListForPair(e,t,r){const n=[];for(let a of e)this.updateStateForPair(a,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let a=e.endBinaryShift(t);if(n.push(a.latchAndAppend($r,r)),e.getMode()!==$r&&n.push(a.shiftAndAppend($r,r)),3===r||4===r){let e=a.latchAndAppend(Yr,16-r).latchAndAppend(Yr,1);n.push(e)}if(e.getBinaryShiftByteCount()>0){let r=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(r)}}static simplifyStates(e){let t=[];for(const r of e){let e=!0;for(const n of t){if(n.isBetterThanOrEqualTo(r)){e=!1;break}r.isBetterThanOrEqualTo(n)&&(t=t.filter((e=>e!==n)))}e&&t.push(r)}return t}}class an{constructor(){}static encodeBytes(e){return an.encode(e,an.DEFAULT_EC_PERCENT,an.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,a,o,i,s,c=new nn(e).encode(),l=b.truncDivision(c.getSize()*t,100)+11,u=c.getSize()+l;if(r!==an.DEFAULT_AZTEC_LAYERS){if(n=r<0,a=Math.abs(r),a>(n?an.MAX_NB_BITS_COMPACT:an.MAX_NB_BITS))throw new d(S.format("Illegal value %s for layers",r));o=an.totalBitsInLayer(a,n),i=an.WORD_SIZE[a];let e=o-o%i;if(s=an.stuffBits(c,i),s.getSize()+l>e)throw new d("Data to large for user specified layer");if(n&&s.getSize()>64*i)throw new d("Data to large for user specified layer")}else{i=0,s=null;for(let e=0;;e++){if(e>an.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(n=e<=3,a=n?e+1:e,o=an.totalBitsInLayer(a,n),u>o)continue;null!=s&&i===an.WORD_SIZE[a]||(i=an.WORD_SIZE[a],s=an.stuffBits(c,i));let t=o-o%i;if(!(n&&s.getSize()>64*i)&&s.getSize()+l<=t)break}}let f,h=an.generateCheckWords(s,o,i),p=s.getSize()/i,m=an.generateModeMessage(n,a,p),g=(n?11:14)+4*a,v=new Int32Array(g);if(n){f=g;for(let e=0;e<v.length;e++)v[e]=e}else{f=g+1+2*b.truncDivision(b.truncDivision(g,2)-1,15);let e=b.truncDivision(g,2),t=b.truncDivision(f,2);for(let r=0;r<e;r++){let n=r+b.truncDivision(r,15);v[e-r-1]=t-n-1,v[e+r]=t+n+1}}let x=new I(f);for(let e=0,t=0;e<a;e++){let r=4*(a-e)+(n?9:12);for(let n=0;n<r;n++){let a=2*n;for(let o=0;o<2;o++)h.get(t+a+o)&&x.set(v[2*e+o],v[2*e+n]),h.get(t+2*r+a+o)&&x.set(v[2*e+n],v[g-1-2*e-o]),h.get(t+4*r+a+o)&&x.set(v[g-1-2*e-o],v[g-1-2*e-n]),h.get(t+6*r+a+o)&&x.set(v[g-1-2*e-n],v[2*e+o])}t+=8*r}if(an.drawModeMessage(x,n,f,m),n)an.drawBullsEye(x,b.truncDivision(f,2),5);else{an.drawBullsEye(x,b.truncDivision(f,2),7);for(let e=0,t=0;e<b.truncDivision(g,2)-1;e+=15,t+=16)for(let e=1&b.truncDivision(f,2);e<f;e+=2)x.set(b.truncDivision(f,2)-t,e),x.set(b.truncDivision(f,2)+t,e),x.set(e,b.truncDivision(f,2)-t),x.set(e,b.truncDivision(f,2)+t)}let y=new Fr;return y.setCompact(n),y.setSize(f),y.setLayers(a),y.setCodeWords(p),y.setMatrix(x),y}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let r=t-n;r<=t+n;r++)e.set(r,t-n),e.set(r,t+n),e.set(t-n,r),e.set(t+n,r);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new y;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=an.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=an.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let a=b.truncDivision(r,2);if(t)for(let t=0;t<7;t++){let r=a-3+t;n.get(t)&&e.set(r,a-5),n.get(t+7)&&e.set(a+5,r),n.get(20-t)&&e.set(r,a+5),n.get(27-t)&&e.set(a-5,r)}else for(let t=0;t<10;t++){let r=a-5+t+b.truncDivision(t,5);n.get(t)&&e.set(r,a-7),n.get(t+10)&&e.set(a+7,r),n.get(29-t)&&e.set(r,a+7),n.get(39-t)&&e.set(a-7,r)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,a=new wr(an.getGF(r)),o=b.truncDivision(t,r),i=an.bitsToWords(e,r,o);a.encode(i,o-n);let s=t%r,c=new y;c.appendBits(0,s);for(const e of Array.from(i))c.appendBits(e,r);return c}static bitsToWords(e,t,r){let n,a,o=new Int32Array(r);for(n=0,a=e.getSize()/t;n<a;n++){let r=0;for(let a=0;a<t;a++)r|=e.get(n*t+a)?1<<t-a-1:0;o[n]=r}return o}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let r=new y,n=e.getSize(),a=(1<<t)-2;for(let o=0;o<n;o+=t){let i=0;for(let r=0;r<t;r++)(o+r>=n||e.get(o+r))&&(i|=1<<t-1-r);(i&a)===a?(r.appendBits(i&a,t),o--):i&a?r.appendBits(i,t):(r.appendBits(1|i,t),o--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}an.DEFAULT_EC_PERCENT=33,an.DEFAULT_AZTEC_LAYERS=0,an.MAX_NB_BITS=32,an.MAX_NB_BITS_COMPACT=4,an.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class on{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,a){let o=Rr.ISO_8859_1,i=an.DEFAULT_EC_PERCENT,s=an.DEFAULT_AZTEC_LAYERS;return null!=a&&(a.has(jr.CHARACTER_SET)&&(o=Mr.forName(a.get(jr.CHARACTER_SET).toString())),a.has(jr.ERROR_CORRECTION)&&(i=b.parseInt(a.get(jr.ERROR_CORRECTION).toString())),a.has(jr.AZTEC_LAYERS)&&(s=b.parseInt(a.get(jr.AZTEC_LAYERS).toString()))),on.encodeLayers(e,t,r,n,o,i,s)}static encodeLayers(e,t,r,n,a,o,i){if(t!==V.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let s=an.encode(S.getBytes(e,a),o,i);return on.renderResult(s,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new re;let a=n.getWidth(),o=n.getHeight(),i=Math.max(t,a),s=Math.max(r,o),c=Math.min(i/a,s/o),l=(i-a*c)/2,u=(s-o*c)/2,d=new I(i,s);for(let e=0,t=u;e<o;e++,t+=c)for(let r=0,o=l;r<a;r++,o+=c)n.get(r,e)&&d.setRegion(o,t,c,c);return d}}e.AbstractExpandedDecoder=qe,e.ArgumentException=u,e.ArithmeticException=J,e.AztecCode=Fr,e.AztecCodeReader=ve,e.AztecCodeWriter=on,e.AztecDecoder=ae,e.AztecDetector=ge,e.AztecDetectorResult=le,e.AztecEncoder=an,e.AztecHighLevelEncoder=nn,e.AztecPoint=me,e.BarcodeFormat=V,e.Binarizer=p,e.BinaryBitmap=f,e.BitArray=y,e.BitMatrix=I,e.BitSource=mt,e.BrowserAztecCodeReader=xe,e.BrowserBarcodeReader=lt,e.BrowserCodeReader=B,e.BrowserDatamatrixCodeReader=yt,e.BrowserMultiFormatReader=vr,e.BrowserPDF417Reader=xr,e.BrowserQRCodeReader=br,e.BrowserQRCodeSvgWriter=Or,e.CharacterSetECI=_,e.ChecksumException=h,e.Code128Reader=ye,e.Code39Reader=je,e.DataMatrixDecodedBitStreamParser=gt,e.DataMatrixReader=bt,e.DecodeHintType=w,e.DecoderResult=Q,e.DefaultGridSampler=he,e.DetectorResult=ce,e.EAN13Reader=Ae,e.EncodeHintType=jr,e.Exception=l,e.FormatException=N,e.GenericGF=ee,e.GenericGFPoly=K,e.GlobalHistogramBinarizer=T,e.GridSampler=de,e.GridSamplerInstance=pe,e.HTMLCanvasElementLuminanceSource=M,e.HybridBinarizer=P,e.ITFReader=we,e.IllegalArgumentException=d,e.IllegalStateException=re,e.InvertedLuminanceSource=D,e.LuminanceSource=k,e.MathUtils=oe,e.MultiFormatOneDReader=ct,e.MultiFormatReader=gr,e.MultiFormatWriter=Pr,e.NotFoundException=O,e.OneDReader=be,e.PDF417DecodedBitStreamParser=fr,e.PDF417DecoderErrorCorrection=Wt,e.PDF417Reader=pr,e.PDF417ResultMetadata=rr,e.PerspectiveTransform=fe,e.PlanarYUVLuminanceSource=kr,e.QRCodeByteMatrix=_r,e.QRCodeDataMask=Et,e.QRCodeDecodedBitStreamParser=Ot,e.QRCodeDecoderErrorCorrectionLevel=jt,e.QRCodeDecoderFormatInformation=wt,e.QRCodeEncoder=Ir,e.QRCodeEncoderQRCode=Cr,e.QRCodeMaskUtil=Nr,e.QRCodeMatrixUtil=Sr,e.QRCodeMode=It,e.QRCodeReader=Bt,e.QRCodeVersion=Ct,e.QRCodeWriter=Tr,e.RGBLuminanceSource=Dr,e.RSS14Reader=st,e.RSSExpandedReader=ot,e.ReaderException=mr,e.ReedSolomonDecoder=ne,e.ReedSolomonEncoder=wr,e.ReedSolomonException=te,e.Result=U,e.ResultMetadataType=$,e.ResultPoint=se,e.StringUtils=S,e.UnsupportedOperationException=C,e.VideoInputDevice=R,e.WhiteRectangleDetector=ue,e.WriterException=Er,e.ZXingArrays=x,e.ZXingCharset=Mr,e.ZXingInteger=b,e.ZXingStandardCharsets=Rr,e.ZXingStringBuilder=A,e.ZXingStringEncoding=E,e.ZXingSystem=m,e.createAbstractExpandedDecoder=rt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9302:(e,t,r)=>{var n=r(3488),a=r(6757),o=r(2865);e.exports=function(e,t){return o(a(e,t,n),e+"")}},9325:(e,t,r)=>{var n=r(4840),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},9326:(e,t,r)=>{var n=r(1769),a=r(2428),o=r(6449),i=r(361),s=r(294),c=r(7797);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var f=c(t[l]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(f,u)&&(o(e)||a(e))}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,r)=>{var n=r(4128),a=r(3805),o=r(4394),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):i.test(e)?NaN:+e}},9513:e=>{var t="(".charCodeAt(0),r=")".charCodeAt(0),n="'".charCodeAt(0),a='"'.charCodeAt(0),o="\\".charCodeAt(0),i="/".charCodeAt(0),s=",".charCodeAt(0),c=":".charCodeAt(0),l="*".charCodeAt(0);e.exports=function(e){for(var u,d,f,h,p,m,g,v,x=[],b=e,y=0,j=b.charCodeAt(y),w=b.length,N=[{nodes:x}],_=0,C="",E="",S="";y<w;)if(j<=32){u=y;do{u+=1,j=b.charCodeAt(u)}while(j<=32);h=b.slice(y,u),f=x[x.length-1],j===r&&_?S=h:f&&"div"===f.type?f.after=h:j===s||j===c||j===i&&b.charCodeAt(u+1)!==l?E=h:x.push({type:"space",sourceIndex:y,value:h}),y=u}else if(j===n||j===a){u=y,h={type:"string",sourceIndex:y,quote:d=j===n?"'":'"'};do{if(p=!1,~(u=b.indexOf(d,u+1)))for(m=u;b.charCodeAt(m-1)===o;)m-=1,p=!p;else u=(b+=d).length-1,h.unclosed=!0}while(p);h.value=b.slice(y+1,u),x.push(h),y=u+1,j=b.charCodeAt(y)}else if(j===i&&b.charCodeAt(y+1)===l)h={type:"comment",sourceIndex:y},-1===(u=b.indexOf("*/",y))&&(h.unclosed=!0,u=b.length),h.value=b.slice(y+2,u),x.push(h),y=u+2,j=b.charCodeAt(y);else if(j===i||j===s||j===c)h=b[y],x.push({type:"div",sourceIndex:y-E.length,value:h,before:E,after:""}),E="",y+=1,j=b.charCodeAt(y);else if(t===j){u=y;do{u+=1,j=b.charCodeAt(u)}while(j<=32);if(h={type:"function",sourceIndex:y-C.length,value:C,before:b.slice(y+1,u)},y=u,"url"===C&&j!==n&&j!==a){u-=1;do{if(p=!1,~(u=b.indexOf(")",u+1)))for(m=u;b.charCodeAt(m-1)===o;)m-=1,p=!p;else u=(b+=")").length-1,h.unclosed=!0}while(p);g=u;do{g-=1,j=b.charCodeAt(g)}while(j<=32);h.nodes=y!==g+1?[{type:"word",sourceIndex:y,value:b.slice(y,g+1)}]:[],h.unclosed&&g+1!==u?(h.after="",h.nodes.push({type:"space",sourceIndex:g+1,value:b.slice(g+1,u)})):h.after=b.slice(g+1,u),y=u+1,j=b.charCodeAt(y),x.push(h)}else _+=1,h.after="",x.push(h),N.push(h),x=h.nodes=[],v=h;C=""}else if(r===j&&_)y+=1,j=b.charCodeAt(y),v.after=S,S="",_-=1,N.pop(),x=(v=N[_]).nodes;else{u=y;do{j===o&&(u+=1),u+=1,j=b.charCodeAt(u)}while(u<w&&!(j<=32||j===n||j===a||j===s||j===c||j===i||j===t||j===r&&_));h=b.slice(y,u),t===j?C=h:x.push({type:"word",sourceIndex:y,value:h}),y=u}for(y=N.length-1;y;y-=1)N[y].unclosed=!0;return N[0].nodes}},9516:(e,t,r)=>{"use strict";var n=r(9012),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,a){e[a]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9570:(e,t,r)=>{var n=r(7334),a=r(3243),o=r(3488),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=i},9615:(e,t,r)=>{"use strict";var n=r(9137),a=r(4680);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},9747:(e,t,r)=>{var n=r(7277),a=r(3777),o=r(5389),i=r(6449),s=r(6800);e.exports=function(e,t,r){var c=i(e)?n:a;return r&&s(e,t,r)&&(t=void 0),c(e,o(t,3))}},9770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}},9790:(e,t,r)=>{"use strict";var n=s(r(8514)),a=s(r(1369)),o=s(r(2312)),i=s(r(495));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:o.default,ReplaceTransition:a.default,CSSTransition:n.default}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9843:e=>{e.exports=function(e){return null==e}},9905:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},9935:e=>{e.exports=function(){return!1}},9982:(e,t,r)=>{"use strict";e.exports=r(7463)}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={326:0,698:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,s,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[698],(()=>n(8289)));a=n.O(a)})();